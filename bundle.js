(()=>{var e,t,n,r,s,i,o,a={8138:(e,t,n)=>{"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},7038:e=>{var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},5843:e=>{var t=function(e){null==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,e.constructor==Array?this.init_by_array(e,e.length):this.init_seed(e)};t.prototype.init_seed=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},t.prototype.init_by_array=function(e,t){var n,r,s;for(this.init_seed(19650218),n=1,r=0,s=this.N>t?this.N:t;s;s--){var i=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1664525*((4294901760&i)>>>16)<<16)+1664525*(65535&i))+e[r]+r,this.mt[n]>>>=0,r++,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),r>=t&&(r=0)}for(s=this.N-1;s;s--){i=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1566083941*((4294901760&i)>>>16)<<16)+1566083941*(65535&i))-n,this.mt[n]>>>=0,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1)}this.mt[0]=2147483648},t.prototype.random_int=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_seed(5489),n=0;n<this.N-this.M;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^e>>>1^t[1&e];for(;n<this.N-1;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},t.prototype.random_int31=function(){return this.random_int()>>>1},t.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},t.prototype.random=function(){return this.random_int()*(1/4294967296)},t.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},t.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)},e.exports=t},6081:(e,t,n)=>{var r;if("object"==typeof globalThis)r=globalThis;else try{r=n(7038)}catch(e){}finally{if(r||"undefined"==typeof window||(r=window),!r)throw new Error("Could not determine global this")}var s=r.WebSocket||r.MozWebSocket,i=n(5373);function o(e,t){return t?new s(e,t):new s(e)}s&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return s[e]}})})),e.exports={w3cwebsocket:s?o:null,version:i}},5373:(e,t,n)=>{e.exports=n(9050).version},8099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7117);function s(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function l(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function u(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),u(e/4294967296>>>0,t,n),u(e>>>0,t,n+4),t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),h(e>>>0,t,n),h(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=s,t.writeInt16BE=s,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=o,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=l,t.writeUint32BE=u,t.writeInt32BE=u,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=o(e,t),r=o(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=l(e,t);return 4294967296*l(e,t+4)+n},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=f,t.writeInt64LE=f,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,s=1,i=e/8+n-1;i>=n;i--)r+=t[i]*s,s*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,s=1,i=n;i<n+e/8;i++)r+=t[i]*s,s*=256;return r},t.writeUintBE=function(e,t,n,s){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===s&&(s=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,o=e/8+s-1;o>=s;o--)n[o]=t/i&255,i*=256;return n},t.writeUintLE=function(e,t,n,s){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===s&&(s=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,o=s;o<s+e/8;o++)n[o]=t/i&255,i*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},5439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),s=n(7309),i=20;function o(e,t,n){for(var s=1634760805,o=857760878,a=2036477234,c=1797285236,l=n[3]<<24|n[2]<<16|n[1]<<8|n[0],u=n[7]<<24|n[6]<<16|n[5]<<8|n[4],h=n[11]<<24|n[10]<<16|n[9]<<8|n[8],d=n[15]<<24|n[14]<<16|n[13]<<8|n[12],f=n[19]<<24|n[18]<<16|n[17]<<8|n[16],p=n[23]<<24|n[22]<<16|n[21]<<8|n[20],g=n[27]<<24|n[26]<<16|n[25]<<8|n[24],m=n[31]<<24|n[30]<<16|n[29]<<8|n[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],b=t[7]<<24|t[6]<<16|t[5]<<8|t[4],w=t[11]<<24|t[10]<<16|t[9]<<8|t[8],v=t[15]<<24|t[14]<<16|t[13]<<8|t[12],A=s,E=o,k=a,P=c,x=l,_=u,C=h,S=d,O=f,I=p,T=g,N=m,U=y,j=b,R=w,L=v,B=0;B<i;B+=2)x=(x^=O=O+(U=(U^=A=A+x|0)>>>16|U<<16)|0)>>>20|x<<12,_=(_^=I=I+(j=(j^=E=E+_|0)>>>16|j<<16)|0)>>>20|_<<12,C=(C^=T=T+(R=(R^=k=k+C|0)>>>16|R<<16)|0)>>>20|C<<12,S=(S^=N=N+(L=(L^=P=P+S|0)>>>16|L<<16)|0)>>>20|S<<12,C=(C^=T=T+(R=(R^=k=k+C|0)>>>24|R<<8)|0)>>>25|C<<7,S=(S^=N=N+(L=(L^=P=P+S|0)>>>24|L<<8)|0)>>>25|S<<7,_=(_^=I=I+(j=(j^=E=E+_|0)>>>24|j<<8)|0)>>>25|_<<7,x=(x^=O=O+(U=(U^=A=A+x|0)>>>24|U<<8)|0)>>>25|x<<7,_=(_^=T=T+(L=(L^=A=A+_|0)>>>16|L<<16)|0)>>>20|_<<12,C=(C^=N=N+(U=(U^=E=E+C|0)>>>16|U<<16)|0)>>>20|C<<12,S=(S^=O=O+(j=(j^=k=k+S|0)>>>16|j<<16)|0)>>>20|S<<12,x=(x^=I=I+(R=(R^=P=P+x|0)>>>16|R<<16)|0)>>>20|x<<12,S=(S^=O=O+(j=(j^=k=k+S|0)>>>24|j<<8)|0)>>>25|S<<7,x=(x^=I=I+(R=(R^=P=P+x|0)>>>24|R<<8)|0)>>>25|x<<7,C=(C^=N=N+(U=(U^=E=E+C|0)>>>24|U<<8)|0)>>>25|C<<7,_=(_^=T=T+(L=(L^=A=A+_|0)>>>24|L<<8)|0)>>>25|_<<7;r.writeUint32LE(A+s|0,e,0),r.writeUint32LE(E+o|0,e,4),r.writeUint32LE(k+a|0,e,8),r.writeUint32LE(P+c|0,e,12),r.writeUint32LE(x+l|0,e,16),r.writeUint32LE(_+u|0,e,20),r.writeUint32LE(C+h|0,e,24),r.writeUint32LE(S+d|0,e,28),r.writeUint32LE(O+f|0,e,32),r.writeUint32LE(I+p|0,e,36),r.writeUint32LE(T+g|0,e,40),r.writeUint32LE(N+m|0,e,44),r.writeUint32LE(U+y|0,e,48),r.writeUint32LE(j+b|0,e,52),r.writeUint32LE(R+w|0,e,56),r.writeUint32LE(L+v|0,e,60)}function a(e,t,n,r,i){if(void 0===i&&(i=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var a,l;if(0===i){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");l=(a=new Uint8Array(16)).length-t.length,a.set(t,l)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");a=t,l=i}for(var u=new Uint8Array(64),h=0;h<n.length;h+=64){o(u,a,e);for(var d=h;d<h+64&&d<n.length;d++)r[d]=n[d]^u[d-h];c(a,0,l)}return s.wipe(u),0===i&&s.wipe(a),r}function c(e,t,n){for(var r=1;n--;)r=r+(255&e[t])|0,e[t]=255&r,r>>>=8,t++;if(r>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=a,t.stream=function(e,t,n,r){return void 0===r&&(r=0),s.wipe(n),a(e,t,n,n,r)}},5501:(e,t,n)=>{"use strict";var r=n(5439),s=n(3027),i=n(7309),o=n(8099),a=n(4153);t.Cv=32,t.WH=12,t.pg=16;var c=new Uint8Array(16),l=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,s){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var a=new Uint8Array(32);r.stream(this._key,o,a,4);var c,l=t.length+this.tagLength;if(s){if(s.length!==l)throw new Error("ChaCha20Poly1305: incorrect destination length");c=s}else c=new Uint8Array(l);return r.streamXOR(this._key,o,t,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),n),i.wipe(o),c},e.prototype.open=function(e,t,n,s){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(e,o.length-e.length);var c=new Uint8Array(32);r.stream(this._key,o,c,4);var l=new Uint8Array(this.tagLength);if(this._authenticate(l,c,t.subarray(0,t.length-this.tagLength),n),!a.equal(l,t.subarray(t.length-this.tagLength,t.length)))return null;var u,h=t.length-this.tagLength;if(s){if(s.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");u=s}else u=new Uint8Array(h);return r.streamXOR(this._key,o,t.subarray(0,t.length-this.tagLength),u,4),i.wipe(o),u},e.prototype.clean=function(){return i.wipe(this._key),this},e.prototype._authenticate=function(e,t,n,r){var a=new s.Poly1305(t);r&&(a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16))),a.update(n),n.length%16>0&&a.update(c.subarray(n.length%16));var l=new Uint8Array(8);r&&o.writeUint64LE(r.length,l),a.update(l),o.writeUint64LE(n.length,l),a.update(l);for(var u=a.digest(),h=0;h<u.length;h++)e[h]=u[h];a.clean(),i.wipe(u),i.wipe(l)},e}();t.OK=l},4153:(e,t)=>{"use strict";function n(e,t){if(e.length!==t.length)return 0;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 1&n-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,n){return~(e-1)&t|e-1&n},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=n,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==n(e,t)}},9984:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},512:(e,t,n)=>{"use strict";var r=n(5629),s=n(7309),i=function(){function e(e,t,n,s){void 0===n&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=s;var i=r.hmac(this._hash,n,t);this._hmac=new r.HMAC(e,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),s.wipe(this._buffer),s.wipe(this._counter),this._bufpos=0},e}();t.t=i},5629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9984),s=n(4153),i=n(7309),o=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var s=0;s<n.length;s++)n[s]^=54;this._inner.update(n);for(s=0;s<n.length;s++)n[s]^=106;this._outer.update(n),r.isSerializableHash(this._inner)&&r.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),i.wipe(n)}return e.prototype.reset=function(){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){r.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),r.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=o,t.hmac=function(e,t,n){var r=new o(e,t);r.update(n);var s=r.digest();return r.clean(),s},t.equal=s.equal},7117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},3027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4153),s=n(7309);t.DIGEST_LENGTH=16;var i=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=8191&n;var r=e[2]|e[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var s=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|s<<6);var i=e[6]|e[7]<<8;this._r[3]=8191&(s>>>7|i<<9);var o=e[8]|e[9]<<8;this._r[4]=255&(i>>>4|o<<12),this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(o>>>14|a<<2);var c=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var l=e[14]|e[15]<<8;this._r[8]=8191&(c>>>8|l<<8),this._r[9]=l>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,n){for(var r=this._fin?0:2048,s=this._h[0],i=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],l=this._h[5],u=this._h[6],h=this._h[7],d=this._h[8],f=this._h[9],p=this._r[0],g=this._r[1],m=this._r[2],y=this._r[3],b=this._r[4],w=this._r[5],v=this._r[6],A=this._r[7],E=this._r[8],k=this._r[9];n>=16;){var P=e[t+0]|e[t+1]<<8;s+=8191&P;var x=e[t+2]|e[t+3]<<8;i+=8191&(P>>>13|x<<3);var _=e[t+4]|e[t+5]<<8;o+=8191&(x>>>10|_<<6);var C=e[t+6]|e[t+7]<<8;a+=8191&(_>>>7|C<<9);var S=e[t+8]|e[t+9]<<8;c+=8191&(C>>>4|S<<12),l+=S>>>1&8191;var O=e[t+10]|e[t+11]<<8;u+=8191&(S>>>14|O<<2);var I=e[t+12]|e[t+13]<<8;h+=8191&(O>>>11|I<<5);var T=e[t+14]|e[t+15]<<8,N=0,U=N;U+=s*p,U+=i*(5*k),U+=o*(5*E),U+=a*(5*A),N=(U+=c*(5*v))>>>13,U&=8191,U+=l*(5*w),U+=u*(5*b),U+=h*(5*y),U+=(d+=8191&(I>>>8|T<<8))*(5*m);var j=N+=(U+=(f+=T>>>5|r)*(5*g))>>>13;j+=s*g,j+=i*p,j+=o*(5*k),j+=a*(5*E),N=(j+=c*(5*A))>>>13,j&=8191,j+=l*(5*v),j+=u*(5*w),j+=h*(5*b),j+=d*(5*y),N+=(j+=f*(5*m))>>>13,j&=8191;var R=N;R+=s*m,R+=i*g,R+=o*p,R+=a*(5*k),N=(R+=c*(5*E))>>>13,R&=8191,R+=l*(5*A),R+=u*(5*v),R+=h*(5*w),R+=d*(5*b);var L=N+=(R+=f*(5*y))>>>13;L+=s*y,L+=i*m,L+=o*g,L+=a*p,N=(L+=c*(5*k))>>>13,L&=8191,L+=l*(5*E),L+=u*(5*A),L+=h*(5*v),L+=d*(5*w);var B=N+=(L+=f*(5*b))>>>13;B+=s*b,B+=i*y,B+=o*m,B+=a*g,N=(B+=c*p)>>>13,B&=8191,B+=l*(5*k),B+=u*(5*E),B+=h*(5*A),B+=d*(5*v);var F=N+=(B+=f*(5*w))>>>13;F+=s*w,F+=i*b,F+=o*y,F+=a*m,N=(F+=c*g)>>>13,F&=8191,F+=l*p,F+=u*(5*k),F+=h*(5*E),F+=d*(5*A);var D=N+=(F+=f*(5*v))>>>13;D+=s*v,D+=i*w,D+=o*b,D+=a*y,N=(D+=c*m)>>>13,D&=8191,D+=l*g,D+=u*p,D+=h*(5*k),D+=d*(5*E);var M=N+=(D+=f*(5*A))>>>13;M+=s*A,M+=i*v,M+=o*w,M+=a*b,N=(M+=c*y)>>>13,M&=8191,M+=l*m,M+=u*g,M+=h*p,M+=d*(5*k);var $=N+=(M+=f*(5*E))>>>13;$+=s*E,$+=i*A,$+=o*v,$+=a*w,N=($+=c*b)>>>13,$&=8191,$+=l*y,$+=u*m,$+=h*g,$+=d*p;var G=N+=($+=f*(5*k))>>>13;G+=s*k,G+=i*E,G+=o*A,G+=a*v,N=(G+=c*w)>>>13,G&=8191,G+=l*b,G+=u*y,G+=h*m,G+=d*g,s=U=8191&(N=(N=((N+=(G+=f*p)>>>13)<<2)+N|0)+(U&=8191)|0),i=j+=N>>>=13,o=R&=8191,a=L&=8191,c=B&=8191,l=F&=8191,u=D&=8191,h=M&=8191,d=$&=8191,f=G&=8191,t+=16,n-=16}this._h[0]=s,this._h[1]=i,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=l,this._h[6]=u,this._h[7]=h,this._h[8]=d,this._h[9]=f},e.prototype.finish=function(e,t){void 0===t&&(t=0);var n,r,s,i,o=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=n,n=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,o[0]=this._h[0]+5,n=o[0]>>>13,o[0]&=8191,i=1;i<10;i++)o[i]=this._h[i]+n,n=o[i]>>>13,o[i]&=8191;for(o[9]-=8192,r=(1^n)-1,i=0;i<10;i++)o[i]&=r;for(r=~r,i=0;i<10;i++)this._h[i]=this._h[i]&r|o[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),s=this._h[0]+this._pad[0],this._h[0]=65535&s,i=1;i<8;i++)s=(this._h[i]+this._pad[i]|0)+(s>>>16)|0,this._h[i]=65535&s;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,n=0,r=e.length;if(this._leftover){(t=16-this._leftover)>r&&(t=r);for(var s=0;s<t;s++)this._buffer[this._leftover+s]=e[n+s];if(r-=t,n+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(t=r-r%16,this._blocks(e,n,t),n+=t,r-=t),r){for(s=0;s<r;s++)this._buffer[this._leftover+s]=e[n+s];this._leftover+=r}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return s.wipe(this._buffer),s.wipe(this._r),s.wipe(this._h),s.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=i,t.oneTimeAuth=function(e,t){var n=new i(e);n.update(t);var r=n.digest();return n.clean(),r},t.equal=function(e,n){return e.length===t.DIGEST_LENGTH&&n.length===t.DIGEST_LENGTH&&r.equal(e,n)}},1416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const r=n(6008),s=n(8099),i=n(7309);function o(e,n=t.defaultRandomSource){return n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=o,t.randomUint32=function(e=t.defaultRandomSource){const n=o(4,e),r=(0,s.readUint32LE)(n);return(0,i.wipe)(n),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,n=a,r=t.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let s="";const c=n.length,l=256-256%c;for(;e>0;){const t=o(Math.ceil(256*e/l),r);for(let r=0;r<t.length&&e>0;r++){const i=t[r];i<l&&(s+=n.charAt(i%c),e--)}(0,i.wipe)(t)}return s}t.randomString=c,t.randomStringForEntropy=function(e,n=a,r=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},5455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}},8871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(7309);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let e=0;e<n.length;e++)n[e]=t[e];return(0,r.wipe)(t),n}}},6008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(5455),s=n(8871);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new s.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},3294:(e,t,n)=>{"use strict";var r=n(8099),s=n(7309);t.k=32,t.cn=64;var i=function(){function e(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){s.wipe(this._buffer),s.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=a(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,s=t/536870912|0,i=t<<3,o=t%64<56?64:128;this._buffer[n]=128;for(var c=n+1;c<o-8;c++)this._buffer[c]=0;r.writeUint32BE(s,this._buffer,o-8),r.writeUint32BE(i,this._buffer,o-4),a(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/4;c++)r.writeUint32BE(this._state[c],e,4*c);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){s.wipe(e.state),e.buffer&&s.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.mE=i;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,n,s,i){for(;i>=64;){for(var a=t[0],c=t[1],l=t[2],u=t[3],h=t[4],d=t[5],f=t[6],p=t[7],g=0;g<16;g++){var m=s+4*g;e[g]=r.readUint32BE(n,m)}for(g=16;g<64;g++){var y=e[g-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,w=((y=e[g-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;e[g]=(b+e[g-7]|0)+(w+e[g-16]|0)}for(g=0;g<64;g++){b=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&f)|0)+(p+(o[g]+e[g]|0)|0)|0,w=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&l^c&l)|0;p=f,f=d,d=h,h=u+b|0,u=l,l=c,c=a,a=b+w|0}t[0]+=a,t[1]+=c,t[2]+=l,t[3]+=u,t[4]+=h,t[5]+=d,t[6]+=f,t[7]+=p,s+=64,i-=64}return s}t.vp=function(e){var t=new i;t.update(e);var n=t.digest();return t.clean(),n}},7309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},7664:(e,t,n)=>{"use strict";t.gi=t.Au=t.KS=t.kz=void 0;const r=n(1416),s=n(7309);function i(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.kz=32,t.KS=32;const o=new Uint8Array(32);o[0]=9;const a=i([56129,1]);function c(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function l(e,t,n){const r=~(n-1);for(let n=0;n<16;n++){const s=r&(e[n]^t[n]);e[n]^=s,t[n]^=s}}function u(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function h(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function d(e,t,n){let r,s,i=0,o=0,a=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0,g=0,m=0,y=0,b=0,w=0,v=0,A=0,E=0,k=0,P=0,x=0,_=0,C=0,S=0,O=0,I=0,T=0,N=0,U=0,j=0,R=0,L=n[0],B=n[1],F=n[2],D=n[3],M=n[4],$=n[5],G=n[6],H=n[7],z=n[8],W=n[9],q=n[10],K=n[11],V=n[12],J=n[13],Q=n[14],Y=n[15];r=t[0],i+=r*L,o+=r*B,a+=r*F,c+=r*D,l+=r*M,u+=r*$,h+=r*G,d+=r*H,f+=r*z,p+=r*W,g+=r*q,m+=r*K,y+=r*V,b+=r*J,w+=r*Q,v+=r*Y,r=t[1],o+=r*L,a+=r*B,c+=r*F,l+=r*D,u+=r*M,h+=r*$,d+=r*G,f+=r*H,p+=r*z,g+=r*W,m+=r*q,y+=r*K,b+=r*V,w+=r*J,v+=r*Q,A+=r*Y,r=t[2],a+=r*L,c+=r*B,l+=r*F,u+=r*D,h+=r*M,d+=r*$,f+=r*G,p+=r*H,g+=r*z,m+=r*W,y+=r*q,b+=r*K,w+=r*V,v+=r*J,A+=r*Q,E+=r*Y,r=t[3],c+=r*L,l+=r*B,u+=r*F,h+=r*D,d+=r*M,f+=r*$,p+=r*G,g+=r*H,m+=r*z,y+=r*W,b+=r*q,w+=r*K,v+=r*V,A+=r*J,E+=r*Q,k+=r*Y,r=t[4],l+=r*L,u+=r*B,h+=r*F,d+=r*D,f+=r*M,p+=r*$,g+=r*G,m+=r*H,y+=r*z,b+=r*W,w+=r*q,v+=r*K,A+=r*V,E+=r*J,k+=r*Q,P+=r*Y,r=t[5],u+=r*L,h+=r*B,d+=r*F,f+=r*D,p+=r*M,g+=r*$,m+=r*G,y+=r*H,b+=r*z,w+=r*W,v+=r*q,A+=r*K,E+=r*V,k+=r*J,P+=r*Q,x+=r*Y,r=t[6],h+=r*L,d+=r*B,f+=r*F,p+=r*D,g+=r*M,m+=r*$,y+=r*G,b+=r*H,w+=r*z,v+=r*W,A+=r*q,E+=r*K,k+=r*V,P+=r*J,x+=r*Q,_+=r*Y,r=t[7],d+=r*L,f+=r*B,p+=r*F,g+=r*D,m+=r*M,y+=r*$,b+=r*G,w+=r*H,v+=r*z,A+=r*W,E+=r*q,k+=r*K,P+=r*V,x+=r*J,_+=r*Q,C+=r*Y,r=t[8],f+=r*L,p+=r*B,g+=r*F,m+=r*D,y+=r*M,b+=r*$,w+=r*G,v+=r*H,A+=r*z,E+=r*W,k+=r*q,P+=r*K,x+=r*V,_+=r*J,C+=r*Q,S+=r*Y,r=t[9],p+=r*L,g+=r*B,m+=r*F,y+=r*D,b+=r*M,w+=r*$,v+=r*G,A+=r*H,E+=r*z,k+=r*W,P+=r*q,x+=r*K,_+=r*V,C+=r*J,S+=r*Q,O+=r*Y,r=t[10],g+=r*L,m+=r*B,y+=r*F,b+=r*D,w+=r*M,v+=r*$,A+=r*G,E+=r*H,k+=r*z,P+=r*W,x+=r*q,_+=r*K,C+=r*V,S+=r*J,O+=r*Q,I+=r*Y,r=t[11],m+=r*L,y+=r*B,b+=r*F,w+=r*D,v+=r*M,A+=r*$,E+=r*G,k+=r*H,P+=r*z,x+=r*W,_+=r*q,C+=r*K,S+=r*V,O+=r*J,I+=r*Q,T+=r*Y,r=t[12],y+=r*L,b+=r*B,w+=r*F,v+=r*D,A+=r*M,E+=r*$,k+=r*G,P+=r*H,x+=r*z,_+=r*W,C+=r*q,S+=r*K,O+=r*V,I+=r*J,T+=r*Q,N+=r*Y,r=t[13],b+=r*L,w+=r*B,v+=r*F,A+=r*D,E+=r*M,k+=r*$,P+=r*G,x+=r*H,_+=r*z,C+=r*W,S+=r*q,O+=r*K,I+=r*V,T+=r*J,N+=r*Q,U+=r*Y,r=t[14],w+=r*L,v+=r*B,A+=r*F,E+=r*D,k+=r*M,P+=r*$,x+=r*G,_+=r*H,C+=r*z,S+=r*W,O+=r*q,I+=r*K,T+=r*V,N+=r*J,U+=r*Q,j+=r*Y,r=t[15],v+=r*L,A+=r*B,E+=r*F,k+=r*D,P+=r*M,x+=r*$,_+=r*G,C+=r*H,S+=r*z,O+=r*W,I+=r*q,T+=r*K,N+=r*V,U+=r*J,j+=r*Q,R+=r*Y,i+=38*A,o+=38*E,a+=38*k,c+=38*P,l+=38*x,u+=38*_,h+=38*C,d+=38*S,f+=38*O,p+=38*I,g+=38*T,m+=38*N,y+=38*U,b+=38*j,w+=38*R,s=1,r=i+s+65535,s=Math.floor(r/65536),i=r-65536*s,r=o+s+65535,s=Math.floor(r/65536),o=r-65536*s,r=a+s+65535,s=Math.floor(r/65536),a=r-65536*s,r=c+s+65535,s=Math.floor(r/65536),c=r-65536*s,r=l+s+65535,s=Math.floor(r/65536),l=r-65536*s,r=u+s+65535,s=Math.floor(r/65536),u=r-65536*s,r=h+s+65535,s=Math.floor(r/65536),h=r-65536*s,r=d+s+65535,s=Math.floor(r/65536),d=r-65536*s,r=f+s+65535,s=Math.floor(r/65536),f=r-65536*s,r=p+s+65535,s=Math.floor(r/65536),p=r-65536*s,r=g+s+65535,s=Math.floor(r/65536),g=r-65536*s,r=m+s+65535,s=Math.floor(r/65536),m=r-65536*s,r=y+s+65535,s=Math.floor(r/65536),y=r-65536*s,r=b+s+65535,s=Math.floor(r/65536),b=r-65536*s,r=w+s+65535,s=Math.floor(r/65536),w=r-65536*s,r=v+s+65535,s=Math.floor(r/65536),v=r-65536*s,i+=s-1+37*(s-1),s=1,r=i+s+65535,s=Math.floor(r/65536),i=r-65536*s,r=o+s+65535,s=Math.floor(r/65536),o=r-65536*s,r=a+s+65535,s=Math.floor(r/65536),a=r-65536*s,r=c+s+65535,s=Math.floor(r/65536),c=r-65536*s,r=l+s+65535,s=Math.floor(r/65536),l=r-65536*s,r=u+s+65535,s=Math.floor(r/65536),u=r-65536*s,r=h+s+65535,s=Math.floor(r/65536),h=r-65536*s,r=d+s+65535,s=Math.floor(r/65536),d=r-65536*s,r=f+s+65535,s=Math.floor(r/65536),f=r-65536*s,r=p+s+65535,s=Math.floor(r/65536),p=r-65536*s,r=g+s+65535,s=Math.floor(r/65536),g=r-65536*s,r=m+s+65535,s=Math.floor(r/65536),m=r-65536*s,r=y+s+65535,s=Math.floor(r/65536),y=r-65536*s,r=b+s+65535,s=Math.floor(r/65536),b=r-65536*s,r=w+s+65535,s=Math.floor(r/65536),w=r-65536*s,r=v+s+65535,s=Math.floor(r/65536),v=r-65536*s,i+=s-1+37*(s-1),e[0]=i,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=m,e[12]=y,e[13]=b,e[14]=w,e[15]=v}function f(e,t){d(e,t,t)}function p(e,t){const n=new Uint8Array(32),r=new Float64Array(80),s=i(),o=i(),p=i(),g=i(),m=i(),y=i();for(let t=0;t<31;t++)n[t]=e[t];n[31]=127&e[31]|64,n[0]&=248,function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(r,t);for(let e=0;e<16;e++)o[e]=r[e];s[0]=g[0]=1;for(let e=254;e>=0;--e){const t=n[e>>>3]>>>(7&e)&1;l(s,o,t),l(p,g,t),u(m,s,p),h(s,s,p),u(p,o,g),h(o,o,g),f(g,m),f(y,s),d(s,p,s),d(p,o,m),u(m,s,p),h(s,s,p),f(o,s),h(p,g,y),d(s,p,a),u(s,s,g),d(p,p,s),d(s,g,y),d(g,o,r),f(o,m),l(s,o,t),l(p,g,t)}for(let e=0;e<16;e++)r[e+16]=s[e],r[e+32]=p[e],r[e+48]=o[e],r[e+64]=g[e];const b=r.subarray(32),w=r.subarray(16);!function(e,t){const n=i();for(let e=0;e<16;e++)n[e]=t[e];for(let e=253;e>=0;e--)f(n,n),2!==e&&4!==e&&d(n,n,t);for(let t=0;t<16;t++)e[t]=n[t]}(b,b),d(w,w,b);const v=new Uint8Array(32);return function(e,t){const n=i(),r=i();for(let e=0;e<16;e++)r[e]=t[e];c(r),c(r),c(r);for(let e=0;e<2;e++){n[0]=r[0]-65517;for(let e=1;e<15;e++)n[e]=r[e]-65535-(n[e-1]>>16&1),n[e-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,l(r,n,1-e)}for(let t=0;t<16;t++)e[2*t]=255&r[t],e[2*t+1]=r[t]>>8}(v,w),v}function g(e){return p(e,o)}function m(e){if(e.length!==t.KS)throw new Error(`x25519: seed must be ${t.KS} bytes`);const n=new Uint8Array(e);return{publicKey:g(n),secretKey:n}}t.Au=function(e){const t=(0,r.randomBytes)(32,e),n=m(t);return(0,s.wipe)(t),n},t.gi=function(e,n,r=!1){if(e.length!==t.kz)throw new Error("X25519: incorrect secret key length");if(n.length!==t.kz)throw new Error("X25519: incorrect public key length");const s=p(e,n);if(r){let e=0;for(let t=0;t<s.length;t++)e|=s[t];if(0===e)throw new Error("X25519: invalid shared key")}return s}},1882:()=>{},6900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);r.__exportStar(n(6869),t),r.__exportStar(n(8033),t)},6869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},8033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},6736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);r.__exportStar(n(4273),t),r.__exportStar(n(7001),t),r.__exportStar(n(2939),t),r.__exportStar(n(6900),t)},2939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(4).__exportStar(n(8766),t)},8766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},3207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(6900);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},3873:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}},4273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);r.__exportStar(n(3873),t),r.__exportStar(n(3207),t)},7001:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(void 0!==t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if(void 0===t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},4:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>A,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>_,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>s,__generator:()=>h,__importDefault:()=>P,__importStar:()=>k,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},i.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function a(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=s[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:s?s(t):t}:s}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,s,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},9795:(e,t,n)=>{"use strict";n.d(t,{AW:()=>j,O6:()=>Gt,rV:()=>F,gn:()=>_e,H1:()=>ve,hF:()=>Ae,WG:()=>V,pe:()=>Q,m$:()=>W,vB:()=>Y,HI:()=>J,E0:()=>Se,Gq:()=>Pe,$0:()=>me,Z4:()=>ke,Bv:()=>He,Au:()=>H,jd:()=>z,gu:()=>T,D:()=>pe,Z7:()=>ot,cO:()=>Ue,_H:()=>Ne,fc:()=>et,D6:()=>at,Hh:()=>Ie,Ym:()=>q,rj:()=>K,jU:()=>de,gp:()=>tt,rF:()=>Lt,Bw:()=>Ce,UG:()=>ue,Gg:()=>Dt,xW:()=>mt,b$:()=>he,Ih:()=>ft,h1:()=>yt,Q8:()=>ee,o8:()=>ut,qt:()=>ct,Dd:()=>bt,$t:()=>Ot,nf:()=>Nt,Q0:()=>Ct,in:()=>Pt,p8:()=>Ut,sI:()=>Rt,al:()=>jt,L5:()=>lt,EJ:()=>St,Z2:()=>xt,PM:()=>_t,hH:()=>It,ON:()=>Ft,n:()=>kt,JT:()=>Tt,M_:()=>ht,jv:()=>gt,KC:()=>be,eG:()=>Oe,fK:()=>rt,IP:()=>we,DQ:()=>I,iP:()=>xe,M:()=>nt,he:()=>$e,uw:()=>Mt,Ll:()=>Z,EN:()=>X});var r=n(5501),s=n(512),i=n(1416),o=n(3294),a=n(7664),c=n(7466),l=n(4155),u=function(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},h=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},d=function(e){this.version=e,this.type="node",this.name="node",this.os=l.platform},f=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},p=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},g=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},m=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,y=3,b=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function v(e){return e?E(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new g:"undefined"!=typeof navigator?E(navigator.userAgent):void 0!==l&&l.version?new d(l.version.slice(1)):null}function A(e){return""!==e&&b.reduce((function(t,n){var r=n[0],s=n[1];if(t)return t;var i=s.exec(e);return!!i&&[r,i]}),!1)}function E(e){var t=A(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new p;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<y&&(s=u(u([],s,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(y-s.length),!0)):s=[];var i=s.join("."),o=function(e){for(var t=0,n=w.length;t<n;t++){var r=w[t],s=r[0];if(r[1].exec(e))return s}return null}(e),a=m.exec(e);return a&&a[1]?new f(n,i,o,a[1]):new h(n,i,o)}var k=n(6736),P=n(2873),x=n(5755),_=n(6151);n(1882);const C={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var S=n(4155);const O=":";function I(e){const[t,n]=e.split(O);return{namespace:t,reference:n}}function T(e,t=[]){const n=[];return Object.keys(e).forEach((r=>{if(t.length&&!t.includes(r))return;const s=e[r];n.push(...s.accounts)})),n}function N(e,t){return e.includes(":")?[e]:t.chains||[]}const U="base10",j="base16",R="base64pad",L="utf8",B=0,F=1,D=0,M=1,$=12,G=32;function H(){const e=a.Au();return{privateKey:(0,c.BB)(e.secretKey,j),publicKey:(0,c.BB)(e.publicKey,j)}}function z(){const e=(0,i.randomBytes)(G);return(0,c.BB)(e,j)}function W(e,t){const n=a.gi((0,c.mL)(e,j),(0,c.mL)(t,j),!0),r=new s.t(o.mE,n).expand(G);return(0,c.BB)(r,j)}function q(e){const t=(0,o.vp)((0,c.mL)(e,j));return(0,c.BB)(t,j)}function K(e){const t=(0,o.vp)((0,c.mL)(e,L));return(0,c.BB)(t,j)}function V(e){return Number((0,c.BB)(e,U))}function J(e){const t=function(e){return(0,c.mL)(`${e}`,U)}(typeof e.type<"u"?e.type:B);if(V(t)===F&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?(0,c.mL)(e.senderPublicKey,j):void 0,s=typeof e.iv<"u"?(0,c.mL)(e.iv,j):(0,i.randomBytes)($);return function(e){if(V(e.type)===F){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,c.BB)((0,c.zo)([e.type,e.senderPublicKey,e.iv,e.sealed]),R)}return(0,c.BB)((0,c.zo)([e.type,e.iv,e.sealed]),R)}({type:t,sealed:new r.OK((0,c.mL)(e.symKey,j)).seal(s,(0,c.mL)(e.message,L)),iv:s,senderPublicKey:n})}function Q(e){const t=new r.OK((0,c.mL)(e.symKey,j)),{sealed:n,iv:s}=Y(e.encoded),i=t.open(s,n);if(null===i)throw new Error("Failed to decrypt");return(0,c.BB)(i,L)}function Y(e){const t=(0,c.mL)(e,R),n=t.slice(D,M),r=M;if(V(n)===F){const e=r+G,s=e+$,i=t.slice(r,e),o=t.slice(e,s);return{type:n,sealed:t.slice(s),iv:o,senderPublicKey:i}}const s=r+$,i=t.slice(r,s);return{type:n,sealed:t.slice(s),iv:i}}function Z(e,t){const n=Y(e);return X({type:V(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,c.BB)(n.senderPublicKey,j):void 0,receiverPublicKey:t?.receiverPublicKey})}function X(e){const t=e?.type||B;if(t===F){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function ee(e){return e.type===F&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var te=Object.defineProperty,ne=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,ie=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oe=(e,t)=>{for(var n in t||(t={}))re.call(t,n)&&ie(e,n,t[n]);if(ne)for(var n of ne(t))se.call(t,n)&&ie(e,n,t[n]);return e};const ae="ReactNative",ce={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},le="js";function ue(){return typeof S<"u"&&typeof S.versions<"u"&&typeof S.versions.node<"u"}function he(){return!(0,P.getDocument)()&&!!(0,P.getNavigator)()&&navigator.product===ae}function de(){return!ue()&&!!(0,P.getNavigator)()}function fe(){return he()?ce.reactNative:ue()?ce.node:de()?ce.browser:ce.unknown}function pe(){return(0,x.D)()||{name:"",description:"",url:"",icons:[""]}}function ge(e,t,r){const s=function(){if(fe()===ce.reactNative&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){const{OS:e,Version:t}=n.g.Platform;return[e,t].join("-")}const e=v();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),i=function(){var e;const t=fe();return t===ce.browser?[t,(null==(e=(0,P.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[le,r].join("-"),s,i].join("/")}function me({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o}){const a=n.split("?"),c={auth:s,ua:ge(e,t,r),projectId:i,useOnCloseEvent:o||void 0},l=function(e,t){let n=_.parse(e);return n=oe(oe({},n),t),_.stringify(n)}(a[1]||"",c);return a[0]+"?"+l}function ye(e,t){return e.filter((e=>t.includes(e))).length===e.length}function be(e){return Object.fromEntries(e.entries())}function we(e){return new Map(Object.entries(e))}function ve(e=k.FIVE_MINUTES,t){const n=(0,k.toMiliseconds)(e||k.FIVE_MINUTES);let r,s,i;return{resolve:e=>{i&&r&&(clearTimeout(i),r(e))},reject:e=>{i&&s&&(clearTimeout(i),s(e))},done:()=>new Promise(((e,o)=>{i=setTimeout((()=>{o(new Error(t))}),n),r=e,s=o}))}}function Ae(e,t,n){return new Promise((async(r,s)=>{const i=setTimeout((()=>s(new Error(n))),t);try{r(await e)}catch(e){s(e)}clearTimeout(i)}))}function Ee(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function ke(e){return Ee("topic",e)}function Pe(e){return Ee("id",e)}function xe(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}function _e(e,t){return(0,k.fromMiliseconds)((t||Date.now())+(0,k.toMiliseconds)(e))}function Ce(e){return Date.now()>=(0,k.toMiliseconds)(e)}function Se(e,t){return`${e}${t?`:${t}`:""}`}function Oe(e=[],t=[]){return[...new Set([...e,...t])]}async function Ie({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;const s="string"==typeof r?JSON.parse(r):r;let i=s?.href;if("string"!=typeof i)return;i.endsWith("/")&&(i=i.slice(0,-1));const o=`${i}/wc?requestId=${e}&sessionTopic=${t}`,a=fe();a===ce.browser?o.startsWith("https://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):a===ce.reactNative&&typeof(null==n.g?void 0:n.g.Linking)<"u"&&await n.g.Linking.openURL(o)}catch(e){console.error(e)}}const Te="irn";function Ne(e){return e?.relay||{protocol:Te}}function Ue(e){const t=C[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var je=Object.defineProperty,Re=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,Fe=(e,t,n)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,De=(e,t)=>{for(var n in t||(t={}))Le.call(t,n)&&Fe(e,n,t[n]);if(Re)for(var n of Re(t))Be.call(t,n)&&Fe(e,n,t[n]);return e};function Me(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach((t=>{if(t.startsWith(r)){const s=t.replace(r,""),i=e[t];n[s]=i}})),n}function $e(e){const t=e.indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),s=e.substring(t+1,n).split("@"),i=typeof n<"u"?e.substring(n):"",o=_.parse(i);return{protocol:r,topic:Ge(s[0]),version:parseInt(s[1],10),symKey:o.symKey,relay:Me(o)}}function Ge(e){return e.startsWith("//")?e.substring(2):e}function He(e){return`${e.protocol}:${e.topic}@${e.version}?`+_.stringify(De({symKey:e.symKey},function(e,t="-"){const n={};return Object.keys(e).forEach((r=>{const s="relay"+t+r;e[r]&&(n[s]=e[r])})),n}(e.relay)))}var ze=Object.defineProperty,We=Object.defineProperties,qe=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,Qe=(e,t,n)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ye=(e,t)=>{for(var n in t||(t={}))Ve.call(t,n)&&Qe(e,n,t[n]);if(Ke)for(var n of Ke(t))Je.call(t,n)&&Qe(e,n,t[n]);return e},Ze=(e,t)=>We(e,qe(t));function Xe(e){const t=[];return e.forEach((e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)})),t}function et(e,t){const n=Pt(e,t);if(n)throw new Error(n.message);const r={};for(const[t,n]of Object.entries(e))r[t]={methods:n.methods,events:n.events,chains:n.accounts.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))};return r}function tt(e){return e.includes(":")}function nt(e){return tt(e)?e.split(":")[0]:e}function rt(e){var t,n,r;const s={};if(!lt(e))return s;for(const[i,o]of Object.entries(e)){const e=tt(i)?[i]:o.chains,a=o.methods||[],c=o.events||[],l=nt(i);s[l]=Ze(Ye({},s[l]),{chains:Oe(e,null==(t=s[l])?void 0:t.chains),methods:Oe(a,null==(n=s[l])?void 0:n.methods),events:Oe(c,null==(r=s[l])?void 0:r.events)})}return s}const st={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},it={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ot(e,t){const{message:n,code:r}=it[e];return{message:t?`${n} ${t}`:n,code:r}}function at(e,t){const{message:n,code:r}=st[e];return{message:t?`${n} ${t}`:n,code:r}}function ct(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function lt(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function ut(e){return typeof e>"u"}function ht(e,t){return!(!t||!ut(e))||"string"==typeof e&&!!e.trim().length}function dt(e,t){return!(!t||!ut(e))||"number"==typeof e&&!isNaN(e)}function ft(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),s=Object.keys(n);let i=!0;return!!ye(s,r)&&(r.forEach((t=>{const{accounts:r,methods:s,events:o}=e.namespaces[t],a=Xe(r),c=n[t];ye(N(t,c),a)&&ye(c.methods,s)&&ye(c.events,o)||(i=!1)})),i)}function pt(e){return!(!ht(e,!1)||!e.includes(":"))&&2===e.split(":").length}function gt(e){if(ht(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function mt(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}function yt(e){return e?.topic}function bt(e,t){let n=null;return ht(e?.publicKey,!1)||(n=ot("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function wt(e){let t=!0;return ct(e)?e.length&&(t=e.every((e=>ht(e,!1)))):t=!1,t}function vt(e,t,n){let r=null;return Object.entries(e).forEach((([e,s])=>{if(r)return;const i=function(e,t,n){let r=null;return ct(t)&&t.length?t.forEach((e=>{r||pt(e)||(r=at("UNSUPPORTED_CHAINS",`${n}, chain ${e} should be a string and conform to "namespace:chainId" format`))})):pt(e)||(r=at("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(e,N(e,s),`${t} ${n}`);i&&(r=i)})),r}function At(e,t){let n=null;return ct(e)?e.forEach((e=>{n||function(e){if(ht(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&pt(e)}}return!1}(e)||(n=at("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))})):n=at("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Et(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=function(e,t){let n=null;return wt(e?.methods)?wt(e?.events)||(n=at("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=at("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}(e,`${t}, namespace`);r&&(n=r)})),n}function kt(e,t,n){let r=null;if(e&&lt(e)){const s=Et(e,t);s&&(r=s);const i=vt(e,t,n);i&&(r=i)}else r=ot("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function Pt(e,t){let n=null;if(e&&lt(e)){const r=Et(e,t);r&&(n=r);const s=function(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=At(e?.accounts,`${t} namespace`);r&&(n=r)})),n}(e,t);s&&(n=s)}else n=ot("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function xt(e){return ht(e.protocol,!0)}function _t(e,t){let n=!1;return t&&!e?n=!0:e&&ct(e)&&e.length&&e.forEach((e=>{n=xt(e)})),n}function Ct(e){return"number"==typeof e}function St(e){return typeof e<"u"&&null!==typeof e}function Ot(e){return!!(e&&"object"==typeof e&&e.code&&dt(e.code,!1)&&e.message&&ht(e.message,!1))}function It(e){return!(ut(e)||!ht(e.method,!1))}function Tt(e){return!(ut(e)||ut(e.result)&&ut(e.error)||!dt(e.id,!1)||!ht(e.jsonrpc,!1))}function Nt(e){return!(ut(e)||!ht(e.name,!1))}function Ut(e,t){return!(!pt(t)||!function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...Xe(e.accounts))})),t}(e).includes(t))}function jt(e,t,n){return!!ht(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{Xe(e.accounts).includes(t)&&n.push(...e.methods)})),n}(e,t).includes(n)}function Rt(e,t,n){return!!ht(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{Xe(e.accounts).includes(t)&&n.push(...e.events)})),n}(e,t).includes(n)}function Lt(e,t,n){let r=null;const s=function(e){const t={};return Object.keys(e).forEach((n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach((r=>{t[r]={methods:e[n].methods,events:e[n].events}}))})),t}(e),i=function(e){const t={};return Object.keys(e).forEach((n=>{if(n.includes(":"))t[n]=e[n];else{const r=Xe(e[n].accounts);r?.forEach((r=>{t[r]={accounts:e[n].accounts.filter((e=>e.includes(`${r}:`))),methods:e[n].methods,events:e[n].events}}))}})),t}(t),o=Object.keys(s),a=Object.keys(i),c=Bt(Object.keys(e)),l=Bt(Object.keys(t)),u=c.filter((e=>!l.includes(e)));return u.length&&(r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(t).toString()}`)),ye(o,a)||(r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(t).forEach((e=>{if(!e.includes(":")||r)return;const s=Xe(t[e].accounts);s.includes(e)||(r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${s.toString()}`))})),o.forEach((e=>{r||(ye(s[e].methods,i[e].methods)?ye(s[e].events,i[e].events)||(r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${e}`)):r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${e}`))})),r}function Bt(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function Ft(e,t){return dt(e,!1)&&e<=t.max&&e>=t.min}function Dt(){const e=fe();return new Promise((t=>{switch(e){case ce.browser:t(de()&&navigator?.onLine);break;case ce.reactNative:t(async function(){if(he()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo){const e=await(null==n.g?void 0:n.g.NetInfo.fetch());return e?.isConnected}return!0}());break;case ce.node:default:t(!0)}}))}function Mt(e){switch(fe()){case ce.browser:!function(e){de()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case ce.reactNative:!function(e){he()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&n.g?.NetInfo.addEventListener((t=>e(t?.isConnected)))}(e);case ce.node:}}const $t={};class Gt{static get(e){return $t[e]}static set(e,t){$t[e]=t}static delete(e){delete $t[e]}}},6151:(e,t,n)=>{"use strict";const r=n(610),s=n(4020),i=n(500),o=n(2806),a=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?s(e):e}function h(e){return Array.isArray(e)?e.sort():"object"==typeof e?h(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const s="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!s&&u(n,e).includes(e.arrayFormatSeparator);n=i?u(n,e):n;const o=s||i?n.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===n?n:u(n,e);r[t]=o};case"bracket-separator":return(t,n,r)=>{const s=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!s)return void(r[t]=n?u(n,e):n);const i=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>u(t,e)));void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const s of e.split("&")){if(""===s)continue;let[e,o]=i(t.decode?s.replace(/\+/g," "):s,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:u(o,t),n(u(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=h(n):e[t]=n,e}),Object.create(null))}t.extract=f,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const s=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[l(t,e),"[",s,"]"].join("")]:[...n,[l(t,e),"[",l(s,e),"]=",l(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[l(t,e),"[]"].join("")]:[...n,[l(t,e),"[]=",l(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[l(t,e),":list="].join("")]:[...n,[l(t,e),":list=",l(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?r:(s=null===s?"":s,0===r.length?[[l(n,e),t,l(s,e)].join("")]:[[r,l(s,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,l(t,e)]:[...n,[l(t,e),"=",l(r,e)].join("")]}}(t),s={};for(const t of Object.keys(e))n(t)||(s[t]=e[t]);const i=Object.keys(s);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const s=e[n];return void 0===s?"":null===s?l(n,t):Array.isArray(s)?0===s.length&&"bracket-separator"===t.arrayFormat?l(n,t)+"[]":s.reduce(r(n),[]).join("&"):l(n,t)+"="+l(s,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:g(f(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0,[a]:!0},n);const r=d(e.url).split("?")[0]||"",s=t.extract(e.url),i=t.parse(s,{sort:!1}),o=Object.assign(i,e.query);let c=t.stringify(o,n);c&&(c=`?${c}`);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u=`#${n[a]?l(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${r}${c}${u}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[a]:!1},r);const{url:s,query:i,fragmentIdentifier:c}=t.parseUrl(e,r);return t.stringifyUrl({url:s,query:o(i,n),fragmentIdentifier:c},r)},t.exclude=(e,n,r)=>{const s=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,s,r)}},2873:(e,t)=>{"use strict";function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},5755:(e,t,n)=>{"use strict";t.D=void 0;const r=n(2873);t.D=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(e){return null}function n(...t){const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const r=n[e],s=["itemprop","property","name"].map((e=>r.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(s.length&&s){const e=r.getAttribute("content");if(e)return e}}return""}const s=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const s=n[e],i=s.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const e=s.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:s}}},7484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",s="second",i="minute",o="hour",a="day",c="week",l="month",u="quarter",h="year",d="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(r,l),i=n-s<0,o=t.clone().add(r+(i?-1:1),l);return+(-(r+(n-s)/(i?s-o:o-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:h,w:c,d:a,D:d,h:o,m:i,s,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",v={};v[w]=m;var A="$isDayjsObject",E=function(e){return e instanceof _||!(!e||!e[A])},k=function e(t,n,r){var s;if(!t)return w;if("string"==typeof t){var i=t.toLowerCase();v[i]&&(s=i),n&&(v[i]=n,s=i);var o=t.split("-");if(!s&&o.length>1)return e(o[0])}else{var a=t.name;v[a]=t,s=a}return!r&&s&&(w=s),s||!r&&w},P=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new _(n)},x=b;x.l=k,x.i=E,x.w=function(e,t){return P(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function m(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[A]=!0}var y=m.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var s=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return x},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(e,t){var n=P(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return P(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<P(e)},y.$g=function(e,t,n){return x.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!x.u(t)||t,u=x.p(e),f=function(e,t){var s=x.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?s:s.endOf(a)},p=function(e,t){return x.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case h:return r?f(1,0):f(31,11);case l:return r?f(1,m):f(0,m+1);case c:var w=this.$locale().weekStart||0,v=(g<w?g+7:g)-w;return f(r?y-v:y+(6-v),m);case a:case d:return p(b+"Hours",0);case o:return p(b+"Minutes",1);case i:return p(b+"Seconds",2);case s:return p(b+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,c=x.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[a]=u+"Date",n[d]=u+"Date",n[l]=u+"Month",n[h]=u+"FullYear",n[o]=u+"Hours",n[i]=u+"Minutes",n[s]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],p=c===a?this.$D+(t-this.$W):t;if(c===l||c===h){var g=this.clone().set(d,1);g.$d[f](p),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[x.p(e)]()},y.add=function(r,u){var d,f=this;r=Number(r);var p=x.p(u),g=function(e){var t=P(f);return x.w(t.date(t.date()+Math.round(e*r)),f)};if(p===l)return this.set(l,this.$M+r);if(p===h)return this.set(h,this.$y+r);if(p===a)return g(1);if(p===c)return g(7);var m=(d={},d[i]=t,d[o]=n,d[s]=e,d)[p]||1,y=this.$d.getTime()+r*m;return x.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",s=x.z(this),i=this.$H,o=this.$m,a=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,h=function(e,n,s,i){return e&&(e[n]||e(t,r))||s[n].slice(0,i)},d=function(e){return x.s(i%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(g,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return x.s(t.$y,4,"0");case"M":return a+1;case"MM":return x.s(a+1,2,"0");case"MMM":return h(n.monthsShort,a,l,3);case"MMMM":return h(l,a);case"D":return t.$D;case"DD":return x.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,c,2);case"ddd":return h(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(i);case"HH":return x.s(i,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return p(i,o,!0);case"A":return p(i,o,!1);case"m":return String(o);case"mm":return x.s(o,2,"0");case"s":return String(t.$s);case"ss":return x.s(t.$s,2,"0");case"SSS":return x.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,d,f){var p,g=this,m=x.p(d),y=P(r),b=(y.utcOffset()-this.utcOffset())*t,w=this-y,v=function(){return x.m(g,y)};switch(m){case h:p=v()/12;break;case l:p=v();break;case u:p=v()/3;break;case c:p=(w-b)/6048e5;break;case a:p=(w-b)/864e5;break;case o:p=w/n;break;case i:p=w/t;break;case s:p=w/e;break;default:p=w}return f?p:x.a(p)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return v[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=k(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return x.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),C=_.prototype;return P.prototype=C,[["$ms",r],["$s",s],["$m",i],["$H",o],["$W",a],["$M",l],["$y",h],["$D",d]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),P.extend=function(e,t){return e.$i||(e(t,_,P),e.$i=!0),P},P.locale=k,P.isDayjs=E,P.unix=function(e){return P(1e3*e)},P.en=v[w],P.Ls=v,P.p={},P}()},4110:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,s){return r.fromToBase(e,t,n,s)}n.en.relativeTime=s,r.fromToBase=function(t,r,i,o,a){for(var c,l,u,h=i.$locale().relativeTime||s,d=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=d.length,p=0;p<f;p+=1){var g=d[p];g.d&&(c=o?n(t).diff(i,g.d,!0):i.diff(t,g.d,!0));var m=(e.rounding||Math.round)(Math.abs(c));if(u=c>0,m<=g.r||!g.r){m<=1&&p>0&&(g=d[p-1]);var y=h[g.l];a&&(m=a(""+m)),l="string"==typeof y?y.replace("%d",m):y(m,r,g.l,u);break}}if(r)return l;var b=u?h.future:h.past;return"function"==typeof b?b(l):b.replace("%s",l)},r.to=function(e,t){return i(e,t,this,!0)},r.from=function(e,t){return i(e,t,this)};var o=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(o(this),e)},r.fromNow=function(e){return this.from(o(this),e)}}}()},4020:e=>{"use strict";var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),r=new RegExp("("+t+")+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(n),s(r))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=s(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var s=i(n[0]);s!==n[0]&&(t[n[0]]=s)}n=r.exec(e)}t["%C2"]="";for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},6729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new s(r,i||e,o),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,s=[];if(0===this._eventsCount)return s;for(r in e=this._events)t.call(e,r)&&s.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,o=new Array(i);s<i;s++)o[s]=r[s].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,s,i,o){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,s),!0;case 5:return u.fn.call(u.context,t,r,s,i),!0;case 6:return u.fn.call(u.context,t,r,s,i,o),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,s);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,s){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||s&&!a.once||r&&a.context!==r||o(this,i);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||s&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[i]=1===l.length?l[0]:l:o(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},2806:e=>{"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),s=Array.isArray(t),i=0;i<r.length;i++){var o=r[i],a=e[o];(s?-1!==t.indexOf(o):t(o,a,e))&&(n[o]=a)}return n}},4155:e=>{var t,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,c=[],l=!1,u=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=o(h);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},2478:(e,t,n)=>{"use strict";n.d(t,{jc:()=>c,o5:()=>a});Symbol();const r=Symbol();const s=Object.getPrototypeOf,i=new WeakMap,o=e=>e&&(i.has(e)?i.get(e):s(e)===Object.prototype||s(e)===Array.prototype),a=e=>o(e)&&e[r]||null,c=(e,t=!0)=>{i.set(e,t)}},500:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},610:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},3703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>fv});class r{static parseWithUndefined(e){if(null!==e)return JSON.parse(e,((e,t)=>null===t?void 0:t))}}class s{name;constructor(e){this.name=e}selectStorage(e){return e?localStorage:sessionStorage}getKey(e){return`${this.name}/${e}`}set(e,t,n=!1){this.selectStorage(!n).removeItem(this.getKey(e));const r=this.selectStorage(n);try{r.setItem(this.getKey(e),JSON.stringify(t))}catch(e){if(!(e instanceof DOMException)||22!==e.code&&1014!==e.code&&"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name)throw e;r.clear(),location.reload()}}get(e,t){let n=sessionStorage.getItem(this.getKey(e))||localStorage.getItem(this.getKey(e));return null===n?t:r.parseWithUndefined(n)}getAll(){const e={};for(let t=0;t<sessionStorage.length;t++){const n=sessionStorage.key(t);n&&n.startsWith(this.name)&&(e[n.substring(this.name.length+1)]=r.parseWithUndefined(sessionStorage.getItem(n)))}for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(this.name)&&(e[n.substring(this.name.length+1)]=r.parseWithUndefined(localStorage.getItem(n)))}return e}checkPermanently(e){return null!==localStorage.getItem(this.getKey(e))}delete(e){sessionStorage.removeItem(this.getKey(e)),localStorage.removeItem(this.getKey(e))}clear(){for(let e=0;e<sessionStorage.length;e++){const t=sessionStorage.key(e);t&&t.startsWith(this.name)&&sessionStorage.removeItem(t)}for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.startsWith(this.name)&&localStorage.removeItem(t)}}}class i{static pull(e,...t){const n=new Set(t);for(let t=e.length-1;t>=0;t--)n.has(e[t])&&e.splice(t,1)}static insert(e,t,n){e.splice(t,0,n)}static shuffle(e){let t=e.length;for(;0!==t;){const n=Math.floor(Math.random()*t);t-=1,[e[t],e[n]]=[e[n],e[t]]}return e}static checkSame(e,t){if(e.length!==t.length)return!1;const n=new Set(t);for(const t of e)if(!n.has(t))return!1;return!0}}class o{static NEXT_ID=0;id=o.NEXT_ID++;allowedEvents=["delete"];eventMap={};delegateEvents=[];deleted=!1;addAllowedEvents(...e){this.allowedEvents.push(...e)}addEventHandler(e,t){if(!this.allowedEvents.includes(e))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${e}`);void 0===this.eventMap[e]&&(this.eventMap[e]=[]),this.eventMap[e].push(t)}removeDelegateEvents(e){for(const[t,n]of Object.entries(e.events))for(const r of n)e.delegate.off(t,r);i.pull(this.delegateEvents,e)}on(e,t){if(Array.isArray(e))for(const n of e)this.addEventHandler(n,t);else this.addEventHandler(e,t);return this}once(e,t){const n=(...r)=>{this.off(e,n),t(...r)};this.addEventHandler(e,n)}off(e,t){void 0!==this.eventMap?.[e]&&(i.pull(this.eventMap[e],t),0===this.eventMap[e].length&&delete this.eventMap[e])}async fireEvent(e,...t){if(!this.allowedEvents.includes(e))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${e}`);const n=[],r=[];if(void 0!==this.eventMap[e])for(const s of[...this.eventMap[e]]){const e=s(...t);e instanceof Promise?r.push(e):n.push(e)}return n.concat(await Promise.all(r))}onDelegate(e,t,n){let r=this.delegateEvents.find((t=>t.delegate===e));void 0===r&&(r={delegate:e,events:{}},this.delegateEvents.push(r)),"string"==typeof t&&(t=[t]);for(const s of t)void 0===r.events[s]&&(r.events[s]=[]),r.events[s].push(n),e.on(s,n)}offDelegate(e){const t=this.delegateEvents.find((t=>t.delegate===e));void 0!==t&&this.removeDelegateEvents(t)}offAll(){this.eventMap={};for(const e of[...this.delegateEvents])this.removeDelegateEvents(e);this.delegateEvents=[]}delete(){for(const e of[...this.delegateEvents])this.removeDelegateEvents(e);this.delegateEvents=void 0,this.fireEvent("delete"),this.allowedEvents=void 0,this.eventMap=void 0,this.deleted=!0}}class a extends o{parent;children=[];append(...e){for(const t of e)void 0!==t&&t.appendTo(this);return this}appendTo(e,t){return this.parent===e&&void 0!==t&&this.parent.children.indexOf(this)<t&&(t-=1),this.removeFromParent(),void 0!==t&&t<e.children.length?e.children.splice(t,0,this):e.children.push(this),this.parent=e,this}removeFromParent(){void 0!==this.parent&&(i.pull(this.parent.children,this),this.parent=void 0)}empty(){for(;this.children.length>0;)this.children[0].delete();return this}checkChild(e){const t=[...this.children];for(;t.length>0;){const n=t.pop();if(n===e)return!0;t.push(...n.children)}return!1}delete(){super.delete(),this.removeFromParent(),this.empty(),this.children=void 0}}class c extends a{static NUMBER_STYLE_KEY=["zIndex","opacity","flexGrow","flexShrink","gridGap","order","zoom"];static keyframesCount=0;static createElement(e){let t;const n=e.indexOf("#");if(-1!==n){t=e.substring(n+1),e=e.substring(0,n);const r=t.indexOf(".");-1!==r&&(e+=t.substring(r),t=t.substring(0,r))}let r;const s=e.indexOf(".");-1!==s&&(r=e.substring(s+1).replace(/\./g," "),e=e.substring(0,s)),""===e&&(e="div");const i=document.createElement(e);return void 0!==t&&(i.id=t),void 0!==r&&(i.className=r),i}children=[];domEventMap={};windowEventMap={};domElement;constructor(e,...t){super(),this.addAllowedEvents("visible"),e instanceof HTMLElement?this.domElement=e:this.domElement=c.createElement(e),this.append(...t)}style(e){for(const[t,n]of Object.entries(e))void 0===n?this.domElement.style[t]=null:"number"==typeof n&&!0!==c.NUMBER_STYLE_KEY.includes(t)?this.domElement.style[t]=`${n}px`:this.domElement.style[t]=n;return this}get rect(){return this.domElement.getBoundingClientRect()}get innerScrollPosition(){let e=0,t=0;if(this.domElement!==document.body){let n=this.domElement.parentNode;for(;n!==document.body&&null!==n;)n instanceof HTMLElement&&(e+=n.scrollLeft,t+=n.scrollTop),n=n.parentNode}return{left:e,top:t}}onDom(e,t){void 0===this.domEventMap[e]&&(this.domEventMap[e]=[]);const n=e=>t(e,this);this.domEventMap[e].push({eventHandler:t,domEventHandler:n}),this.domElement.addEventListener(e,n)}onWindow(e,t){void 0===this.windowEventMap[e]&&(this.windowEventMap[e]=[]);const n=e=>t(e,this);this.windowEventMap[e].push({eventHandler:t,domEventHandler:n}),window.addEventListener(e,n)}offDom(e,t){const n=this.domEventMap[e];if(void 0!==n){const r=n.find((e=>e.eventHandler===t));void 0!==r&&(this.domElement.removeEventListener(e,r.domEventHandler),i.pull(n,r),0===n.length&&delete this.domEventMap[e])}}fireDomEvent(e){this.domElement.dispatchEvent(new Event(e))}appendText(e){if("TEXTAREA"===this.domElement.tagName)this.domElement.append(e);else{const t=new DocumentFragment,n=e.split("\n");for(const[e,r]of n.entries())e>0&&t.append(document.createElement("br")),t.append(r);this.domElement.append(t)}return this}set text(e){this.empty().appendText(e)}append(...e){for(const t of e)if(void 0!==t)if("string"==typeof t)this.appendText(t);else if(t instanceof c)t.appendTo(this);else for(const[e,n]of Object.entries(t))"function"==typeof n?this.onDom(e,n):"style"===e&&"object"==typeof n?this.style(n):void 0===n?this.domElement.removeAttribute(e):this.domElement.setAttribute(e,String(n));return this}checkVisible(){return void 0!==this.parent&&(this.parent.domElement===document.body||this.parent.checkVisible())}fireVisible(){this.fireEvent("visible");for(const e of this.children)e.fireVisible()}appendTo(e,t){void 0!==t&&t<e.children.length?e.domElement.insertBefore(this.domElement,e.children[t].domElement):e.domElement.append(this.domElement);const n=super.appendTo(e,t);return!0===this.checkVisible()&&this.fireVisible(),n}empty(){for(super.empty();this.domElement.firstChild;)this.domElement.removeChild(this.domElement.firstChild);return this}addClass(e){this.domElement.classList.add(e)}deleteClass(e){this.domElement.classList.remove(e)}hasClass(e){return this.domElement.classList.contains(e)}toggleClass(e){this.domElement.classList.toggle(e)}clone(){return new c(this.domElement.cloneNode(!0))}delete(){this.domElement.remove(),this.domEventMap=void 0;for(const[e,t]of Object.entries(this.windowEventMap))for(const n of t)window.removeEventListener(e,n.domEventHandler);this.windowEventMap=void 0,super.delete()}animate({keyframes:e,duration:t=.5,timingFunction:n="ease",delay:r=0,iterationCount:s=1,direction:i="normal",onEnd:o=(()=>{})}){const a="__KEYFRAMES_"+c.keyframesCount++;let l="",u={};for(const[t,n]of Object.entries(e)){l+=`${t}{`;for(let[e,t]of Object.entries(n))"number"!=typeof t||["zIndex","opacity"].includes(e)||(t+="px"),l+=`${e.replace(/([A-Z])/g,"-$1").toLowerCase()}:${t};`;l+="}","from"===t||"0%"===t?u={...u,...n}:"to"!==t&&"100%"!==t||(u={...u,...n})}const h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode(`@keyframes ${a}{${l}}`)),document.head.appendChild(h),u={...u,animation:`${a} ${t}s ${n} ${r}s ${s} ${i}`},this.style(u),1===s&&setTimeout((()=>{this.deleted||o(),h.remove()}),1e3*t)}}const l=new class extends c{constructor(){super(document.body)}};const u=new class{paramRegex=/{(.+)}/;match(e,t,n){for(let r=0;r<t.length;r++){const s=t[r];let i=e[r];if("**"===s)return!0;const o=this.paramRegex.exec(s);if(!s.startsWith("{")){const e=s.indexOf("{");if(i.substring(0,e)!==s.substring(0,e))return!1;i=i.substring(e)}if(i&&o)n&&(n[o[1]]=i);else if("*"!==s&&s!==i)return!1;if(r===e.length-1&&r<t.length-1&&""!==t[t.length-1])return!1}return!0}parse(e,t,n){const r=e.split("/"),s=t.split("/");return this.match(r,s,n)}},h=e=>decodeURIComponent(e.endsWith("/")?e.slice(0,-1).substring(1):e.substring(1)),d=(e,t,n,r)=>t.some((t=>u.match(e,t.split("/"),r)))&&!n.some((t=>u.match(e,t.split("/"))));const f=new class extends o{routes=[];redirects=[];openingViews=[];forwarding=!1;constructor(){super(),this.addAllowedEvents("go"),window.addEventListener("popstate",(e=>{if(!0===this.forwarding)this.forwarding=!1;else{const t=l.children.findLast((e=>e.hasClass("popup-background")));t?(this.forwarding=!0,window.history.forward(),t.delete()):this.check(e.state??void 0)}for(const e of l.children)e.hasClass("dropdown-menu")&&e.delete()}))}closeAllPopup(){for(const e of l.children)e.hasClass("popup-background")&&e.delete()}check(e){const t=h(location.pathname),n=t.split("/");let r=!1;const s=[];for(const{patterns:t,excludes:r,to:s}of this.redirects){const i=e?{...e}:{};if(d(n,t,r,i)){let e=s;for(const[t,n]of Object.entries(i))e=e.replace(new RegExp(`{${t}}`,"g"),n??"");return void this.goNoHistory(`/${e}`)}}for(const{patterns:o,excludes:a,viewType:c}of this.routes){const l=e?{...e}:{},u=this.openingViews.find((e=>e instanceof c));d(n,o,a,l)?void 0===u?(this.openingViews.push(new c(l,t)),r=!0):u.changeParams(l,t):void 0!==u&&(s.push(u),i.pull(this.openingViews,u))}for(const e of s.reverse())e.close();!0===r&&this.fireEvent("go")}route(e,t,n=[]){"string"==typeof e&&(e=[e]),this.routes.push({patterns:e,excludes:n,viewType:t});const r=h(location.pathname),s=r.split("/"),i={};d(s,e,n,i)&&this.openingViews.push(new t(i,r))}redirect(e,t,n=[]){"string"==typeof e&&(e=[e]),this.redirects.push({patterns:e,excludes:n,to:t});const r=h(location.pathname).split("/"),s={};if(d(r,e,n,s)){let e=t;for(const[t,n]of Object.entries(s))e=e.replace(new RegExp(`{${t}}`,"g"),n??"");this.goNoHistory(`/${e}`)}}go(e,t){location.pathname!==e&&(history.pushState(void 0,"",e),this.check(t),window.scrollTo(0,0))}goNoHistory(e,t){location.pathname!==e&&(history.replaceState(void 0,"",e),this.check(t),window.scrollTo(0,0))}waitAndGo(e,t){setTimeout((()=>this.go(e,t)))}refresh(){for(const e of this.openingViews.reverse())e.close();this.openingViews=[];const e=h(location.pathname),t=e.split("/");for(const{patterns:n,excludes:r,viewType:s}of this.routes){const i={};d(t,n,r,i)&&this.openingViews.push(new s(i,e))}}};const p=new class{store=new s("__BROWSER_INFO_STORE");normalizeLanguage(e){return-1!==e.indexOf("-")&&"zh-TC"!==e&&"zh-SC"!==e&&(e=e.substring(0,e.indexOf("-"))),e}get language(){let e=this.store.get("lang")||navigator.language;return this.normalizeLanguage(e)}set language(e){this.store.set("lang",this.normalizeLanguage(e))}changeLanguage(e){if(!e)throw new Error("Invalid language code.");this.language=e,f.refresh()}get isPhoneSize(){return window.innerWidth<=859}};class g extends c{constructor(e,...t){super(e+".component"),this.append(...t)}}const m=(e,...t)=>new c(c.createElement(e),...t);class y extends g{constructor(e){super("ul.dropdown-menu");for(const t of e.items)this.append(m("li",m("button",t.title,{click:e=>{e.stopPropagation(),t.click(),this.delete()}})));this.style({left:e.left,top:e.top}),l.append(this),window.addEventListener("click",this.windowClickHandler)}windowClickHandler=e=>{this.domElement.contains(e.target)||this.delete()};delete(){window.removeEventListener("click",this.windowClickHandler),super.delete()}}n(5843);class b extends g{constructor(e){super("span.material-icon.material-symbols-outlined"),this.text=e}}class w extends c{constructor(e){super(".popup-background"),this.onDom("click",(t=>{!0===e.barrierDismissible&&t.target===this.domElement&&this.delete()})),l.append(this)}}class v extends g{titleContainer;titleText;constructor(e){super("button"+(void 0!==e.type?"."+e.type:".contained")+(e.tag??"")),void 0!==e.icon&&this.append(e.icon),void 0!==e.title&&this.append(this.titleContainer=m("span.title",this.titleText=e.title)),void 0!==e.href&&(this.domElement.href=e.href,this.domElement.target="_blank"),!0===e.disabled&&this.disable(),void 0!==e.click&&this.onDom("click",(t=>{!0!==this.hasClass("disabled")&&e.click(t,this)}))}set title(e){void 0!==this.titleContainer?this.titleContainer.text=e:this.append(this.titleContainer=m("span.title",e)),this.titleText=e}disable(){return this.addClass("disabled"),this}enable(){return this.deleteClass("disabled"),this}}var A;!function(e){e.Contained="contained",e.Outlined="outlined",e.Text="text"}(A||(A={}));const E=A;class k extends g{timeoutId;constructor(e){super(".snackbar"),this.append(m("main",m("p",e.message),e.action?new v({tag:".action",type:E.Text,title:e.action.title,click:()=>{e.action?.click(),this.delete()}}):void 0,m("button.close",new b("close"),{click:()=>this.delete()}))),l.append(this),this.timeoutId=setTimeout((()=>this.delete()),5e3)}delete(){clearTimeout(this.timeoutId),super.delete()}}class P extends g{constructor(e){super(".splash-screen"),this.append(e),this.appendTo(l)}}class x extends w{content;constructor(e,t,n){super({barrierDismissible:!0}),this.append(this.content=new g(".popup.confirm",m("header",m("h1",e.title)),m("main",m("p",e.message)),m("footer",new v({type:E.Text,tag:".cancel-button",click:()=>{n&&n(),this.delete()},title:e.cancelTitle??"Cancel"}),new v({type:E.Contained,tag:".confirm-button",click:async(n,r)=>{r.domElement.setAttribute("disabled","disabled"),e.loadingTitle&&(r.text=e.loadingTitle),await t(),this.delete()},title:e.confirmTitle??"Confirm"}))))}}class _ extends w{content;constructor(e){super({barrierDismissible:!0}),this.append(this.content=new g(".popup.error-alert",m("header",m("h1",new b("error"),e.title)),m("main",m("p",e.message)),m("footer",new v({type:E.Text,tag:".confirm-button",title:e.confirmTitle??"OK",click:()=>this.delete()}))))}}class C extends g{_id;constructor(e,t){super("li.tab"),this._id=e,this.append(t)}set active(e){e?this.addClass("active"):this.deleteClass("active")}}class S extends g{children=[];store;constructor(e,t){super("ul.tabs"),this.addAllowedEvents("select"),this.store=new s(`tabs-${e}`);for(const e of t){const t=new C(e.id,e.label);t.onDom("click",(()=>this.select(e.id))),this.append(t)}}init(){if(this.store.get("selected"))this.select(this.store.get("selected"));else{const e=this.children[0]?._id;e&&this.select(e)}}select(e){for(const t of this.children)t.active=t._id===e;this.store.set("selected",e,!0),this.fireEvent("select",e)}}function O(e){return null==e}var I=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},T=function(e,t){var n,r,s,i;if(t)for(n=0,r=(i=Object.keys(t)).length;n<r;n+=1)e[s=i[n]]=t[s];return e},N={isNothing:O,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:O(e)?[]:[e]},repeat:function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},isNegativeZero:I,extend:T};function U(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function j(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=U(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}j.prototype=Object.create(Error.prototype),j.prototype.constructor=j,j.prototype.toString=function(e){return this.name+": "+U(this,e)};var R=j;function L(e,t,n,r,s){var i="",o="",a=Math.floor(s/2)-1;return r-t>a&&(t=r-a+(i=" ... ").length),n-r>a&&(n=r+a-(o=" ...").length),{str:i+e.slice(t,n).replace(/\t/g,"")+o,pos:r-t+i.length}}function B(e,t){return N.repeat(" ",t-e.length)+e}var F=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,s=[0],i=[],o=-1;n=r.exec(e.buffer);)i.push(n.index),s.push(n.index+n[0].length),e.position<=n.index&&o<0&&(o=s.length-2);o<0&&(o=s.length-1);var a,c,l="",u=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+u+3);for(a=1;a<=t.linesBefore&&!(o-a<0);a++)c=L(e.buffer,s[o-a],i[o-a],e.position-(s[o]-s[o-a]),h),l=N.repeat(" ",t.indent)+B((e.line-a+1).toString(),u)+" | "+c.str+"\n"+l;for(c=L(e.buffer,s[o],i[o],e.position,h),l+=N.repeat(" ",t.indent)+B((e.line+1).toString(),u)+" | "+c.str+"\n",l+=N.repeat("-",t.indent+u+3+c.pos)+"^\n",a=1;a<=t.linesAfter&&!(o+a>=i.length);a++)c=L(e.buffer,s[o+a],i[o+a],e.position-(s[o]-s[o+a]),h),l+=N.repeat(" ",t.indent)+B((e.line+a+1).toString(),u)+" | "+c.str+"\n";return l.replace(/\n$/,"")},D=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],M=["scalar","sequence","mapping"];var $=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===D.indexOf(t))throw new R('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(t.styleAliases||null),-1===M.indexOf(this.kind))throw new R('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function G(e,t){var n=[];return e[t].forEach((function(e){var t=n.length;n.forEach((function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)})),n[t]=e})),n}function H(e){return this.extend(e)}H.prototype.extend=function(e){var t=[],n=[];if(e instanceof $)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new R("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof $))throw new R("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new R("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new R("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(e){if(!(e instanceof $))throw new R("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var r=Object.create(H.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=G(r,"implicit"),r.compiledExplicit=G(r,"explicit"),r.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var z=H,W=new $("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),q=new $("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),K=new $("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),V=new z({explicit:[W,q,K]});var J=new $("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var Q=new $("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Y(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Z(e){return 48<=e&&e<=55}function X(e){return 48<=e&&e<=57}var ee=new $("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n=e.length,r=0,s=!1;if(!n)return!1;if("-"!==(t=e[r])&&"+"!==t||(t=e[++r]),"0"===t){if(r+1===n)return!0;if("b"===(t=e[++r])){for(r++;r<n;r++)if("_"!==(t=e[r])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!Y(e.charCodeAt(r)))return!1;s=!0}return s&&"_"!==t}if("o"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!Z(e.charCodeAt(r)))return!1;s=!0}return s&&"_"!==t}}if("_"===t)return!1;for(;r<n;r++)if("_"!==(t=e[r])){if(!X(e.charCodeAt(r)))return!1;s=!0}return!(!s||"_"===t)},construct:function(e){var t,n=e,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!N.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),te=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var ne=/^[-+]?[0-9]+e/;var re=new $("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!te.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||N.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(N.isNegativeZero(e))return"-0.0";return n=e.toString(10),ne.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),se=V.extend({implicit:[J,Q,ee,re]}),ie=se,oe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ae=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var ce=new $("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==oe.exec(e)||null!==ae.exec(e))},construct:function(e){var t,n,r,s,i,o,a,c,l=0,u=null;if(null===(t=oe.exec(e))&&(t=ae.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(n,r,s));if(i=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),c=new Date(Date.UTC(n,r,s,i,o,a,l)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(e){return e.toISOString()}});var le=new $("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var he=new $("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,s=e.length,i=ue;for(n=0;n<s;n++)if(!((t=i.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),s=r.length,i=ue,o=0,a=[];for(t=0;t<s;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)),o=o<<6|i.indexOf(r.charAt(t));return 0===(n=s%4*6)?(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)):18===n?(a.push(o>>10&255),a.push(o>>2&255)):12===n&&a.push(o>>4&255),new Uint8Array(a)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,r="",s=0,i=e.length,o=ue;for(t=0;t<i;t++)t%3==0&&t&&(r+=o[s>>18&63],r+=o[s>>12&63],r+=o[s>>6&63],r+=o[63&s]),s=(s<<8)+e[t];return 0===(n=i%3)?(r+=o[s>>18&63],r+=o[s>>12&63],r+=o[s>>6&63],r+=o[63&s]):2===n?(r+=o[s>>10&63],r+=o[s>>4&63],r+=o[s<<2&63],r+=o[64]):1===n&&(r+=o[s>>2&63],r+=o[s<<4&63],r+=o[64],r+=o[64]),r}}),de=Object.prototype.hasOwnProperty,fe=Object.prototype.toString;var pe=new $("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,s,i,o=[],a=e;for(t=0,n=a.length;t<n;t+=1){if(r=a[t],i=!1,"[object Object]"!==fe.call(r))return!1;for(s in r)if(de.call(r,s)){if(i)return!1;i=!0}if(!i)return!1;if(-1!==o.indexOf(s))return!1;o.push(s)}return!0},construct:function(e){return null!==e?e:[]}}),ge=Object.prototype.toString;var me=new $("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,s,i,o=e;for(i=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(r=o[t],"[object Object]"!==ge.call(r))return!1;if(1!==(s=Object.keys(r)).length)return!1;i[t]=[s[0],r[s[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,s,i,o=e;for(i=new Array(o.length),t=0,n=o.length;t<n;t+=1)r=o[t],s=Object.keys(r),i[t]=[s[0],r[s[0]]];return i}}),ye=Object.prototype.hasOwnProperty;var be=new $("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(ye.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),we=ie.extend({implicit:[ce,le],explicit:[he,pe,me,be]}),ve=Object.prototype.hasOwnProperty,Ae=1,Ee=2,ke=3,Pe=4,xe=1,_e=2,Ce=3,Se=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Oe=/[\x85\u2028\u2029]/,Ie=/[,\[\]\{\}]/,Te=/^(?:!|!!|![a-z\-]+!)$/i,Ne=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ue(e){return Object.prototype.toString.call(e)}function je(e){return 10===e||13===e}function Re(e){return 9===e||32===e}function Le(e){return 9===e||32===e||10===e||13===e}function Be(e){return 44===e||91===e||93===e||123===e||125===e}function Fe(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function De(e){return 120===e?2:117===e?4:85===e?8:0}function Me(e){return 48<=e&&e<=57?e-48:-1}function $e(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function Ge(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var He=new Array(256),ze=new Array(256),We=0;We<256;We++)He[We]=$e(We)?1:0,ze[We]=$e(We);function qe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||we,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ke(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=F(n),new R(t,n)}function Ve(e,t){throw Ke(e,t)}function Je(e,t){e.onWarning&&e.onWarning.call(null,Ke(e,t))}var Qe={YAML:function(e,t,n){var r,s,i;null!==e.version&&Ve(e,"duplication of %YAML directive"),1!==n.length&&Ve(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Ve(e,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),i=parseInt(r[2],10),1!==s&&Ve(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&Je(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,s;2!==n.length&&Ve(e,"TAG directive accepts exactly two arguments"),r=n[0],s=n[1],Te.test(r)||Ve(e,"ill-formed tag handle (first argument) of the TAG directive"),ve.call(e.tagMap,r)&&Ve(e,'there is a previously declared suffix for "'+r+'" tag handle'),Ne.test(s)||Ve(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch(t){Ve(e,"tag prefix is malformed: "+s)}e.tagMap[r]=s}};function Ye(e,t,n,r){var s,i,o,a;if(t<n){if(a=e.input.slice(t,n),r)for(s=0,i=a.length;s<i;s+=1)9===(o=a.charCodeAt(s))||32<=o&&o<=1114111||Ve(e,"expected valid JSON character");else Se.test(a)&&Ve(e,"the stream contains non-printable characters");e.result+=a}}function Ze(e,t,n,r){var s,i,o,a;for(N.isObject(n)||Ve(e,"cannot merge mappings; the provided source object is unacceptable"),o=0,a=(s=Object.keys(n)).length;o<a;o+=1)i=s[o],ve.call(t,i)||(t[i]=n[i],r[i]=!0)}function Xe(e,t,n,r,s,i,o,a,c){var l,u;if(Array.isArray(s))for(l=0,u=(s=Array.prototype.slice.call(s)).length;l<u;l+=1)Array.isArray(s[l])&&Ve(e,"nested arrays are not supported inside keys"),"object"==typeof s&&"[object Object]"===Ue(s[l])&&(s[l]="[object Object]");if("object"==typeof s&&"[object Object]"===Ue(s)&&(s="[object Object]"),s=String(s),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(i))for(l=0,u=i.length;l<u;l+=1)Ze(e,t,i[l],n);else Ze(e,t,i,n);else e.json||ve.call(n,s)||!ve.call(t,s)||(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,Ve(e,"duplicated mapping key")),"__proto__"===s?Object.defineProperty(t,s,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[s]=i,delete n[s];return t}function et(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):Ve(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function tt(e,t,n){for(var r=0,s=e.input.charCodeAt(e.position);0!==s;){for(;Re(s);)9===s&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(t&&35===s)do{s=e.input.charCodeAt(++e.position)}while(10!==s&&13!==s&&0!==s);if(!je(s))break;for(et(e),s=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&Je(e,"deficient indentation"),r}function nt(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!Le(t)))}function rt(e,t){1===t?e.result+=" ":t>1&&(e.result+=N.repeat("\n",t-1))}function st(e,t){var n,r,s=e.tag,i=e.anchor,o=[],a=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,Ve(e,"tab characters must not be used in indentation")),45===r)&&Le(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,tt(e,!0,-1)&&e.lineIndent<=t)o.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,at(e,t,ke,!1,!0),o.push(e.result),tt(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)Ve(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=s,e.anchor=i,e.kind="sequence",e.result=o,!0)}function it(e){var t,n,r,s,i=!1,o=!1;if(33!==(s=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&Ve(e,"duplication of a tag property"),60===(s=e.input.charCodeAt(++e.position))?(i=!0,s=e.input.charCodeAt(++e.position)):33===s?(o=!0,n="!!",s=e.input.charCodeAt(++e.position)):n="!",t=e.position,i){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&62!==s);e.position<e.length?(r=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Ve(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==s&&!Le(s);)33===s&&(o?Ve(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),Te.test(n)||Ve(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),Ie.test(r)&&Ve(e,"tag suffix cannot contain flow indicator characters")}r&&!Ne.test(r)&&Ve(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(t){Ve(e,"tag name is malformed: "+r)}return i?e.tag=r:ve.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:Ve(e,'undeclared tag handle "'+n+'"'),!0}function ot(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&Ve(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!Le(n)&&!Be(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ve(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function at(e,t,n,r,s){var i,o,a,c,l,u,h,d,f,p=1,g=!1,m=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=o=a=Pe===n||ke===n,r&&tt(e,!0,-1)&&(g=!0,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)),1===p)for(;it(e)||ot(e);)tt(e,!0,-1)?(g=!0,a=i,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)):a=!1;if(a&&(a=g||s),1!==p&&Pe!==n||(d=Ae===n||Ee===n?t:t+1,f=e.position-e.lineStart,1===p?a&&(st(e,f)||function(e,t,n){var r,s,i,o,a,c,l,u=e.tag,h=e.anchor,d={},f=Object.create(null),p=null,g=null,m=null,y=!1,b=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),l=e.input.charCodeAt(e.position);0!==l;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,Ve(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),i=e.line,63!==l&&58!==l||!Le(r)){if(o=e.line,a=e.lineStart,c=e.position,!at(e,n,Ee,!1,!0))break;if(e.line===i){for(l=e.input.charCodeAt(e.position);Re(l);)l=e.input.charCodeAt(++e.position);if(58===l)Le(l=e.input.charCodeAt(++e.position))||Ve(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Xe(e,d,f,p,g,null,o,a,c),p=g=m=null),b=!0,y=!1,s=!1,p=e.tag,g=e.result;else{if(!b)return e.tag=u,e.anchor=h,!0;Ve(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return e.tag=u,e.anchor=h,!0;Ve(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(y&&(Xe(e,d,f,p,g,null,o,a,c),p=g=m=null),b=!0,y=!0,s=!0):y?(y=!1,s=!0):Ve(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,l=r;if((e.line===i||e.lineIndent>t)&&(y&&(o=e.line,a=e.lineStart,c=e.position),at(e,t,Pe,!0,s)&&(y?g=e.result:m=e.result),y||(Xe(e,d,f,p,g,m,o,a,c),p=g=m=null),tt(e,!0,-1),l=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==l)Ve(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Xe(e,d,f,p,g,null,o,a,c),b&&(e.tag=u,e.anchor=h,e.kind="mapping",e.result=d),b}(e,f,d))||function(e,t){var n,r,s,i,o,a,c,l,u,h,d,f,p=!0,g=e.tag,m=e.anchor,y=Object.create(null);if(91===(f=e.input.charCodeAt(e.position)))o=93,l=!1,i=[];else{if(123!==f)return!1;o=125,l=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),f=e.input.charCodeAt(++e.position);0!==f;){if(tt(e,!0,t),(f=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=g,e.anchor=m,e.kind=l?"mapping":"sequence",e.result=i,!0;p?44===f&&Ve(e,"expected the node content, but found ','"):Ve(e,"missed comma between flow collection entries"),d=null,a=c=!1,63===f&&Le(e.input.charCodeAt(e.position+1))&&(a=c=!0,e.position++,tt(e,!0,t)),n=e.line,r=e.lineStart,s=e.position,at(e,t,Ae,!1,!0),h=e.tag,u=e.result,tt(e,!0,t),f=e.input.charCodeAt(e.position),!c&&e.line!==n||58!==f||(a=!0,f=e.input.charCodeAt(++e.position),tt(e,!0,t),at(e,t,Ae,!1,!0),d=e.result),l?Xe(e,i,y,h,u,d,n,r,s):a?i.push(Xe(e,null,y,h,u,d,n,r,s)):i.push(u),tt(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(p=!0,f=e.input.charCodeAt(++e.position)):p=!1}Ve(e,"unexpected end of the stream within a flow collection")}(e,d)?m=!0:(o&&function(e,t){var n,r,s,i,o=xe,a=!1,c=!1,l=t,u=0,h=!1;if(124===(i=e.input.charCodeAt(e.position)))r=!1;else{if(62!==i)return!1;r=!0}for(e.kind="scalar",e.result="";0!==i;)if(43===(i=e.input.charCodeAt(++e.position))||45===i)xe===o?o=43===i?Ce:_e:Ve(e,"repeat of a chomping mode identifier");else{if(!((s=Me(i))>=0))break;0===s?Ve(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?Ve(e,"repeat of an indentation width identifier"):(l=t+s-1,c=!0)}if(Re(i)){do{i=e.input.charCodeAt(++e.position)}while(Re(i));if(35===i)do{i=e.input.charCodeAt(++e.position)}while(!je(i)&&0!==i)}for(;0!==i;){for(et(e),e.lineIndent=0,i=e.input.charCodeAt(e.position);(!c||e.lineIndent<l)&&32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>l&&(l=e.lineIndent),je(i))u++;else{if(e.lineIndent<l){o===Ce?e.result+=N.repeat("\n",a?1+u:u):o===xe&&a&&(e.result+="\n");break}for(r?Re(i)?(h=!0,e.result+=N.repeat("\n",a?1+u:u)):h?(h=!1,e.result+=N.repeat("\n",u+1)):0===u?a&&(e.result+=" "):e.result+=N.repeat("\n",u):e.result+=N.repeat("\n",a?1+u:u),a=!0,c=!0,u=0,n=e.position;!je(i)&&0!==i;)i=e.input.charCodeAt(++e.position);Ye(e,n,e.position,!1)}}return!0}(e,d)||function(e,t){var n,r,s;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=s=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(Ye(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,s=e.position}else je(n)?(Ye(e,r,s,!0),rt(e,tt(e,!1,t)),r=s=e.position):e.position===e.lineStart&&nt(e)?Ve(e,"unexpected end of the document within a single quoted scalar"):(e.position++,s=e.position);Ve(e,"unexpected end of the stream within a single quoted scalar")}(e,d)||function(e,t){var n,r,s,i,o,a;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return Ye(e,n,e.position,!0),e.position++,!0;if(92===a){if(Ye(e,n,e.position,!0),je(a=e.input.charCodeAt(++e.position)))tt(e,!1,t);else if(a<256&&He[a])e.result+=ze[a],e.position++;else if((o=De(a))>0){for(s=o,i=0;s>0;s--)(o=Fe(a=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+o:Ve(e,"expected hexadecimal character");e.result+=Ge(i),e.position++}else Ve(e,"unknown escape sequence");n=r=e.position}else je(a)?(Ye(e,n,r,!0),rt(e,tt(e,!1,t)),n=r=e.position):e.position===e.lineStart&&nt(e)?Ve(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}Ve(e,"unexpected end of the stream within a double quoted scalar")}(e,d)?m=!0:!function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!Le(r)&&!Be(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ve(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),ve.call(e.anchorMap,n)||Ve(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],tt(e,!0,-1),!0}(e)?function(e,t,n){var r,s,i,o,a,c,l,u,h=e.kind,d=e.result;if(Le(u=e.input.charCodeAt(e.position))||Be(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(Le(r=e.input.charCodeAt(e.position+1))||n&&Be(r)))return!1;for(e.kind="scalar",e.result="",s=i=e.position,o=!1;0!==u;){if(58===u){if(Le(r=e.input.charCodeAt(e.position+1))||n&&Be(r))break}else if(35===u){if(Le(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&nt(e)||n&&Be(u))break;if(je(u)){if(a=e.line,c=e.lineStart,l=e.lineIndent,tt(e,!1,-1),e.lineIndent>=t){o=!0,u=e.input.charCodeAt(e.position);continue}e.position=i,e.line=a,e.lineStart=c,e.lineIndent=l;break}}o&&(Ye(e,s,i,!1),rt(e,e.line-a),s=i=e.position,o=!1),Re(u)||(i=e.position+1),u=e.input.charCodeAt(++e.position)}return Ye(e,s,i,!1),!!e.result||(e.kind=h,e.result=d,!1)}(e,d,Ae===n)&&(m=!0,null===e.tag&&(e.tag="?")):(m=!0,null===e.tag&&null===e.anchor||Ve(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===p&&(m=a&&st(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&Ve(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,l=e.implicitTypes.length;c<l;c+=1)if((h=e.implicitTypes[c]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(ve.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,c=0,l=(u=e.typeMap.multi[e.kind||"fallback"]).length;c<l;c+=1)if(e.tag.slice(0,u[c].tag.length)===u[c].tag){h=u[c];break}h||Ve(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&Ve(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):Ve(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||m}function ct(e){var t,n,r,s,i=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(s=e.input.charCodeAt(e.position))&&(tt(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(o=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!Le(s);)s=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&Ve(e,"directive name must not be less than one character in length");0!==s;){for(;Re(s);)s=e.input.charCodeAt(++e.position);if(35===s){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&!je(s));break}if(je(s))break;for(t=e.position;0!==s&&!Le(s);)s=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==s&&et(e),ve.call(Qe,n)?Qe[n](e,n,r):Je(e,'unknown document directive "'+n+'"')}tt(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,tt(e,!0,-1)):o&&Ve(e,"directives end mark is expected"),at(e,e.lineIndent-1,Pe,!1,!0),tt(e,!0,-1),e.checkLineBreaks&&Oe.test(e.input.slice(i,e.position))&&Je(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&nt(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,tt(e,!0,-1)):e.position<e.length-1&&Ve(e,"end of the stream or a document separator is expected")}function lt(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new qe(e,t),r=e.indexOf("\0");for(-1!==r&&(n.position=r,Ve(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)ct(n);return n.documents}var ut=function(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var r=lt(e,n);if("function"!=typeof t)return r;for(var s=0,i=r.length;s<i;s+=1)t(r[s])},ht={loadAll:ut,load:function(e,t){var n=lt(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new R("expected a single document in the stream, but found more")}}},dt=Object.prototype.toString,ft=Object.prototype.hasOwnProperty,pt=65279,gt=9,mt=10,yt=13,bt=32,wt=33,vt=34,At=35,Et=37,kt=38,Pt=39,xt=42,_t=44,Ct=45,St=58,Ot=61,It=62,Tt=63,Nt=64,Ut=91,jt=93,Rt=96,Lt=123,Bt=124,Ft=125,Dt={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Mt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],$t=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Gt(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else{if(!(e<=4294967295))throw new R("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+N.repeat("0",r-t.length)+t}var Ht=1,zt=2;function Wt(e){this.schema=e.schema||we,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=N.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,s,i,o,a,c;if(null===t)return{};for(n={},s=0,i=(r=Object.keys(t)).length;s<i;s+=1)o=r[s],a=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(c=e.compiledTypeMap.fallback[o])&&ft.call(c.styleAliases,a)&&(a=c.styleAliases[a]),n[o]=a;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?zt:Ht,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function qt(e,t){for(var n,r=N.repeat(" ",t),s=0,i=-1,o="",a=e.length;s<a;)-1===(i=e.indexOf("\n",s))?(n=e.slice(s),s=a):(n=e.slice(s,i+1),s=i+1),n.length&&"\n"!==n&&(o+=r),o+=n;return o}function Kt(e,t){return"\n"+N.repeat(" ",e.indent*t)}function Vt(e){return e===bt||e===gt}function Jt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==pt||65536<=e&&e<=1114111}function Qt(e){return Jt(e)&&e!==pt&&e!==yt&&e!==mt}function Yt(e,t,n){var r=Qt(e),s=r&&!Vt(e);return(n?r:r&&e!==_t&&e!==Ut&&e!==jt&&e!==Lt&&e!==Ft)&&e!==At&&!(t===St&&!s)||Qt(t)&&!Vt(t)&&e===At||t===St&&s}function Zt(e,t){var n,r=e.charCodeAt(t);return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}function Xt(e){return/^\n* /.test(e)}var en=1,tn=2,nn=3,rn=4,sn=5;function on(e,t,n,r,s,i,o,a){var c,l=0,u=null,h=!1,d=!1,f=-1!==r,p=-1,g=function(e){return Jt(e)&&e!==pt&&!Vt(e)&&e!==Ct&&e!==Tt&&e!==St&&e!==_t&&e!==Ut&&e!==jt&&e!==Lt&&e!==Ft&&e!==At&&e!==kt&&e!==xt&&e!==wt&&e!==Bt&&e!==Ot&&e!==It&&e!==Pt&&e!==vt&&e!==Et&&e!==Nt&&e!==Rt}(Zt(e,0))&&function(e){return!Vt(e)&&e!==St}(Zt(e,e.length-1));if(t||o)for(c=0;c<e.length;l>=65536?c+=2:c++){if(!Jt(l=Zt(e,c)))return sn;g=g&&Yt(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if((l=Zt(e,c))===mt)h=!0,f&&(d=d||c-p-1>r&&" "!==e[p+1],p=c);else if(!Jt(l))return sn;g=g&&Yt(l,u,a),u=l}d=d||f&&c-p-1>r&&" "!==e[p+1]}return h||d?n>9&&Xt(e)?sn:o?i===zt?sn:tn:d?rn:nn:!g||o||s(e)?i===zt?sn:tn:en}function an(e,t,n,r,s){e.dump=function(){if(0===t.length)return e.quotingType===zt?'""':"''";if(!e.noCompatMode&&(-1!==Mt.indexOf(t)||$t.test(t)))return e.quotingType===zt?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,n),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),a=r||e.flowLevel>-1&&n>=e.flowLevel;switch(on(t,a,e.indent,o,(function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!r,s)){case en:return t;case tn:return"'"+t.replace(/'/g,"''")+"'";case nn:return"|"+cn(t,e.indent)+ln(qt(t,i));case rn:return">"+cn(t,e.indent)+ln(qt(function(e,t){var n,r,s=/(\n+)([^\n]*)/g,i=(a=e.indexOf("\n"),a=-1!==a?a:e.length,s.lastIndex=a,un(e.slice(0,a),t)),o="\n"===e[0]||" "===e[0];var a;for(;r=s.exec(e);){var c=r[1],l=r[2];n=" "===l[0],i+=c+(o||n||""===l?"":"\n")+un(l,t),o=n}return i}(t,o),i));case sn:return'"'+function(e){for(var t,n="",r=0,s=0;s<e.length;r>=65536?s+=2:s++)r=Zt(e,s),!(t=Dt[r])&&Jt(r)?(n+=e[s],r>=65536&&(n+=e[s+1])):n+=t||Gt(r);return n}(t)+'"';default:throw new R("impossible error: invalid scalar style")}}()}function cn(e,t){var n=Xt(e)?String(t):"",r="\n"===e[e.length-1];return n+(r&&("\n"===e[e.length-2]||"\n"===e)?"+":r?"":"-")+"\n"}function ln(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function un(e,t){if(""===e||" "===e[0])return e;for(var n,r,s=/ [^ ]/g,i=0,o=0,a=0,c="";n=s.exec(e);)(a=n.index)-i>t&&(r=o>i?o:a,c+="\n"+e.slice(i,r),i=r+1),o=a;return c+="\n",e.length-i>t&&o>i?c+=e.slice(i,o)+"\n"+e.slice(o+1):c+=e.slice(i),c.slice(1)}function hn(e,t,n,r){var s,i,o,a="",c=e.tag;for(s=0,i=n.length;s<i;s+=1)o=n[s],e.replacer&&(o=e.replacer.call(n,String(s),o)),(fn(e,t+1,o,!0,!0,!1,!0)||void 0===o&&fn(e,t+1,null,!0,!0,!1,!0))&&(r&&""===a||(a+=Kt(e,t)),e.dump&&mt===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=c,e.dump=a||"[]"}function dn(e,t,n){var r,s,i,o,a,c;for(i=0,o=(s=n?e.explicitTypes:e.implicitTypes).length;i<o;i+=1)if(((a=s[i]).instanceOf||a.predicate)&&(!a.instanceOf||"object"==typeof t&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(n?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,"[object Function]"===dt.call(a.represent))r=a.represent(t,c);else{if(!ft.call(a.represent,c))throw new R("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');r=a.represent[c](t,c)}e.dump=r}return!0}return!1}function fn(e,t,n,r,s,i,o){e.tag=null,e.dump=n,dn(e,n,!1)||dn(e,n,!0);var a,c=dt.call(e.dump),l=r;r&&(r=e.flowLevel<0||e.flowLevel>t);var u,h,d="[object Object]"===c||"[object Array]"===c;if(d&&(h=-1!==(u=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(s=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(d&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===c)r&&0!==Object.keys(e.dump).length?(!function(e,t,n,r){var s,i,o,a,c,l,u="",h=e.tag,d=Object.keys(n);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new R("sortKeys must be a boolean or a function");for(s=0,i=d.length;s<i;s+=1)l="",r&&""===u||(l+=Kt(e,t)),a=n[o=d[s]],e.replacer&&(a=e.replacer.call(n,o,a)),fn(e,t+1,o,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&mt===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,c&&(l+=Kt(e,t)),fn(e,t+1,a,!0,c)&&(e.dump&&mt===e.dump.charCodeAt(0)?l+=":":l+=": ",u+=l+=e.dump));e.tag=h,e.dump=u||"{}"}(e,t,e.dump,s),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var r,s,i,o,a,c="",l=e.tag,u=Object.keys(n);for(r=0,s=u.length;r<s;r+=1)a="",""!==c&&(a+=", "),e.condenseFlow&&(a+='"'),o=n[i=u[r]],e.replacer&&(o=e.replacer.call(n,i,o)),fn(e,t,i,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),fn(e,t,o,!1,!1)&&(c+=a+=e.dump));e.tag=l,e.dump="{"+c+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===c)r&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?hn(e,t-1,e.dump,s):hn(e,t,e.dump,s),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var r,s,i,o="",a=e.tag;for(r=0,s=n.length;r<s;r+=1)i=n[r],e.replacer&&(i=e.replacer.call(n,String(r),i)),(fn(e,t,i,!1,!1)||void 0===i&&fn(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else{if("[object String]"!==c){if("[object Undefined]"===c)return!1;if(e.skipInvalid)return!1;throw new R("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&an(e,e.dump,t,i,l)}null!==e.tag&&"?"!==e.tag&&(a=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),a="!"===e.tag[0]?"!"+a:"tag:yaml.org,2002:"===a.slice(0,18)?"!!"+a.slice(18):"!<"+a+">",e.dump=a+" "+e.dump)}return!0}function pn(e,t){var n,r,s=[],i=[];for(gn(e,s,i),n=0,r=i.length;n<r;n+=1)t.duplicates.push(s[i[n]]);t.usedDuplicates=new Array(r)}function gn(e,t,n){var r,s,i;if(null!==e&&"object"==typeof e)if(-1!==(s=t.indexOf(e)))-1===n.indexOf(s)&&n.push(s);else if(t.push(e),Array.isArray(e))for(s=0,i=e.length;s<i;s+=1)gn(e[s],t,n);else for(s=0,i=(r=Object.keys(e)).length;s<i;s+=1)gn(e[r[s]],t,n)}function mn(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}const yn={Type:$,Schema:z,FAILSAFE_SCHEMA:V,JSON_SCHEMA:se,CORE_SCHEMA:ie,DEFAULT_SCHEMA:we,load:ht.load,loadAll:ht.loadAll,dump:{dump:function(e,t){var n=new Wt(t=t||{});n.noRefs||pn(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),fn(n,0,r,!0,!0)?n.dump+"\n":""}}.dump,YAMLException:R,types:{binary:he,float:re,map:K,null:J,pairs:me,set:be,timestamp:ce,bool:Q,int:ee,merge:le,omap:pe,seq:q,str:W},safeLoad:mn("safeLoad","load"),safeLoadAll:mn("safeLoadAll","loadAll"),safeDump:mn("safeDump","dump")},bn=JSON.parse('{"confirm_button":{"en":"Confirm","ko":"","es":"Confirmar","fr":"Confirmer","de":"Besttigen","it":"Conferma","pt":"Confirmar","ru":"","zh-CN":"","zh-TW":"","ja":""}}'),wn=()=>{let e="",t="";return 2===p.language.length?e=p.language.toLowerCase():(e=p.language.substring(0,2).toLowerCase(),t=p.language.substring(3).toLowerCase()),{language:e,locale:t}},vn=(e,t={},n="en")=>{const r="string"==typeof e?bn[e]:e;if(void 0!==r){let e=r[p.language];if(void 0===e){const{language:t,locale:n}=wn();e=r[t],"object"==typeof e&&(e=void 0!==e[n]?e[n]:e[Object.keys(e)[0]])}if(void 0===e){const t=r[n];e=void 0!==t?t:r[Object.keys(r)[0]]}if(void 0!==e&&"object"==typeof e&&(e=e[Object.keys(e)[0]]),void 0!==e)for(const[n,r]of Object.entries(t)){const t=new RegExp(`{${n}}`,"g");e=e.replace(t,String(r))}return void 0===e?"":e}return console.error(`${e} not exists.`),""};vn.loadYAML=(e,t)=>{const n=yn.load(t);for(const[t,r]of Object.entries(n))void 0===bn[t]&&(bn[t]={}),bn[t][e]=r},vn.loadYAMLs=async e=>{const t=[];for(const[n,r]of Object.entries(e))for(const e of r)t.push((async()=>{const t=yn.load(await(await fetch(e)).text());if(void 0!==t)for(const[e,r]of Object.entries(t))void 0===bn[e]&&(bn[e]={}),bn[e][n]=r})());await Promise.all(t)},vn.getMessages=e=>bn[e],vn.getLangMessages=(e,t="en")=>{const{language:n,locale:r}=wn(),s="string"==typeof e?bn[e]:e;if(void 0!==s){let e=s[p.language];if(void 0===e&&(e=s[n],void 0!==e&&"object"==typeof e&&(e=void 0!==e[r]?e[r]:e[Object.keys(e)[0]])),void 0===e){const n=s[t];e=void 0!==n?n:s[Object.keys(s)[0]]}return void 0!==e&&"object"==typeof e&&(e=e[Object.keys(e)[0]]),{[n]:void 0===e?"":e}}return console.error(`${e} not exists.`),{[n]:""}};const An=vn;class En extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class kn extends En{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pn extends En{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xn extends En{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _n=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class Cn{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,8138,23)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return _n(this,void 0,void 0,(function*(){try{const{headers:r,method:s,body:i}=t;let o,a={};i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",o=i):"string"==typeof i?(a["Content-Type"]="text/plain",o=i):"undefined"!=typeof FormData&&i instanceof FormData?o=i:(a["Content-Type"]="application/json",o=JSON.stringify(i)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:o}).catch((e=>{throw new kn(e)})),l=c.headers.get("x-relay-error");if(l&&"true"===l)throw new Pn(c);if(!c.ok)throw new xn(c);let u,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return u="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"multipart/form-data"===h?yield c.formData():yield c.text(),{data:u,error:null}}catch(e){return{data:null,error:e}}}))}}var Sn=n(8138),On=n.n(Sn);class In{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=On():this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let s=null,i=null,o=null,a=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),l=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&l&&l.length>1&&(o=parseInt(l[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,a=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,a=200,c="OK")}catch(n){404===e.status&&""===t?(a=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null==s?void 0:s.details)||void 0===r?void 0:r.includes("Results contain 0 rows"))&&(s=null,a=200,c="OK"),s&&this.shouldThrowOnError)throw s}return{error:s,data:i,count:o,status:a,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}}class Tn extends In{select(e){let t=!1;const n=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r}={}){const s=r?`${r}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const n=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:n}={}){const r=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),a=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${a}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Nn extends Tn{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=t.map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t}={}){const n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}class Un{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let s=!1;const i=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e))).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Nn({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new Nn({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){const i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new Nn({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Nn({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new Nn({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const jn={"X-Client-Info":"postgrest-js/1.8.4"};class Rn{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},jn),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new Un(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Rn(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,count:r}={}){let s;const i=new URL(`${this.url}/rpc/${e}`);let o;n?(s="HEAD",Object.entries(t).forEach((([e,t])=>{i.searchParams.append(e,`${t}`)}))):(s="POST",o=t);const a=Object.assign({},this.headers);return r&&(a.Prefer=`count=${r}`),new Nn({method:s,url:i,headers:a,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}}var Ln=n(6081);const Bn={"X-Client-Info":"realtime-js/2.7.4"};var Fn,Dn,Mn,$n,Gn,Hn,zn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Fn||(Fn={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Dn||(Dn={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Mn||(Mn={})),function(e){e.websocket="websocket"}($n||($n={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Gn||(Gn={}));class Wn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class qn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i+=r;const a=n.decode(e.slice(i,i+s));i+=s;return{ref:null,topic:o,event:a,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class Kn{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0;"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Hn||(Hn={}));class Vn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vn.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=Vn.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Vn.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const s=this.cloneDeep(e),i=this.transformState(t),o={},a={};return this.map(s,((e,t)=>{i[e]||(a[e]=t)})),this.map(i,((e,t)=>{const n=s[e];if(n){const r=t.map((e=>e.presence_ref)),s=n.map((e=>e.presence_ref)),i=t.filter((e=>s.indexOf(e.presence_ref)<0)),c=n.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(o[e]=i),c.length>0&&(a[e]=c)}else o[e]=t})),this.syncDiff(s,{joins:o,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,((t,r)=>{var s;const i=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map((e=>e.presence_ref)),r=i.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,i,r)})),this.map(i,((t,n)=>{let s=e[t];if(!s)return;const i=n.map((e=>e.presence_ref));s=s.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=s,r(t,s,n),0===s.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(zn||(zn={}));const Jn=(e,t,n={})=>{var r;const s=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((n,r)=>(n[r]=Qn(r,e,t,s),n)),{})},Qn=(e,t,n,r)=>{const s=t.find((t=>t.name===e)),i=null==s?void 0:s.type,o=n[e];return i&&!r.includes(i)?Yn(i,o):Zn(o)},Yn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return nr(t,n)}switch(e){case zn.bool:return Xn(t);case zn.float4:case zn.float8:case zn.int2:case zn.int4:case zn.int8:case zn.numeric:case zn.oid:return er(t);case zn.json:case zn.jsonb:return tr(t);case zn.timestamp:return rr(t);case zn.abstime:case zn.date:case zn.daterange:case zn.int4range:case zn.int8range:case zn.money:case zn.reltime:case zn.text:case zn.time:case zn.timestamptz:case zn.timetz:case zn.tsrange:case zn.tstzrange:default:return Zn(t)}},Zn=e=>e,Xn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},er=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tr=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nr=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(e){r=s?s.split(","):[]}return r.map((e=>Yn(t,e)))}return e},rr=e=>"string"==typeof e?e.replace(" ","T"):e;var sr,ir,or,ar=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(sr||(sr={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"}(ir||(ir={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(or||(or={}));class cr{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Dn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Kn(this,Mn.join,this.params,this.timeout),this.rejoinTimer=new Wn((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=Dn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dn.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())})),this._on(Mn.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new Vn(this)}subscribe(e,t=this.timeout){var n,r;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i}}=this.params;this._onError((t=>e&&e("CHANNEL_ERROR",t))),this._onClose((()=>e&&e("CLOSED")));const o={},a={broadcast:s,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[]};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(({postgres_changes:t})=>{var n;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==t){const r=this.bindings.postgres_changes,s=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,i=[];for(let n=0;n<s;n++){const s=r[n],{filter:{event:o,schema:a,table:c,filter:l}}=s,u=t&&t[n];if(!u||u.event!==o||u.schema!==a||u.table!==c||u.filter!==l)return this.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")})).receive("error",(t=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{e&&e("TIMED_OUT")}))}return this}presenceState(){return this.presence.state}track(e,t={}){return ar(this,void 0,void 0,(function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}))}untrack(e={}){return ar(this,void 0,void 0,(function*(){return yield this.send({type:"presence",event:"untrack"},e)}))}on(e,t,n){return this._on(e,t,n)}send(e,t={}){return new Promise((n=>{var r,s,i;const o=this._push(e.type,e,t.timeout||this.timeout);o.rateLimited&&n("rate limited"),"broadcast"!==e.type||(null===(i=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",(()=>n("ok"))),o.receive("timeout",(()=>n("timed out")))}))}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new Kn(this,Mn.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Kn(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const i=e.toLocaleLowerCase(),{close:o,error:a,leave:c,join:l}=Mn;if(n&&[o,a,c,l].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(u,n))):null===(s=this.bindings[i])||void 0===s||s.filter((e=>{var n,r,s,o,a,c;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(c=null==t?void 0:t.event)||void 0===c?void 0:c.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===Dn.closed}_isJoined(){return this.state===Dn.joined}_isJoining(){return this.state===Dn.joining}_isLeaving(){return this.state===Dn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&cr.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mn.close,{},e)}_onError(e){this._on(Mn.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Jn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Jn(e.columns,e.old_record)),t}}var lr=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const ur=()=>{};class hr{constructor(e,t){var n,r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Bn,this.params={},this.timeout=1e4,this.transport=Ln.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ur,this.conn=null,this.sendBuffer=[],this.serializer=new qn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${$n.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.eventsPerSecond;s&&(this.eventsPerSecondLimitMs=Math.floor(1e3/s));const i=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey;i&&(this.accessToken=i),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wn((()=>lr(this,void 0,void 0,(function*(){this.disconnect(),this.connect()}))),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return lr(this,void 0,void 0,(function*(){const t=yield e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}))}removeAllChannels(){return lr(this,void 0,void 0,(function*(){const e=yield Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}))}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return Gn.Connecting;case Fn.open:return Gn.Open;case Fn.closing:return Gn.Closing;default:return Gn.Closed}}isConnected(){return this.connectionState()===Gn.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();const n=new cr(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:r,ref:s}=e;let i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};if(this.log("push",`${t} ${n} (${s})`,r),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(n)){if(this._throttle(i)())return"rate limited"}else i();else this.sendBuffer.push(i)}setAuth(e){this.accessToken=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Mn.access_token,{access_token:e})}))}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:s}=e;(s&&s===this.pendingHeartbeatRef||n===(null==r?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${s&&"("+s+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,s))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(Mn.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(e(),t>0&&(this.inThrottle=!0,setTimeout((()=>{this.inThrottle=!1}),t)),!1)}}class dr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fr(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class pr extends dr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gr extends dr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var mr=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const yr=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,8138,23)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)};var br=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const wr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vr=(e,t)=>br(void 0,void 0,void 0,(function*(){const r=yield mr(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.t.bind(n,8138,23))).Response:Response}));e instanceof r?e.json().then((n=>{t(new pr(wr(n),e.status||500))})).catch((e=>{t(new gr(wr(e),e))})):t(new gr(wr(e),e))})),Ar=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};function Er(e,t,n,r,s,i){return br(this,void 0,void 0,(function*(){return new Promise(((o,a)=>{e(n,Ar(t,r,s,i)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()})).then((e=>o(e))).catch((e=>vr(e,a)))}))}))}function kr(e,t,n,r){return br(this,void 0,void 0,(function*(){return Er(e,"GET",t,n,r)}))}function Pr(e,t,n,r,s){return br(this,void 0,void 0,(function*(){return Er(e,"POST",t,r,s,n)}))}function xr(e,t,n,r,s){return br(this,void 0,void 0,(function*(){return Er(e,"DELETE",t,r,s,n)}))}var _r=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Cr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Or{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=yr(r)}uploadOrUpdate(e,t,n,r){return _r(this,void 0,void 0,(function*(){try{let s;const i=Object.assign(Object.assign({},Sr),r),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),s.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl)):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType);const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),l=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:o},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));if(l.ok)return{data:{path:a},error:null};return{data:null,error:yield l.json()}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}upload(e,t,n){return _r(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return _r(this,void 0,void 0,(function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Sr.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:i});if(a.ok)return{data:{path:s},error:null};return{data:null,error:yield a.json()}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}createSignedUploadUrl(e){return _r(this,void 0,void 0,(function*(){try{let t=this._getFinalPath(e);const n=yield Pr(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+n.url),s=r.searchParams.get("token");if(!s)throw new dr("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:s},error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}update(e,t,n){return _r(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t){return _r(this,void 0,void 0,(function*(){try{return{data:yield Pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}copy(e,t){return _r(this,void 0,void 0,(function*(){try{return{data:{path:(yield Pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}createSignedUrl(e,t,n){return _r(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),s=yield Pr(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}createSignedUrls(e,t,n){return _r(this,void 0,void 0,(function*(){try{const r=yield Pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null}))),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}download(e,t){return _r(this,void 0,void 0,(function*(){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield kr(this.fetch,`${this.url}/${n}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}remove(e){return _r(this,void 0,void 0,(function*(){try{return{data:yield xr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}list(e,t,n){return _r(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},Cr),t),{prefix:e||""});return{data:yield Pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Ir={"X-Client-Info":"storage-js/2.5.4"};var Tr=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class Nr{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Ir),t),this.fetch=yr(n)}listBuckets(){return Tr(this,void 0,void 0,(function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}getBucket(e){return Tr(this,void 0,void 0,(function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}createBucket(e,t={public:!1}){return Tr(this,void 0,void 0,(function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}updateBucket(e,t){return Tr(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,s){return br(this,void 0,void 0,(function*(){return Er(e,"PUT",t,r,s,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}emptyBucket(e){return Tr(this,void 0,void 0,(function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}deleteBucket(e){return Tr(this,void 0,void 0,(function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}}))}}class Ur extends Nr{constructor(e,t={},n){super(e,t,n)}from(e){return new Or(this.url,this.headers,e,this.fetch)}}let jr="";jr="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Rr={"X-Client-Info":`supabase-js-${jr}/2.36.0`};var Lr=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Br=e=>{let t;return t=e||("undefined"==typeof fetch?On():fetch),(...e)=>t(...e)},Fr=(e,t,n)=>{const r=Br(n),s="undefined"==typeof Headers?Sn.Headers:Headers;return(n,i)=>Lr(void 0,void 0,void 0,(function*(){var o;const a=null!==(o=yield t())&&void 0!==o?o:e;let c=new s(null==i?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},i),{headers:c}))}))};const Dr=()=>"undefined"!=typeof document,Mr={tested:!1,writable:!1},$r=()=>{if(!Dr())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(Mr.tested)return Mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mr.tested=!0,Mr.writable=!0}catch(e){Mr.tested=!0,Mr.writable=!1}return Mr.writable};function Gr(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(e){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}const Hr=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,8138,23)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},zr=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Wr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},qr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return n}},Kr=async(e,t)=>{await e.removeItem(t)};class Vr{constructor(){this.promise=new Vr.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Jr(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,s,i,o,a,c,l="",u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)i=t.indexOf(e.charAt(u++)),o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),n=i<<2|o>>4,r=(15&o)<<4|a>>2,s=(3&a)<<6|c,l+=String.fromCharCode(n),64!=a&&0!=r&&(l+=String.fromCharCode(r)),64!=c&&0!=s&&(l+=String.fromCharCode(s));return l}(n))}function Qr(e){return("0"+e.toString(16)).substr(-2)}function Yr(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Qr).join("")}async function Zr(e){if("undefined"==typeof crypto)return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return function(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(t)}Vr.promiseConstructor=Promise;class Xr extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function es(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class ts extends Xr{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ns extends Xr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class rs extends Xr{constructor(e,t,n){super(e),this.name=t,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ss extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class is extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class os extends rs{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class as extends rs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cs extends rs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ls extends rs{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function us(e){return es(e)&&"AuthRetryableFetchError"===e.name}var hs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fs=[502,503,504];async function ps(e){if(!zr(e))throw new ls(ds(e),0);if(fs.includes(e.status))throw new ls(ds(e),e.status);let t;try{t=await e.json()}catch(e){throw new ns(ds(e),e)}throw new ts(ds(t),e.status||500)}const gs=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ms(e,t,n,r){var s;const i=Object.assign({},null==r?void 0:r.headers);(null==r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const o=null!==(s=null==r?void 0:r.query)&&void 0!==s?s:{};(null==r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await async function(e,t,n,r,s,i){const o=gs(t,r,s,i);let a;try{a=await e(n,o)}catch(e){throw console.error(e),new ls(ds(e),0)}a.ok||await ps(a);if(null==r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(e){await ps(e)}}(e,t,n+a,{headers:i,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(c):{data:Object.assign({},c),error:null}}function ys(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function bs(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ws(e){return{data:e,error:null}}function vs(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=hs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},user:Object.assign({},o)},error:null}}function As(e){return e}var Es=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class ks{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Hr(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await ms(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(es(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await ms(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:bs})}catch(e){if(es(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{const{options:t}=e,n=Es(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await ms(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:vs,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(es(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await ms(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bs})}catch(e){if(es(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,n,r,s,i,o,a;try{const c={nextPage:null,lastPage:0,total:0},l=await ms(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:As});if(l.error)throw l.error;const u=await l.json(),h=null!==(i=l.headers.get("x-total-count"))&&void 0!==i?i:0,d=null!==(a=null===(o=l.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);c[`${n}Page`]=t})),c.total=parseInt(h)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(e){if(es(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await ms(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bs})}catch(e){if(es(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await ms(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:bs})}catch(e){if(es(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await ms(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:bs})}catch(e){if(es(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{const{data:t,error:n}=await ms(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(es(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{return{data:await ms(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(es(e))return{data:null,error:e};throw e}}}const Ps="2.54.0",xs={"X-Client-Info":`gotrue-js/${Ps}`},_s={getItem:e=>$r()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$r()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$r()&&globalThis.localStorage.removeItem(e)}};function Cs(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}globalThis&&$r()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class Ss extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Os={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xs,flowType:"implicit",debug:!1},Is=3e4;async function Ts(e,t,n){return await n()}class Ns{constructor(e){var t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ns.nextInstanceID,Ns.nextInstanceID+=1,this.instanceID>0&&Dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Os),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ks({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Hr(n.fetch),this.lock=n.lock||Ts,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:$r()?this.storage=_s:(this.memoryStorage={},this.storage=Cs(this.memoryStorage)):(this.memoryStorage={},this.storage=Cs(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(t=this.broadcastChannel)||void 0===t||t.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ps}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){try{const e=!!Dr()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:r,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",s),await this._saveSession(r),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return es(e)?{error:e}:{error:new ns("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,n,r;try{let s;if(await this._removeSession(),"email"in e){const{email:n,password:r,options:i}=e;let o=null,a=null;if("pkce"===this.flowType){const e=Yr();await Wr(this.storage,`${this.storageKey}-code-verifier`,e),o=await Zr(e),a=e===o?"plain":"s256"}s=await ms(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:a},xform:ys})}else{if(!("phone"in e))throw new os("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;s=await ms(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null==o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null==o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:ys})}}const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const a=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(e){if(es(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(await this._removeSession(),"email"in e){const{email:n,password:r,options:s}=e;t=await ms(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:ys})}else{if(!("phone"in e))throw new os("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await ms(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:ys})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:r}):{data:{user:null,session:null},error:new is}}catch(e){if(es(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,n,r,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await qr(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:r}=await ms(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:ys});return await Kr(this.storage,`${this.storageKey}-code-verifier`),r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:r}):{data:{user:null,session:null},error:new is}}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:n,token:r,access_token:s,nonce:i}=e,o=await ms(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:ys}),{data:a,error:c}=o;return c?{data:{user:null,session:null},error:c}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c}):{data:{user:null,session:null},error:new is}}catch(e){if(es(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,n,r,s,i;try{if(await this._removeSession(),"email"in e){const{email:r,options:s}=e;let i=null,o=null;if("pkce"===this.flowType){const e=Yr();await Wr(this.storage,`${this.storageKey}-code-verifier`,e),i=await Zr(e),o=e===i?"plain":"s256"}const{error:a}=await ms(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:a}=await ms(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(i=null==n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new os("You must provide either an email or phone number.")}catch(e){if(es(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,n;try{let r,s;"email_change"!==e.type&&"phone_change"!==e.type&&await this._removeSession(),"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await ms(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:ys});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const a=i.session,c=i.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(e){if(es(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,n,r;try{return await this._removeSession(),await ms(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:ws})}catch(e){if(es(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new ss;const{error:r}=await ms(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(es(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{"email_change"!=e.type&&"phone_change"!=e.type&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:i}=await ms(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:i,error:o}=await ms(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o}}throw new os("You must provide either an email or phone number and a type")}catch(e){if(es(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return{data:{session:e},error:null};const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,(async()=>await this._getUser())))}async _getUser(e){try{return e?await ms(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bs}):await this._useSession((async e=>{var t,n;const{data:r,error:s}=e;if(s)throw s;return await ms(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==n?n:void 0,xform:bs})}))}catch(e){if(es(e))return{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new ss;const i=r.session;let o=null,a=null;if("pkce"===this.flowType&&null!=e.email){const e=Yr();await Wr(this.storage,`${this.storageKey}-code-verifier`,e),o=await Zr(e),a=e===o?"plain":"s256"}const{data:c,error:l}=await ms(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:i.access_token,xform:bs});if(l)throw l;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(e){if(es(e))return{data:{user:null},error:e};throw e}}_decodeJWT(e){return Jr(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ss;const t=Date.now()/1e3;let n=t,r=!0,s=null;const i=Jr(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(es(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new ss;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(es(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e){try{if(!Dr())throw new as("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new as("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!e)throw new cs("Not a valid PKCE flow url.");const t=Gr(window.location.href);if(e){if(!t.code)throw new cs("No code detected.");const{data:e,error:n}=await this._exchangeCodeForSession(t.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new as(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:o,expires_at:a,token_type:c}=t;if(!(s&&o&&i&&c))throw new as("No session defined in URL");const l=Math.round(Date.now()/1e3),u=parseInt(o);let h=l+u;a&&(h=parseInt(a));const d=h-l;1e3*d<=Is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${u}s`);const f=h-u;l-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,l):l-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",f,h,l);const{data:p,error:g}=await this._getUser(s);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:h,refresh_token:i,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(e){if(es(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){const e=Gr(window.location.href);return!(!Dr()||!e.access_token&&!e.error_description)}async _isPKCEFlow(){const e=Gr(window.location.href),t=await qr(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return es(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(t){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}}))}async resetPasswordForEmail(e,t={}){let n=null,r=null;if("pkce"===this.flowType){const e=Yr();await Wr(this.storage,`${this.storageKey}-code-verifier`,e),n=await Zr(e),r=e===n?"plain":"s256"}try{return await ms(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(es(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*n),this._debug(t,"refreshing attempt",n),await ms(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ys})),r=(e,t,n)=>n&&n.error&&us(n.error)&&Date.now()+200*(e+1)-s<Is,new Promise(((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(e){if(!r(s,e))return void t(e)}})()})))}catch(e){if(this._debug(t,"error",e),es(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Dr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await qr(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=Math.round(Date.now()/1e3),s=(null!==(e=n.expires_at)&&void 0!==e?e:1/0)<r+10;if(this._debug(t,`session has${s?"":" not"} expired with margin of 10s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),us(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(e){return this._debug(t,"error",e),void console.error(e)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new ss;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Vr;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new ss;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,"error",e),es(e)){const n={session:null,error:e};return null===(t=this.refreshingDeferred)||void 0===t||t.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}}));if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await this._persistSession(e)}_persistSession(e){return this._debug("#_persistSession()",e),Wr(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Kr(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Is);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Ss))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t){const n=[`provider=${encodeURIComponent(e)}`];if((null==t?void 0:t.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&n.push(`scopes=${encodeURIComponent(t.scopes)}`),"pkce"===this.flowType){const e=Yr();await Wr(this.storage,`${this.storageKey}-code-verifier`,e);const t=await Zr(e),r=e===t?"plain":"s256";this._debug("PKCE","code verifier",`${e.substring(0,5)}...`,"code challenge",t,"method",r);const s=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(r)}`});n.push(s.toString())}if(null==t?void 0:t.queryParams){const e=new URLSearchParams(t.queryParams);n.push(e.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ms(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(e){if(es(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await ms(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(n=null==s?void 0:s.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:((null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(e){if(es(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:o}=await ms(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})}))}catch(e){if(es(e))return{data:null,error:e};throw e}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ms(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(e){if(es(e))return{data:null,error:e};throw e}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null==e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}))))}}Ns.nextInstanceID=0;class Us extends Ns{constructor(e){super(e)}}var js=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Rs={headers:Rr},Ls={schema:"public"},Bs={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fs={};class Ds{constructor(e,t,n){var r,s,i,o,a,c,l,u;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const h=e.replace(/\/$/,"");this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f=function(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:c,global:l}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),i)}}(null!=n?n:{},{db:Ls,realtime:Fs,auth:Object.assign(Object.assign({},Bs),{storageKey:d}),global:Rs});this.storageKey=null!==(s=null===(r=f.auth)||void 0===r?void 0:r.storageKey)&&void 0!==s?s:"",this.headers=null!==(o=null===(i=f.global)||void 0===i?void 0:i.headers)&&void 0!==o?o:{},this.auth=this._initSupabaseAuthClient(null!==(a=f.auth)&&void 0!==a?a:{},this.headers,null===(c=f.global)||void 0===c?void 0:c.fetch),this.fetch=Fr(t,this._getAccessToken.bind(this),null===(l=f.global)||void 0===l?void 0:l.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},f.realtime)),this.rest=new Rn(`${h}/rest/v1`,{headers:this.headers,schema:null===(u=f.db)||void 0===u?void 0:u.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Cn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ur(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return js(this,void 0,void 0,(function*(){const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:s,flowType:i,debug:o},a,c){const l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Us({url:this.authUrl,headers:Object.assign(Object.assign({},l),a),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:i,debug:o,fetch:c})}_initRealtimeClient(e){return new hr(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=n?n:null),this.changedAccessToken=n)}}const Ms=new class extends o{client;connect(e,t){this.client=((e,t,n)=>new Ds(e,t,n))(e,t,{auth:{autoRefreshToken:!0,persistSession:!0}})}};class $s{static toTitleCase(e){return e.replace(/(^\w|\s\w)(\S*)/g,((e,t,n)=>t.toUpperCase()+n.toLowerCase()))}static shortenEthereumAddress(e){return 42===e.length&&e.startsWith("0x")?`${e.substring(0,6)}...${e.substring(38)}`:e}static numberWithCommas(e,t){if(void 0===t||+ +e>Number.MAX_SAFE_INTEGER){const t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"0"===t[1]?t[0]:t.join(".")}const n=String(+(+e).toFixed(t)).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}}class Gs{closed=!1;changeParams(e,t){}close(){this.closed=!0}}var Hs=n(7484),zs=n.n(Hs),Ws=n(4110),qs=n.n(Ws);const Ks=new class{dev=!1;avaxRpc;avaxChainId};var Vs=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured for connector "${t}".`),this.name="ChainNotConfiguredForConnectorError"}},Js=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}};function Qs(e){return"string"==typeof e?Number.parseInt(e,"0x"===e.trim().substring(0,2)?16:10):"bigint"==typeof e?Number(e):e}var Ys=n(6729),Zs=n(2676);const Xs=(0,Zs.ax)({id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),ei=(0,Zs.ax)({id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0});var ti=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ni=(e,t,n)=>(ti(e,t,"read from private field"),n?n.call(e):t.get(e)),ri=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},si=(e,t,n,r)=>(ti(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ii=(e,t,n)=>(ti(e,t,"access private method"),n),oi=class extends Ys{constructor({chains:e=[Xs,ei],options:t}){super(),this.chains=e,this.options=t}getBlockExplorerUrls(e){const{default:t,...n}=e.blockExplorers??{};if(t)return[t.url,...Object.values(n).map((e=>e.url))]}isChainUnsupported(e){return!this.chains.some((t=>t.id===e))}setStorage(e){this.storage=e}},ai=n(5775),ci=n(2027),li=n(8863);class ui extends ci.G{constructor(e,{code:t,docsPath:n,metaMessages:r,shortMessage:s}){super(s,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof li.bs?e.code:t??-1}}class hi extends ui{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class di extends ui{constructor(e){super(e,{code:di.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(di,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class fi extends ui{constructor(e){super(e,{code:fi.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(fi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class pi extends ui{constructor(e){super(e,{code:pi.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(pi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class gi extends ui{constructor(e){super(e,{code:gi.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(gi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class mi extends ui{constructor(e){super(e,{code:mi.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(mi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class yi extends ui{constructor(e){super(e,{code:yi.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(yi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class bi extends ui{constructor(e){super(e,{code:bi.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(bi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class wi extends ui{constructor(e){super(e,{code:wi.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(wi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class vi extends ui{constructor(e){super(e,{code:vi.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(vi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ai extends ui{constructor(e){super(e,{code:Ai.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Ai,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ei extends ui{constructor(e){super(e,{code:Ei.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Ei,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ki extends ui{constructor(e){super(e,{code:ki.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(ki,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Pi extends hi{constructor(e){super(e,{code:Pi.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Pi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class xi extends hi{constructor(e){super(e,{code:xi.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(xi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class _i extends hi{constructor(e){super(e,{code:_i.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(_i,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ci extends hi{constructor(e){super(e,{code:Ci.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Ci,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Si extends hi{constructor(e){super(e,{code:Si.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Si,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Oi extends hi{constructor(e){super(e,{code:Oi.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Oi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ii extends ui{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}var Ti=n(4503);const Ni=256;let Ui,ji=Ni;function Ri(e=11){if(!Ui||ji+e>2*Ni){Ui="",ji=0;for(let e=0;e<Ni;e++)Ui+=(256+256*Math.random()|0).toString(16).substring(1)}return Ui.substring(ji,ji+++e)}function Li(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,key:r="base",name:s="Base Client",pollingInterval:i=4e3,type:o="base"}=e,a=e.chain,c=e.account?(0,Ti.T)(e.account):void 0,{config:l,request:u,value:h}=e.transport({chain:a,pollingInterval:i}),d={account:c,batch:t,cacheTime:n,chain:a,key:r,name:s,pollingInterval:i,request:u,transport:{...l,...h},type:o,uid:Ri()};return Object.assign(d,{extend:function e(t){return n=>{const r=n(t);for(const e in d)delete r[e];const s={...t,...r};return Object.assign(s,{extend:e(s)})}}(d)})}var Bi=n(5946);async function Fi(e){const t=await e.request({method:"eth_chainId"});return(0,Bi.ly)(t)}var Di=n(2106);var Mi=n(7412),$i=n(7040),Gi=n(5444);const Hi="/docs/contract/encodeDeployData";function zi({abi:e,args:t,bytecode:n}){if(!t||0===t.length)return n;const r=e.find((e=>"type"in e&&"constructor"===e.type));if(!r)throw new Mi.fM({docsPath:Hi});if(!("inputs"in r))throw new Mi.cO({docsPath:Hi});if(!r.inputs||0===r.inputs.length)throw new Mi.cO({docsPath:Hi});const s=(0,Gi.E)(r.inputs,t);return(0,$i.SM)([n,s])}class Wi extends ci.G{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}var qi=n(6445),Ki=n(3639),Vi=n(7469);var Ji=n(1163),Qi=n(4688),Yi=n(7531),Zi=n(7795);class Xi extends ci.G{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class eo extends ci.G{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class to extends ci.G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,Zi.o)(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class no extends ci.G{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const ro={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function so(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,Bi.ly)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,Bi.ly)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?ro[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip2930"===t.type&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function io(e){const t=e.transactions?.map((e=>"string"==typeof e?e:so(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function oo(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){const i=r??"latest",o=s??!1,a=void 0!==n?(0,Di.eC)(n):void 0;let c=null;if(c=t?await e.request({method:"eth_getBlockByHash",params:[t,o]}):await e.request({method:"eth_getBlockByNumber",params:[a||i,o]}),!c)throw new no({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||io)(c)}async function ao(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function co(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};if("function"==typeof r?.fees?.defaultPriorityFee){const t=n||await oo(e);return r.fees.defaultPriorityFee({block:t,client:e,request:s})}if(void 0!==r?.fees?.defaultPriorityFee)return r?.fees?.defaultPriorityFee;try{const t=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,Bi.y_)(t)}catch{const[t,r]=await Promise.all([n?Promise.resolve(n):oo(e),ao(e)]);if("bigint"!=typeof t.baseFeePerGas)throw new eo;const s=r-t.baseFeePerGas;return s<0n?0n:s}}async function lo(e,t){const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new Xi;const a=10**(o.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(o*a))/BigInt(a),l=n||await oo(e);if("function"==typeof r?.fees?.estimateFeesPerGas)return r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:s,type:i});if("eip1559"===i){if("bigint"!=typeof l.baseFeePerGas)throw new eo;const t=s?.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await co(e,{block:l,chain:r,request:s}),n=c(l.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:s?.gasPrice??c(await ao(e))}}var uo=n(9625);class ho extends ci.G{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:i,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:h}){const d=(0,Ki.xr)({from:t?.address,to:u,value:void 0!==h&&`${(0,uo.d)(h)} ${r?.nativeCurrency.symbol||"ETH"}`,data:s,gas:i,gasPrice:void 0!==o&&`${(0,Zi.o)(o)} gwei`,maxFeePerGas:void 0!==a&&`${(0,Zi.o)(a)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,Zi.o)(c)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}async function fo(e,t){const n=t.account??e.account;if(!n)throw new Wi({docsPath:"/docs/actions/public/estimateGas"});const r=(0,Ti.T)(n);try{const{accessList:n,blockNumber:s,blockTag:i,data:o,gas:a,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:h,to:d,value:f,...p}="local"===r.type?await go(e,t):t,g=(s?(0,Di.eC)(s):void 0)||i;(0,Yi.F)(t);const m=e.chain?.formatters?.transactionRequest?.format||Qi.tG,y=m({...(0,Ji.K)(p,{format:m}),from:r.address,accessList:n,data:o,gas:a,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:h,to:d,value:f}),b=await e.request({method:"eth_estimateGas",params:g?[y,g]:[y]});return BigInt(b)}catch(n){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,Vi.k)(e,n);return t instanceof qi.cj?e:t})();return new ho(r,{docsPath:t,...n})}(n,{...t,account:r,chain:e.chain})}}async function po(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?(0,Di.eC)(r):n]});return(0,Bi.ly)(s)}async function go(e,t){const{account:n=e.account,chain:r,gas:s,nonce:i,type:o}=t;if(!n)throw new Wi;const a=(0,Ti.T)(n),c=await oo(e,{blockTag:"latest"}),l={...t,from:a.address};if(void 0===i&&(l.nonce=await po(e,{address:a.address,blockTag:"pending"})),void 0===o)try{l.type=function(e){if(e.type)return e.type;if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new Ki.j3({transaction:e})}(l)}catch{l.type="bigint"==typeof c.baseFeePerGas?"eip1559":"legacy"}if("eip1559"===l.type){const{maxFeePerGas:n,maxPriorityFeePerGas:s}=await lo(e,{block:c,chain:r,request:l});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<s)throw new to({maxPriorityFeePerGas:s});l.maxPriorityFeePerGas=s,l.maxFeePerGas=n}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new eo;const{gasPrice:n}=await lo(e,{block:c,chain:r,request:l,type:"legacy"});l.gasPrice=n}return void 0===s&&(l.gas=await fo(e,{...l,account:{address:a.address,type:"json-rpc"}})),(0,Yi.F)(l),l}async function mo(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function yo(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d,...f}=t;if(!n)throw new Wi({docsPath:"/docs/actions/wallet/sendTransaction"});const p=(0,Ti.T)(n);try{let n;if((0,Yi.F)(t),null!==r&&(n=await Fi(e),(0,Zs.qg)({currentChainId:n,chain:r})),"local"===p.type){const t=await go(e,{account:p,accessList:s,chain:r,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d,...f});n||(n=await Fi(e));const g=r?.serializers?.transaction,m=await p.signTransaction({...t,chainId:n},{serializer:g});return await mo(e,{serializedTransaction:m})}const g=r?.formatters?.transactionRequest?.format||Qi.tG,m=g({...(0,Ji.K)(f,{format:g}),accessList:s,data:i,from:p.address,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d});return await e.request({method:"eth_sendTransaction",params:[m]})}catch(e){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,Vi.k)(e,n);return t instanceof qi.cj?e:t})();return new Ki.mk(r,{docsPath:t,...n})}(e,{...t,account:p,chain:t.chain||void 0})}}var bo=n(5102),wo=n(6070),vo=n(6087),Ao=n(9321),Eo=n(9135);const ko=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Po=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function xo({domain:e,message:t,primaryType:n,types:r}){const s=r,i=(e,t)=>{for(const n of e){const{name:e,type:r}=n,o=r,a=t[e],c=o.match(Po);if(c&&("number"==typeof a||"bigint"==typeof a)){const[e,t,n]=c;(0,Di.eC)(a,{signed:"int"===t,size:parseInt(n)/8})}if("address"===o&&"string"==typeof a&&!(0,Ao.U)(a))throw new vo.b({address:a});const l=o.match(ko);if(l){const[e,t]=l;if(t&&(0,Eo.d)(a)!==parseInt(t))throw new Mi.KY({expectedSize:parseInt(t),givenSize:(0,Eo.d)(a)})}const u=s[o];u&&i(u,a)}};if(s.EIP712Domain&&e&&i(s.EIP712Domain,e),"EIP712Domain"!==n){const e=s[n];i(e,t)}}function _o({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}var Co=n(7799);function So(e){return{addChain:t=>async function(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,Di.eC)(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map((({url:e})=>e)):void 0}]})}(e,t),deployContract:t=>function(e,{abi:t,args:n,bytecode:r,...s}){return yo(e,{...s,data:zi({abi:t,args:n,bytecode:r})})}(e,t),getAddresses:()=>async function(e){return(await e.request({method:"eth_accounts"})).map((e=>(0,ai.x)(e)))}(e),getChainId:()=>Fi(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"})}(e),prepareTransactionRequest:t=>go(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"})).map((e=>(0,ai.K)(e)))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}(e,t),sendRawTransaction:t=>mo(e,t),sendTransaction:t=>yo(e,t),signMessage:t=>async function(e,{account:t=e.account,message:n}){if(!t)throw new Wi({docsPath:"/docs/actions/wallet/signMessage"});const r=(0,Ti.T)(t);if("local"===r.type)return r.signMessage({message:n});const s="string"==typeof n?(0,Di.$G)(n):n.raw instanceof Uint8Array?(0,Di.NC)(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]})}(e,t),signTransaction:t=>async function(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Wi({docsPath:"/docs/actions/wallet/signTransaction"});const i=(0,Ti.T)(n);(0,Yi.F)({account:i,...t});const o=await Fi(e);null!==r&&(0,Zs.qg)({currentChainId:o,chain:r});const a=r?.formatters||e.chain?.formatters,c=a?.transactionRequest?.format||Qi.tG;return"local"===i.type?i.signTransaction({chainId:o,...s},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:(0,Di.eC)(o),from:i.address}]})}(e,t),signTypedData:t=>async function(e,{account:t=e.account,domain:n,message:r,primaryType:s,types:i}){if(!t)throw new Wi({docsPath:"/docs/actions/wallet/signTypedData"});const o=(0,Ti.T)(t),a={EIP712Domain:_o({domain:n}),...i};if(xo({domain:n,message:r,primaryType:s,types:a}),"local"===o.type)return o.signTypedData({domain:n,primaryType:s,types:a,message:r});const c=(0,wo.P)({domain:n??{},primaryType:s,types:a,message:r},((e,t)=>(0,bo.v)(t)?t.toLowerCase():t));return e.request({method:"eth_signTypedData_v4",params:[o.address,c]})}(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,Di.eC)(t)}]})}(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t})}(e,t),writeContract:t=>async function(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:i,...o}){const a=(0,Co.R)({abi:t,args:r,functionName:i});return await yo(e,{data:`${a}${s?s.replace("0x",""):""}`,to:n,...o})}(e,t)}}function Oo(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Li({...e,key:t,name:n,transport:e=>r({...e,retryCount:0}),type:"walletClient"}).extend(So)}async function Io(e){return new Promise((t=>setTimeout(t,e)))}function To(e,{delay:t=100,retryCount:n=2,shouldRetry:r=(()=>!0)}={}){return new Promise(((s,i)=>{const o=async({count:a=0}={})=>{try{const t=await e();s(t)}catch(e){if(a<n&&await r({count:a,error:e}))return(async({error:e})=>{const n="function"==typeof t?t({count:a,error:e}):t;n&&await Io(n),o({count:a+1})})({error:e});i(e)}};o()}))}const No=e=>"code"in e?-1!==e.code&&-32004!==e.code&&-32005!==e.code&&-32042!==e.code&&-32603!==e.code:!!(e instanceof li.Gg&&e.status)&&(403!==e.status&&408!==e.status&&413!==e.status&&429!==e.status&&500!==e.status&&502!==e.status&&503!==e.status&&504!==e.status);function Uo(e,{retryDelay:t=150,retryCount:n=3}={}){return async r=>To((async()=>{try{return await e(r)}catch(e){const t=e;switch(t.code){case di.code:throw new di(t);case fi.code:throw new fi(t);case pi.code:throw new pi(t);case gi.code:throw new gi(t);case mi.code:throw new mi(t);case yi.code:throw new yi(t);case bi.code:throw new bi(t);case wi.code:throw new wi(t);case vi.code:throw new vi(t);case Ai.code:throw new Ai(t);case Ei.code:throw new Ei(t);case ki.code:throw new ki(t);case Pi.code:throw new Pi(t);case xi.code:throw new xi(t);case _i.code:throw new _i(t);case Ci.code:throw new Ci(t);case Si.code:throw new Si(t);case Oi.code:throw new Oi(t);case 5e3:throw new Pi(t);default:if(e instanceof ci.G)throw e;throw new Ii(t)}}}),{delay:({count:e,error:n})=>{if(n&&n instanceof li.Gg){const e=n?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*parseInt(e)}return~~(1<<e)*t},retryCount:n,shouldRetry:({error:e})=>!No(e)})}function jo({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:i,type:o},a){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:i,type:o},request:Uo(n,{retryCount:r,retryDelay:s}),value:a}}function Ro(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:i})=>jo({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:s,type:"custom"})}var Lo,Bo=class extends oi{constructor({chains:e,options:t}={}){const n={shimDisconnect:!0,getProvider(){if("undefined"==typeof window)return;const e=window.ethereum;return e?.providers?e.providers[0]:e},...t};super({chains:e,options:n}),this.id="injected",ri(this,Lo,void 0),this.shimDisconnectKey=`${this.id}.shimDisconnect`,this.onAccountsChanged=e=>{0===e.length?this.emit("disconnect"):this.emit("change",{account:(0,ai.K)(e[0])})},this.onChainChanged=e=>{const t=Qs(e),n=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:n}})},this.onDisconnect=async e=>{if(1013===e.code){if(await this.getProvider()){if(await this.getAccount())return}}this.emit("disconnect"),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey)};const r=n.getProvider();if("string"==typeof n.name)this.name=n.name;else if(r){const e=function(e){if(!e)return"Injected";const t=e=>e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isCoin98?"Coin98 Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isDesig?"Desig Wallet":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFordefi?"Fordefi":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOpera?"Opera":e.isPhantom?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isStatus?"Status":e.isSubWallet?"SubWallet":e.isTalisman?"Talisman":e.isTally?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZeal?"Zeal":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0;if(e.providers?.length){const n=new Set;let r=1;for(const s of e.providers){let e=t(s);e||(e=`Unknown Wallet #${r}`,r+=1),n.add(e)}const s=[...n];return s.length?s:s[0]??"Injected"}return t(e)??"Injected"}(r);n.name?this.name=n.name(e):this.name="string"==typeof e?e:e[0]}else this.name="Injected";this.ready=!!r}async connect({chainId:e}={}){try{const t=await this.getProvider();if(!t)throw new Js;t.on&&(t.on("accountsChanged",this.onAccountsChanged),t.on("chainChanged",this.onChainChanged),t.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const n=await t.request({method:"eth_requestAccounts"}),r=(0,ai.K)(n[0]);let s=await this.getChainId(),i=this.isChainUnsupported(s);if(e&&s!==e){s=(await this.switchChain(e)).id,i=this.isChainUnsupported(s)}return this.options.shimDisconnect&&this.storage?.setItem(this.shimDisconnectKey,!0),{account:r,chain:{id:s,unsupported:i}}}catch(e){if(this.isUserRejectedRequestError(e))throw new Pi(e);if(-32002===e.code)throw new wi(e);throw e}}async disconnect(){const e=await this.getProvider();e?.removeListener&&(e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey))}async getAccount(){const e=await this.getProvider();if(!e)throw new Js;const t=await e.request({method:"eth_accounts"});return(0,ai.K)(t[0])}async getChainId(){const e=await this.getProvider();if(!e)throw new Js;return e.request({method:"eth_chainId"}).then(Qs)}async getProvider(){const e=this.options.getProvider();return e&&si(this,Lo,e),ni(this,Lo)}async getWalletClient({chainId:e}={}){const[t,n]=await Promise.all([this.getProvider(),this.getAccount()]),r=this.chains.find((t=>t.id===e));if(!t)throw new Error("provider is required.");return Oo({account:n,chain:r,transport:Ro(t)})}async isAuthorized(){try{if(this.options.shimDisconnect&&!this.storage?.getItem(this.shimDisconnectKey))return!1;if(!await this.getProvider())throw new Js;return!!await this.getAccount()}catch{return!1}}async switchChain(e){const t=await this.getProvider();if(!t)throw new Js;const n=(0,Di.eC)(e);try{return await Promise.all([t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),new Promise((t=>this.on("change",(({chain:n})=>{n?.id===e&&t()}))))]),this.chains.find((t=>t.id===e))??{id:e,name:`Chain ${n}`,network:`${n}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(r){const s=this.chains.find((t=>t.id===e));if(!s)throw new Vs({chainId:e,connectorId:this.id});if(4902===r.code||4902===r?.data?.originalError?.code)try{await t.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:s.name,nativeCurrency:s.nativeCurrency,rpcUrls:[s.rpcUrls.public?.http[0]??""],blockExplorerUrls:this.getBlockExplorerUrls(s)}]});if(await this.getChainId()!==e)throw new Pi(new Error("User rejected switch after adding network."));return s}catch(e){throw new Pi(e)}if(this.isUserRejectedRequestError(r))throw new Pi(r);throw new Oi(r)}}async watchAsset({address:e,decimals:t=18,image:n,symbol:r}){const s=await this.getProvider();if(!s)throw new Js;return s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,decimals:t,image:n,symbol:r}}})}isUserRejectedRequestError(e){return 4001===e.code}};Lo=new WeakMap;var Fo=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Do=(e,t,n)=>(Fo(e,t,"read from private field"),n?n.call(e):t.get(e)),Mo=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},$o=(e,t,n,r)=>(Fo(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Go=n(6693),Ho=n(7210),zo=n(1836),Wo=n(1746),qo=n(5980);function Ko(e,t){if(!(e instanceof ci.G))return!1;const n=e.walk((e=>e instanceof qo.Lu));return n instanceof qo.Lu&&("ResolverNotFound"===n.data?.errorName||("ResolverWildcardNotSupported"===n.data?.errorName||(!!n.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===t&&n.reason===Wo.$[50])))}var Vo=n(1187),Jo=n(4813);function Qo(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return(0,bo.v)(t)?t:null}function Yo(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,Di.ci)(t);const n=e.split(".");for(let e=n.length-1;e>=0;e-=1){const r=Qo(n[e]),s=r?(0,Vo.O0)(r):(0,Jo.w)((0,Vo.qX)(n[e]),"bytes");t=(0,Jo.w)((0,$i.zo)([t,s]),"bytes")}return(0,Di.ci)(t)}function Zo(e){return`[${e.slice(2)}]`}function Xo(e){const t=new Uint8Array(32).fill(0);return e?Qo(e)||(0,Jo.w)((0,Vo.qX)(e)):(0,Di.ci)(t)}function ea(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array((0,Vo.qX)(t).byteLength+2);let r=0;const s=t.split(".");for(let e=0;e<s.length;e++){let t=(0,Vo.qX)(s[e]);t.byteLength>255&&(t=(0,Vo.qX)(Zo(Xo(s[e])))),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const ta=3;function na(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const{code:a,data:c,message:l,shortMessage:u}=e instanceof qo.VQ?e:e instanceof ci.G?e.walk((e=>"data"in e))||e.walk():{},h=e instanceof Mi.wb?new qo.Dk({functionName:i}):[ta,mi.code].includes(a)&&(c||l||u)?new qo.Lu({abi:t,data:"object"==typeof c?c.data:c,functionName:i,message:u??l}):e;return new qo.uq(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}var ra=n(6143);async function sa(e,{abi:t,address:n,args:r,functionName:s,...i}){const o=(0,Co.R)({abi:t,args:r,functionName:s});try{const{data:a}=await(0,ra.R)(e,{data:o,to:n,...i});return(0,Ho.k)({abi:t,args:r,functionName:s,data:a||"0x"})}catch(e){throw na(e,{abi:t,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}class ia extends ci.G{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class oa extends ci.G{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class aa extends ci.G{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class ca extends ci.G{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const la=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ua=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ha=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,da=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function fa(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function pa({uri:e,gatewayUrls:t}){const n=ha.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=fa(t?.ipfs,"https://ipfs.io"),s=fa(t?.arweave,"https://arweave.net"),i=e.match(la),{protocol:o,subpath:a,target:c,subtarget:l=""}=i?.groups||{},u="ipns:/"===o||"ipns/"===a,h="ipfs:/"===o||"ipfs/"===a||ua.test(e);if(e.startsWith("http")&&!u&&!h){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((u||h)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if("ar:/"===o&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(da,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new aa({uri:e})}function ga(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new ia({data:e});return e.image||e.image_url||e.image_data}async function ma({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=pa({uri:t,gatewayUrls:e});if(r)return n;const s=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e}))}}(n);if(s)return n;throw new aa({uri:t})}async function ya(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||"eip155"!==i.toLowerCase())throw new oa({reason:"Only EIP-155 supported"});if(!o)throw new oa({reason:"Chain ID not found"});if(!c)throw new oa({reason:"Contract address not found"});if(!s)throw new oa({reason:"Token ID not found"});if(!a)throw new oa({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}(n),s=await async function(e,{nft:t}){if("erc721"===t.namespace)return sa(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return sa(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new ca({namespace:t.namespace})}(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=pa({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const e=a?atob(i.replace("data:application/json;base64,","")):i;return ma({uri:ga(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then((e=>e.json()));return await ma({gatewayUrls:e,uri:ga(n)})}catch{throw new aa({uri:t})}}({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):ma({uri:n,gatewayUrls:t})}async function ba(e,{blockNumber:t,blockTag:n,name:r,key:s,universalResolverAddress:i}){let o=i;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=(0,Zs.LI)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=await sa(e,{address:o,abi:Go.k3,functionName:"resolve",args:[(0,Di.NC)(ea(r)),(0,Co.R)({abi:Go.nZ,functionName:"text",args:[Yo(r),s]})],blockNumber:t,blockTag:n});if("0x"===i[0])return null;const a=(0,Ho.k)({abi:Go.nZ,functionName:"text",data:i[0]});return""===a?null:a}catch(e){if(Ko(e,"resolve"))return null;throw e}}function wa(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:r,status:s,transport:i})=>{"success"===s&&t===e&&(n[r]=i.request)})),t=>n[t]||e.request}class va extends ci.G{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}var Aa=n(4092),Ea=n(522),ka=n(840);function Pa({abi:e,eventName:t,args:n}){let r=e[0];if(t&&(r=(0,ka.m)({abi:e,args:n,name:t}),!r))throw new Mi.mv(t,{docsPath:"/docs/contract/encodeEventTopics"});if("event"!==r.type)throw new Mi.mv(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=(0,Ea.t)(r),i=(0,Aa.e)(s);let o=[];if(n&&"inputs"in r){const e=r.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map((e=>n[e.name]))??[]:[];t.length>0&&(o=e?.map(((e,n)=>Array.isArray(t[n])?t[n].map(((r,s)=>xa({param:e,value:t[n][s]}))):t[n]?xa({param:e,value:t[n]}):null))??[])}return[i,...o]}function xa({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,Jo.w)((0,Vo.O0)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new va(e.type);return(0,Gi.E)([e],[t])}async function _a(e,{address:t,abi:n,args:r,eventName:s,fromBlock:i,strict:o,toBlock:a}){const c=wa(e,{method:"eth_newFilter"}),l=s?Pa({abi:n,args:r,eventName:s}):void 0,u=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?(0,Di.eC)(i):i,toBlock:"bigint"==typeof a?(0,Di.eC)(a):a,topics:l}]});return{abi:n,args:r,eventName:s,id:u,request:c(u),strict:o,type:"event"}}async function Ca(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),l=wa(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap((e=>Pa({abi:[e],eventName:e.name,args:n})))],r&&(u=u[0]));const h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?(0,Di.eC)(i):i,toBlock:"bigint"==typeof a?(0,Di.eC)(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:h,request:l(h),strict:o,toBlock:a,type:"event"}}async function Sa(e){const t=wa(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}const Oa=new Map,Ia=new Map;async function Ta(e,{cacheKey:t,cacheTime:n=1/0}){const r=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,Oa),r=t(e,Ia);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}(t),s=r.response.get();if(s&&n>0){if((new Date).getTime()-s.created.getTime()<n)return s.data}let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const e=await i;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}const Na=e=>`blockNumber.${e}`;async function Ua(e,{cacheTime:t=e.cacheTime,maxAge:n}={}){const r=await Ta((()=>e.request({method:"eth_blockNumber"})),{cacheKey:Na(e.uid),cacheTime:n??t});return BigInt(r)}var ja=n(4450);const Ra="/docs/contract/decodeEventLog";function La({abi:e,data:t,strict:n,topics:r}){const s=n??!0,[i,...o]=r;if(!i)throw new Mi.FM({docsPath:Ra});const a=e.find((e=>"event"===e.type&&i===(0,Aa.e)((0,Ea.t)(e))));if(!a||!("name"in a)||"event"!==a.type)throw new Mi.lC(i,{docsPath:Ra});const{name:c,inputs:l}=a,u=l?.some((e=>!("name"in e&&e.name)));let h=u?[]:{};const d=l.filter((e=>"indexed"in e&&e.indexed));if(o.length>0)for(let e=0;e<d.length;e++){const t=d[e],n=o[e];if(!n)throw new Mi.Gy({abiItem:a,param:t});h[t.name||e]=Ba({param:t,value:n})}const f=l.filter((e=>!("indexed"in e&&e.indexed)));if(f.length>0)if(t&&"0x"!==t)try{const e=(0,ja.r)(f,t);if(e)if(u)h=[...h,...e];else for(let t=0;t<f.length;t++)h[f[t].name]=e[t]}catch(e){if(s){if(e instanceof Mi.xB)throw new Mi.SM({abiItem:a,data:e.data,params:e.params,size:e.size});throw e}}else if(s)throw new Mi.SM({abiItem:a,data:"0x",params:f,size:0});return{eventName:c,args:Object.values(h).length>0?h:void 0}}function Ba({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return((0,ja.r)([e],t)||[])[0]}function Fa(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Da(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(i?[i]:void 0);let h,d=[];return u&&(d=[u.flatMap((e=>Pa({abi:[e],eventName:e.name,args:a})))],i&&(d=d[0])),h=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:"bigint"==typeof r?(0,Di.eC)(r):r,toBlock:"bigint"==typeof s?(0,Di.eC)(s):s}]}),h.map((e=>{try{const{eventName:t,args:n}=u?La({abi:u,data:e.data,topics:e.topics,strict:l}):{eventName:void 0,args:void 0};return Fa(e,{args:n,eventName:t})}catch(t){let n,r;if(t instanceof Mi.SM||t instanceof Mi.Gy){if(l)return;n=t.abiItem.name,r=t.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return Fa(e,{args:r?[]:{},eventName:n})}})).filter(Boolean)}async function Ma(e,{abi:t,address:n,args:r,blockHash:s,eventName:i,fromBlock:o,toBlock:a,strict:c}){const l=i?(0,ka.m)({abi:t,name:i}):void 0;return Da(e,{address:n,args:r,blockHash:s,event:l,events:l?void 0:t.filter((e=>"event"===e.type)),fromBlock:o,toBlock:a,strict:c})}async function $a(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=n?(0,Di.eC)(n):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map((e=>e.map((e=>BigInt(e)))))}}(await e.request({method:"eth_feeHistory",params:[(0,Di.eC)(t),i||r,s]}))}async function Ga(e,{filter:t}){const n="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map((e=>{if("string"==typeof e)return e;try{const{eventName:r,args:s}="abi"in t&&t.abi?La({abi:t.abi,data:e.data,topics:e.topics,strict:n}):{eventName:void 0,args:void 0};return Fa(e,{args:s,eventName:r})}catch(n){let r,s;if(n instanceof Mi.SM||n instanceof Mi.Gy){if("strict"in t&&t.strict)return;r=n.abiItem.name,s=n.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return Fa(e,{args:s?[]:{},eventName:r})}})).filter(Boolean)}async function Ha(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){const o=r||"latest",a=void 0!==n?(0,Di.eC)(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,Di.eC)(i)]}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,(0,Di.eC)(i)]})),!c)throw new Ki.Bh({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(e.chain?.formatters?.transaction?.format||so)(c)}const za={"0x0":"reverted","0x1":"success"};function Wa(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>Fa(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,Bi.ly)(e.transactionIndex):null,status:e.status?za[e.status]:null,type:e.type?ro[e.type]||e.type:null}}async function qa(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Ki.Yb({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Wa)(n)}async function Ka(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const Va="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";BigInt(0),BigInt(1),BigInt(2);async function Ja(e,{address:t,hash:n,signature:r,...s}){const i=(0,bo.v)(r)?r:(0,Di.NC)(r);try{const{data:r}=await(0,ra.R)(e,{data:zi({abi:Go.$o,args:[t,n,i],bytecode:Va}),...s});return o=r??"0x0",a="0x1",function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}((0,bo.v)(o)?(0,Vo.O0)(o):o,(0,bo.v)(a)?(0,Vo.O0)(a):a)}catch(e){if(e instanceof qo.cg)return!1;throw e}var o,a}async function Qa(e,{address:t,message:n,signature:r,...s}){const i=function(e,t){const n="string"==typeof e?(0,Vo.qX)(e):e.raw instanceof Uint8Array?e.raw:(0,Vo.O0)(e.raw),r=(0,Vo.qX)(`Ethereum Signed Message:\n${n.length}`);return(0,Jo.w)((0,$i.zo)([r,n]),t)}(n);return Ja(e,{address:t,hash:i,signature:r,...s})}function Ya({domain:e,message:t,primaryType:n,types:r}){const s=void 0===e?{}:e,i={EIP712Domain:_o({domain:s}),...r};xo({domain:s,message:t,primaryType:n,types:i});const o=["0x1901"];return s&&o.push(function({domain:e,types:t}){return Za({data:e,primaryType:"EIP712Domain",types:t})}({domain:s,types:i})),"EIP712Domain"!==n&&o.push(Za({data:t,primaryType:n,types:i})),(0,Jo.w)((0,$i.zo)(o))}function Za({data:e,primaryType:t,types:n}){const r=Xa({data:e,primaryType:t,types:n});return(0,Jo.w)(r)}function Xa({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[ec({primaryType:t,types:n})];for(const i of n[t]){const[t,o]=nc({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(t),s.push(o)}return(0,Gi.E)(r,s)}function ec({primaryType:e,types:t}){const n=(0,Di.NC)(function({primaryType:e,types:t}){let n="";const r=tc({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const e of s)n+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return n}({primaryType:e,types:t}));return(0,Jo.w)(n)}function tc({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r?.[0];if(n.has(s)||void 0===t[s])return n;n.add(s);for(const e of t[s])tc({primaryType:e.type,types:t},n);return n}function nc({types:e,name:t,type:n,value:r}){if(void 0!==e[n])return[{type:"bytes32"},(0,Jo.w)(Xa({data:r,primaryType:n,types:e}))];if("bytes"===n){return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},(0,Jo.w)(r)]}if("string"===n)return[{type:"bytes32"},(0,Jo.w)((0,Di.NC)(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map((n=>nc({name:t,type:s,types:e,value:n})));return[{type:"bytes32"},(0,Jo.w)((0,Gi.E)(i.map((([e])=>e)),i.map((([,e])=>e))))]}return[{type:n},r]}const rc=new Map,sc=new Map;let ic=0;function oc(e,t,n){const r=++ic,s=()=>rc.get(e)||[],i=()=>{const t=sc.get(e);1===s().length&&t&&t(),(()=>{const t=s();rc.set(e,t.filter((e=>e.id!==r)))})()},o=s();if(rc.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return i;const a={};for(const e in t)a[e]=(...t)=>{const n=s();0!==n.length&&n.forEach((n=>n.fns[e]?.(...t)))};const c=n(a);return"function"==typeof c&&sc.set(e,c),i}function ac(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:i}));const a=await(n?.(o))??r;await Io(a);const c=async()=>{s&&(await e({unpoll:i}),await Io(r),c())};c()})(),i}function cc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){let a;return(void 0!==i?i:"webSocket"!==e.transport.type)?oc((0,wo.P)(["watchBlockNumber",e.uid,t,n,o]),{onBlockNumber:r,onError:s},(r=>ac((async()=>{try{const t=await Ua(e,{cacheTime:0});if(a){if(t===a)return;if(t-a>1&&n)for(let e=a+1n;e<t;e++)r.onBlockNumber(e,a),a=e}(!a||t>a)&&(r.onBlockNumber(t,a),a=t)}catch(e){r.onError?.(e)}}),{emitOnBegin:t,interval:o}))):(()=>{let t=!0,n=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newHeads"],onData(e){if(!t)return;const n=(0,Bi.y_)(e.result?.number);r(n,a),a=n},onError(e){s?.(e)}});n=i,t||n()}catch(e){s?.(e)}})(),n})()}function lc(e){return{call:t=>(0,ra.R)(e,t),createBlockFilter:()=>async function(e){const t=wa(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}(e),createContractEventFilter:t=>_a(e,t),createEventFilter:t=>Ca(e,t),createPendingTransactionFilter:()=>Sa(e),estimateContractGas:t=>async function(e,{abi:t,address:n,args:r,functionName:s,...i}){const o=(0,Co.R)({abi:t,args:r,functionName:s});try{return await fo(e,{data:o,to:n,...i})}catch(e){const o=i.account?(0,Ti.T)(i.account):void 0;throw na(e,{abi:t,address:n,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:o?.address})}}(e,t),estimateGas:t=>fo(e,t),getBalance:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?(0,Di.eC)(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}(e,t),getBlock:t=>oo(e,t),getBlockNumber:t=>Ua(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=void 0!==n?(0,Di.eC)(n):void 0;let i;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),(0,Bi.ly)(i)}(e,t),getBytecode:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=void 0!==n?(0,Di.eC)(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]});if("0x"!==i)return i}(e,t),getChainId:()=>Fi(e),getContractEvents:t=>Ma(e,t),getEnsAddress:t=>async function(e,{blockNumber:t,blockTag:n,coinType:r,name:s,universalResolverAddress:i}){let o=i;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=(0,Zs.LI)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=(0,Co.R)({abi:Go.X$,functionName:"addr",...null!=r?{args:[Yo(s),BigInt(r)]}:{args:[Yo(s)]}}),a=await sa(e,{address:o,abi:Go.k3,functionName:"resolve",args:[(0,Di.NC)(ea(s)),i],blockNumber:t,blockTag:n});if("0x"===a[0])return null;const c=(0,Ho.k)({abi:Go.X$,args:null!=r?[Yo(s),BigInt(r)]:void 0,functionName:"addr",data:a[0]});return"0x"===c||"0x00"===(0,zo.f)(c)?null:c}catch(e){if(Ko(e,"resolve"))return null;throw e}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:i}){const o=await ba(e,{blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i});if(!o)return null;try{return await ya(e,{record:o,gatewayUrls:r})}catch{return null}}(e,t),getEnsName:t=>async function(e,{address:t,blockNumber:n,blockTag:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,Zs.LI)({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const o=`${t.toLowerCase().substring(2)}.addr.reverse`;try{return(await sa(e,{address:i,abi:Go.du,functionName:"reverse",args:[(0,Di.NC)(ea(o))],blockNumber:n,blockTag:r}))[0]}catch(e){if(Ko(e,"reverse"))return null;throw e}}(e,t),getEnsResolver:t=>async function(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,Zs.LI)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await sa(e,{address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,Di.NC)(ea(r))],blockNumber:t,blockTag:n});return o}(e,t),getEnsText:t=>ba(e,t),getFeeHistory:t=>$a(e,t),estimateFeesPerGas:t=>async function(e,t){return lo(e,t)}(e,t),getFilterChanges:e=>Ga(0,e),getFilterLogs:e=>async function(e,{filter:t}){const n=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>{try{const{eventName:r,args:s}="abi"in t&&t.abi?La({abi:t.abi,data:e.data,topics:e.topics,strict:n}):{eventName:void 0,args:void 0};return Fa(e,{args:s,eventName:r})}catch(n){let r,s;if(n instanceof Mi.SM||n instanceof Mi.Gy){if("strict"in t&&t.strict)return;r=n.abiItem.name,s=n.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return Fa(e,{args:s?[]:{},eventName:r})}})).filter(Boolean)}(0,e),getGasPrice:()=>ao(e),getLogs:t=>Da(e,t),estimateMaxPriorityFeePerGas:t=>async function(e,t){return co(e,t)}(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=void 0!==n?(0,Di.eC)(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}(e,t),getTransaction:t=>Ha(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([Ua(e),t?Ha(e,{hash:t}):void 0]),i=n?.blockNumber||s?.blockNumber;return i?r-i+1n:0n}(e,t),getTransactionCount:t=>po(e,t),getTransactionReceipt:t=>qa(e,t),multicall:t=>async function(e,t){const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:i,contracts:o,multicallAddress:a}=t,c=r??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024);let l=a;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=(0,Zs.LI)({blockNumber:s,chain:e.chain,contract:"multicall3"})}const u=[[]];let h=0,d=0;for(let e=0;e<o.length;e++){const{abi:t,address:r,args:s,functionName:i}=o[e];try{const e=(0,Co.R)({abi:t,args:s,functionName:i});d+=(e.length-2)/2,c>0&&d>c&&u[h].length>0&&(h++,d=(e.length-2)/2,u[h]=[]),u[h]=[...u[h],{allowFailure:!0,callData:e,target:r}]}catch(e){const o=na(e,{abi:t,address:r,args:s,docsPath:"/docs/contract/multicall",functionName:i});if(!n)throw o;u[h]=[...u[h],{allowFailure:!0,callData:"0x",target:r}]}}const f=await Promise.allSettled(u.map((t=>sa(e,{abi:Go.F8,address:l,args:[t],blockNumber:s,blockTag:i,functionName:"aggregate3"})))),p=[];for(let e=0;e<f.length;e++){const t=f[e];if("rejected"===t.status){if(!n)throw t.reason;for(let n=0;n<u[e].length;n++)p.push({status:"failure",error:t.reason,result:void 0});continue}const r=t.value;for(let t=0;t<r.length;t++){const{returnData:s,success:i}=r[t],{callData:a}=u[e][t],{abi:c,address:l,functionName:h,args:d}=o[p.length];try{if("0x"===a)throw new Mi.wb;if(!i)throw new qo.VQ({data:s});const e=(0,Ho.k)({abi:c,args:d,data:s,functionName:h});p.push(n?{result:e,status:"success"}:e)}catch(e){const t=na(e,{abi:c,address:l,args:d,docsPath:"/docs/contract/multicall",functionName:h});if(!n)throw t;p.push({error:t,result:void 0,status:"failure"})}}}if(p.length!==o.length)throw new ci.G("multicall results mismatch");return p}(e,t),prepareTransactionRequest:t=>go(e,t),readContract:t=>sa(e,t),sendRawTransaction:t=>mo(e,t),simulateContract:t=>async function(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:i,...o}){const a=o.account?(0,Ti.T)(o.account):void 0,c=(0,Co.R)({abi:t,args:r,functionName:i});try{const{data:a}=await(0,ra.R)(e,{batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...o});return{result:(0,Ho.k)({abi:t,args:r,functionName:i,data:a||"0x"}),request:{abi:t,address:n,args:r,dataSuffix:s,functionName:i,...o}}}catch(e){throw na(e,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:i,sender:a?.address})}}(e,t),verifyMessage:t=>Qa(e,t),verifyTypedData:t=>async function(e,{address:t,signature:n,message:r,primaryType:s,types:i,domain:o,...a}){return Ja(e,{address:t,hash:Ya({message:r,primaryType:s,types:i,domain:o}),signature:n,...a})}(e,t),uninstallFilter:e=>Ka(0,e),waitForTransactionReceipt:t=>async function(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,timeout:i}){const o=(0,wo.P)(["waitForTransactionReceipt",e.uid,n]);let a,c,l,u=!1;return new Promise(((h,d)=>{i&&setTimeout((()=>d(new Ki.mc({hash:n}))),i);const f=oc(o,{onReplaced:r,resolve:h,reject:d},(r=>{const i=cc(e,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(s){if(u)return;let o=s;const h=e=>{i(),e(),f()};try{if(l){if(t>1&&(!l.blockNumber||o-l.blockNumber+1n<t))return;return void h((()=>r.resolve(l)))}if(a||(u=!0,await To((async()=>{a=await Ha(e,{hash:n}),a.blockNumber&&(o=a.blockNumber)}),{delay:({count:e})=>200*~~(1<<e),retryCount:6}),u=!1),l=await qa(e,{hash:n}),t>1&&(!l.blockNumber||o-l.blockNumber+1n<t))return;h((()=>r.resolve(l)))}catch(n){if(a&&(n instanceof Ki.Bh||n instanceof Ki.Yb))try{c=a;const n=(await oo(e,{blockNumber:o,includeTransactions:!0})).transactions.find((({from:e,nonce:t})=>e===c.from&&t===c.nonce));if(!n)return;if(l=await qa(e,{hash:n.hash}),t>1&&(!l.blockNumber||o-l.blockNumber+1n<t))return;let s="replaced";n.to===c.to&&n.value===c.value?s="repriced":n.from===n.to&&0n===n.value&&(s="cancelled"),h((()=>{r.onReplaced?.({reason:s,replacedTransaction:c,transaction:n,transactionReceipt:l}),r.resolve(l)}))}catch(e){h((()=>r.reject(e)))}else h((()=>r.reject(n)))}}})}))}))}(e,t),watchBlocks:t=>function(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const l=void 0!==a?a:"webSocket"!==e.transport.type,u=o??!1;let h;return l?oc((0,wo.P)(["watchBlocks",e.uid,n,r,u,c]),{onBlock:s,onError:i},(s=>ac((async()=>{try{const r=await oo(e,{blockTag:t,includeTransactions:u});if(r.number&&h?.number){if(r.number===h.number)return;if(r.number-h.number>1&&n)for(let t=h?.number+1n;t<r.number;t++){const n=await oo(e,{blockNumber:t,includeTransactions:u});s.onBlock(n,h),h=n}}(!h?.number||"pending"===t&&!r?.number||r.number&&r.number>h.number)&&(s.onBlock(r,h),h=r)}catch(e){s.onError?.(e)}}),{emitOnBegin:r,interval:c}))):(()=>{let t=!0,n=()=>t=!1;return(async()=>{try{const{unsubscribe:r}=await e.transport.subscribe({params:["newHeads"],onData(n){if(!t)return;const r=(e.chain?.formatters?.block?.format||io)(n.result);s(r,h),h=r},onError(e){i?.(e)}});n=r,t||n()}catch(e){i?.(e)}})(),n})()}(e,t),watchBlockNumber:t=>cc(e,t),watchContractEvent:t=>function(e,{abi:t,address:n,args:r,batch:s=!0,eventName:i,onError:o,onLogs:a,poll:c,pollingInterval:l=e.pollingInterval,strict:u}){return(void 0!==c?c:"webSocket"!==e.transport.type)?(()=>{const c=(0,wo.P)(["watchContractEvent",n,r,s,e.uid,i,l]),h=u??!1;return oc(c,{onLogs:a,onError:o},(o=>{let a,c,u=!1;const d=ac((async()=>{if(u)try{let i;if(c)i=await Ga(0,{filter:c});else{const s=await Ua(e);i=a&&a!==s?await Ma(e,{abi:t,address:n,args:r,fromBlock:a+1n,toBlock:s,strict:h}):[],a=s}if(0===i.length)return;s?o.onLogs(i):i.forEach((e=>o.onLogs([e])))}catch(e){c&&e instanceof yi&&(u=!1),o.onError?.(e)}else{try{c=await _a(e,{abi:t,address:n,args:r,eventName:i,strict:h})}catch{}u=!0}}),{emitOnBegin:!0,interval:l});return async()=>{c&&await Ka(0,{filter:c}),d()}}))})():(()=>{let s=!0,c=()=>s=!1;return(async()=>{try{const l=i?Pa({abi:t,eventName:i,args:r}):[],{unsubscribe:h}=await e.transport.subscribe({params:["logs",{address:n,topics:l}],onData(e){if(!s)return;const n=e.result;try{const{eventName:e,args:r}=La({abi:t,data:n.data,topics:n.topics,strict:u}),s=Fa(n,{args:r,eventName:e});a([s])}catch(e){let t,r;if(e instanceof Mi.SM||e instanceof Mi.Gy){if(u)return;t=e.abiItem.name,r=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const s=Fa(n,{args:r?[]:{},eventName:t});a([s])}},onError(e){o?.(e)}});c=h,s||c()}catch(e){o?.(e)}})(),c})()}(e,t),watchEvent:t=>function(e,{address:t,args:n,batch:r=!0,event:s,events:i,onError:o,onLogs:a,poll:c,pollingInterval:l=e.pollingInterval,strict:u}){const h=void 0!==c?c:"webSocket"!==e.transport.type,d=u??!1;return h?oc((0,wo.P)(["watchEvent",t,n,r,e.uid,s,l]),{onLogs:a,onError:o},(o=>{let a,c,u=!1;const h=ac((async()=>{if(u)try{let l;if(c)l=await Ga(0,{filter:c});else{const r=await Ua(e);l=a&&a!==r?await Da(e,{address:t,args:n,event:s,events:i,fromBlock:a+1n,toBlock:r}):[],a=r}if(0===l.length)return;r?o.onLogs(l):l.forEach((e=>o.onLogs([e])))}catch(e){c&&e instanceof yi&&(u=!1),o.onError?.(e)}else{try{c=await Ca(e,{address:t,args:n,event:s,events:i,strict:d})}catch{}u=!0}}),{emitOnBegin:!0,interval:l});return async()=>{c&&await Ka(0,{filter:c}),h()}})):(()=>{let r=!0,c=()=>r=!1;return(async()=>{try{const l=i??(s?[s]:void 0);let h=[];l&&(h=[l.flatMap((e=>Pa({abi:[e],eventName:e.name,args:n})))],s&&(h=h[0]));const{unsubscribe:f}=await e.transport.subscribe({params:["logs",{address:t,topics:h}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=La({abi:l,data:t.data,topics:t.topics,strict:d}),r=Fa(t,{args:n,eventName:e});a([r])}catch(e){let n,r;if(e instanceof Mi.SM||e instanceof Mi.Gy){if(u)return;n=e.abiItem.name,r=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const s=Fa(t,{args:r?[]:{},eventName:n});a([s])}},onError(e){o?.(e)}});c=f,r||c()}catch(e){o?.(e)}})(),c})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(void 0!==s?s:"webSocket"!==e.transport.type)?oc((0,wo.P)(["watchPendingTransactions",e.uid,t,i]),{onTransactions:r,onError:n},(n=>{let r;const s=ac((async()=>{try{if(!r)try{return void(r=await Sa(e))}catch(e){throw s(),e}const i=await Ga(0,{filter:r});if(0===i.length)return;t?n.onTransactions(i):i.forEach((e=>n.onTransactions([e])))}catch(e){n.onError?.(e)}}),{emitOnBegin:!0,interval:i});return async()=>{r&&await Ka(0,{filter:r}),s()}})):(()=>{let t=!0,s=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});s=i,t||s()}catch(e){n?.(e)}})(),s})()}(e,t)}}function uc(e){const{key:t="public",name:n="Public Client"}=e;return Li({...e,key:t,name:n,type:"publicClient"}).extend(lc)}function hc(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:i,retryDelay:o}=t;return({chain:t,pollingInterval:a=4e3,timeout:c})=>{let l=e,u=()=>{};const h=jo({key:n,name:r,async request({method:e,params:n}){const r=async(s=0)=>{const i=l[s]({chain:t,retryCount:0,timeout:c});try{const t=await i.request({method:e,params:n});return u({method:e,params:n,response:t,transport:i,status:"success"}),t}catch(t){if(u({error:t,method:e,params:n,transport:i,status:"error"}),No(t))throw t;if(s===l.length-1)throw t;return r(s+1)}};return r()},retryCount:i,retryDelay:o,type:"fallback"},{onResponse:e=>u=e,transports:l.map((e=>e({chain:t,retryCount:0})))});if(s){const e="object"==typeof s?s:{};!function({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:i,weights:o={}}){const{stability:a=.7,latency:c=.3}=o,l=[],u=async()=>{const o=await Promise.all(i.map((async t=>{const n=t({chain:e,retryCount:0,timeout:s}),r=Date.now();let i,o;try{await n.request({method:"net_listening"}),o=1}catch{o=0}finally{i=Date.now()}return{latency:i-r,success:o}})));l.push(o),l.length>r&&l.shift();const h=Math.max(...l.map((e=>Math.max(...e.map((({latency:e})=>e)))))),d=i.map(((e,t)=>{const n=l.map((e=>e[t].latency)),r=1-n.reduce(((e,t)=>e+t),0)/n.length/h,s=l.map((e=>e[t].success)),i=s.reduce(((e,t)=>e+t),0)/s.length;return 0===i?[0,t]:[c*r+a*i,t]})).sort(((e,t)=>t[0]-e[0]));n(d.map((([,e])=>i[e]))),await Io(t),u()};u()}({chain:t,interval:e.interval??a,onTransports:e=>l=e,sampleCount:e.sampleCount,timeout:e.timeout,transports:l,weights:e.weights})}return h}}class dc extends ci.G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var fc=n(2357),pc=null;"undefined"!=typeof WebSocket?pc=WebSocket:"undefined"!=typeof MozWebSocket?pc=MozWebSocket:void 0!==n.g?pc=n.g.WebSocket||n.g.MozWebSocket:"undefined"!=typeof window?pc=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(pc=self.WebSocket||self.MozWebSocket);const gc=pc;function mc(e,{errorInstance:t,timeout:n,signal:r}){return new Promise(((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout((()=>{r?a.abort():i(t)}),n)),s(await e({signal:a?.signal}))}catch(e){"AbortError"===e.name&&i(t),i(e)}finally{clearTimeout(o)}})()}))}let yc=0;const bc=new Map;async function wc(e){let t=bc.get(e);if(t)return t;const{schedule:n}=(0,fc.S)({id:e,fn:async()=>{let n=gc;gc.constructor||(n=gc.WebSocket);const r=new n(e),s=new Map,i=new Map,o=({data:e})=>{const t=JSON.parse(e),n="eth_subscription"===t.method,r=n?t.params.subscription:t.id,o=n?i:s,a=o.get(r);a&&a({data:e}),n||o.delete(r)},a=()=>{bc.delete(e),r.removeEventListener("close",a),r.removeEventListener("message",o)};return r.addEventListener("close",a),r.addEventListener("message",o),r.readyState===gc.CONNECTING&&await new Promise(((e,t)=>{r&&(r.onopen=e,r.onerror=t)})),t=Object.assign(r,{requests:s,subscriptions:i}),bc.set(e,t),[t]}}),[r,[s]]=await n();return s}const vc={http:async function(e,{body:t,fetchOptions:n={},timeout:r=1e4}){const{headers:s,method:i,signal:o}=n;try{const a=await mc((async({signal:a})=>await fetch(e,{...n,body:Array.isArray(t)?(0,wo.P)(t.map((e=>({jsonrpc:"2.0",id:e.id??yc++,...e})))):(0,wo.P)({jsonrpc:"2.0",id:t.id??yc++,...t}),headers:{...s,"Content-Type":"application/json"},method:i||"POST",signal:o||(r>0?a:void 0)})),{errorInstance:new li.W5({body:t,url:e}),timeout:r,signal:!0});let c;if(c=a.headers.get("Content-Type")?.startsWith("application/json")?await a.json():await a.text(),!a.ok)throw new li.Gg({body:t,details:(0,wo.P)(c.error)||a.statusText,headers:a.headers,status:a.status,url:e});return c}catch(n){if(n instanceof li.Gg)throw n;if(n instanceof li.W5)throw n;throw new li.Gg({body:t,details:n.message,url:e})}},webSocket:function(e,{body:t,onResponse:n}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new li.c9({body:t,url:e.url,details:"Socket is closed."});const r=yc++,s=({data:i})=>{const o=JSON.parse(i);"number"==typeof o.id&&r!==o.id||(n?.(o),"eth_subscribe"===t.method&&"string"==typeof o.result&&e.subscriptions.set(o.result,s),"eth_unsubscribe"===t.method&&e.subscriptions.delete(t.params?.[0]))};return e.requests.set(r,s),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:r})),e},webSocketAsync:async function(e,{body:t,timeout:n=1e4}){return mc((()=>new Promise((n=>vc.webSocket(e,{body:t,onResponse:n})))),{errorInstance:new li.W5({body:t,url:e.url}),timeout:n})}};var Ac=n(4192);const Ec=e=>(t,n,r)=>{const s=r.subscribe;r.subscribe=(e,t,n)=>{let i=e;if(t){const s=(null==n?void 0:n.equalityFn)||Object.is;let o=e(r.getState());i=n=>{const r=e(n);if(!s(o,r)){const e=o;t(o=r,e)}},(null==n?void 0:n.fireImmediately)&&t(o,o)}return s(i)};return e(t,n,r)};function kc(e,t){let n;try{n=e()}catch(e){return}const r={getItem:e=>{var r;const s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=n.getItem(e))?r:null;return i instanceof Promise?i.then(s):s(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)};return r}const Pc=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Pc(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>Pc(t)(e)}}},xc=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const a=new Set,c=new Set;let l;try{l=i.getStorage()}catch(e){}if(!l)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...e)}),r,s);const u=Pc(i.serialize),h=()=>{const e=i.partialize({...r()});let t;const n=u({state:e,version:i.version}).then((e=>l.setItem(i.name,e))).catch((e=>{t=e}));if(t)throw t;return n},d=s.setState;s.setState=(e,t)=>{d(e,t),h()};const f=e(((...e)=>{n(...e),h()}),r,s);let p;const g=()=>{var e;if(!l)return;o=!1,a.forEach((e=>e(r())));const t=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,r()))||void 0;return Pc(l.getItem.bind(l))(i.name).then((e=>{if(e)return i.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return p=i.merge(e,null!=(t=r())?t:f),n(p,!0),h()})).then((()=>{null==t||t(p,void 0),o=!0,c.forEach((e=>e(p)))})).catch((e=>{null==t||t(void 0,e)}))};return s.persist={setOptions:e=>{i={...i,...e},e.getStorage&&(l=e.getStorage())},clearStorage:()=>{null==l||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},g(),p||f})(e,t)):((e,t)=>(n,r,s)=>{let i={storage:kc((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...e)}),r,s);const u=()=>{const e=i.partialize({...r()});return l.setItem(i.name,{state:e,version:i.version})},h=s.setState;s.setState=(e,t)=>{h(e,t),u()};const d=e(((...e)=>{n(...e),u()}),r,s);let f;const p=()=>{var e,t;if(!l)return;o=!1,a.forEach((e=>{var t;return e(null!=(t=r())?t:d)}));const s=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=r())?e:d))||void 0;return Pc(l.getItem.bind(l))(i.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return f=i.merge(e,null!=(t=r())?t:d),n(f,!0),u()})).then((()=>{null==s||s(f,void 0),f=r(),o=!0,c.forEach((e=>e(f)))})).catch((e=>{null==s||s(void 0,e)}))};return s.persist={setOptions:e=>{i={...i,...e},e.storage&&(l=e.storage)},clearStorage:()=>{null==l||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},i.skipHydration||p(),f||d})(e,t),_c=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!=typeof s)?s:Object.assign({},t,s),n.forEach((n=>n(t,e)))}},s=()=>t,i={setState:r,getState:s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,s,i),i},Cc=e=>e?_c(e):_c;var Sc=n(5229);function Oc(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Ic(e,t,{batch:n={multicall:{wait:32}},pollingInterval:r=4e3,rank:s,retryCount:i,retryDelay:o,stallTimeout:a}={}){if(!e.length)throw new Error("must have at least one chain");let c=[];const l={},u={};for(const n of e){let e=!1;for(const r of t){const t=r(n);t&&(e=!0,c.some((({id:e})=>e===n.id))||(c=[...c,t.chain]),l[n.id]=[...l[n.id]||[],...t.rpcUrls.http],t.rpcUrls.webSocket&&(u[n.id]=[...u[n.id]||[],...t.rpcUrls.webSocket]))}if(!e)throw new Error([`Could not find valid provider configuration for chain "${n.name}".\n`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join("\n"))}return{chains:c,publicClient:({chainId:t})=>{const u=c.find((e=>e.id===t))??e[0],h=l[u.id];if(!h||!h[0])throw new Error(`No providers configured for chain "${u.id}"`);const d=uc({batch:n,chain:u,transport:hc(h.map((e=>function(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:i="HTTP JSON-RPC",retryDelay:o}=t;return({chain:a,retryCount:c,timeout:l})=>{const{batchSize:u=1e3,wait:h=0}="object"==typeof n?n:{},d=t.retryCount??c,f=l??t.timeout??1e4,p=e||a?.rpcUrls.default.http[0];if(!p)throw new dc;return jo({key:s,name:i,async request({method:t,params:s}){const i={method:t,params:s},{schedule:o}=(0,fc.S)({id:`${e}`,wait:h,shouldSplitBatch:e=>e.length>u,fn:e=>vc.http(p,{body:e,fetchOptions:r,timeout:f})}),[{error:a,result:c}]=await(async e=>n?o(e):[await vc.http(p,{body:e,fetchOptions:r,timeout:f})])(i);if(a)throw new li.bs({body:i,error:a,url:p});return c},retryCount:d,retryDelay:o,timeout:f,type:"http"},{url:e})}}(e,{timeout:a}))),{rank:s,retryCount:i,retryDelay:o}),pollingInterval:r});return Object.assign(d,{chains:c})},webSocketPublicClient:({chainId:t})=>{const l=c.find((e=>e.id===t))??e[0],h=u[l.id];if(!h||!h[0])return;const d=uc({batch:n,chain:l,transport:hc(h.map((e=>function(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",retryDelay:s}=t;return({chain:i,retryCount:o,timeout:a})=>{const c=t.retryCount??o,l=a??t.timeout??1e4,u=e||i?.rpcUrls.default.webSocket?.[0];if(!u)throw new dc;return jo({key:n,name:r,async request({method:e,params:t}){const n={method:e,params:t},r=await wc(u),{error:s,result:i}=await vc.webSocketAsync(r,{body:n,timeout:l});if(s)throw new li.bs({body:n,error:s,url:u});return i},retryCount:c,retryDelay:s,timeout:l,type:"webSocket"},{getSocket:()=>wc(u),async subscribe({params:e,onData:t,onError:n}){const r=await wc(u),{result:s}=await new Promise(((s,i)=>vc.webSocket(r,{body:{method:"eth_subscribe",params:e},onResponse(e){if(e.error)return i(e.error),void n?.(e.error);"number"!=typeof e.id?"eth_subscription"===e.method&&t(e.params):s(e)}})));return{subscriptionId:s,unsubscribe:async()=>new Promise((e=>vc.webSocket(r,{body:{method:"eth_unsubscribe",params:[s]},onResponse:e})))}}})}}(e,{timeout:a}))),{rank:s,retryCount:i,retryDelay:o}),pollingInterval:r});return Object.assign(d,{chains:c})}}}var Tc=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured${t?` for connector "${t}"`:""}.`),this.name="ChainNotConfigured"}},Nc=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},Uc=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}},jc=class extends Error{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}};var Rc=(e,{find:t,replace:n})=>e&&t(e)?n(e):"object"!=typeof e?e:Array.isArray(e)?e.map((e=>Rc(e,{find:t,replace:n}))):e instanceof Object?Object.entries(e).reduce(((e,[r,s])=>({...e,[r]:Rc(s,{find:t,replace:n})})),{}):e;function Lc(e){const t=JSON.parse(e),n=Rc(t,{find:e=>"string"==typeof e&&e.startsWith("#bigint."),replace:e=>BigInt(e.replace("#bigint.",""))});return n}function Bc(e){return"number"==typeof e?e:"wei"===e?0:Math.abs(Ac.Bd[e])}function Fc(e,t){return e.slice(0,t).join(".")||"."}function Dc(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function Mc(e,t,n,r){return JSON.stringify(e,function(e,t){const n="function"==typeof e,r="function"==typeof t,s=[],i=[];return function(o,a){if("object"==typeof a)if(s.length){const e=Dc(s,this);0===e?s[s.length]=this:(s.splice(e),i.splice(e)),i[i.length]=o;const n=Dc(s,a);if(0!==n)return r?t.call(this,o,a,Fc(i,n)):`[ref=${Fc(i,n)}]`}else s[0]=a,i[0]=o;return n?e.call(this,o,a):a}}(((e,n)=>{const r="bigint"==typeof n?`#bigint.${n.toString()}`:n;return t?.(e,r)||r}),r),n??void 0)}var $c={getItem:e=>"",setItem:(e,t)=>null,removeItem:e=>null};function Gc({deserialize:e=Lc,key:t="wagmi",serialize:n=Mc,storage:r}){return{...r,getItem:(n,s=null)=>{const i=r.getItem(`${t}.${n}`);try{return i?e(i):s}catch(e){return console.warn(e),s}},setItem:(e,s)=>{if(null===s)r.removeItem(`${t}.${e}`);else try{r.setItem(`${t}.${e}`,n(s))}catch(e){console.error(e)}},removeItem:e=>r.removeItem(`${t}.${e}`)}}var Hc,zc,Wc,qc,Kc,Vc="store",Jc=class{constructor({autoConnect:e=!1,connectors:t=[new Bo],publicClient:n,storage:r=Gc({storage:"undefined"!=typeof window?window.localStorage:$c}),logger:s={warn:console.warn},webSocketPublicClient:i}){Mo(this,Wc),this.publicClients=new Map,this.webSocketPublicClients=new Map,Mo(this,Hc,void 0),Mo(this,zc,void 0),this.args={autoConnect:e,connectors:t,logger:s,publicClient:n,storage:r,webSocketPublicClient:i};let o,a="disconnected";if(e)try{const e=r.getItem(Vc),t=e?.state?.data;a=t?.account?"reconnecting":"connecting",o=t?.chain?.id}catch(e){}const c="function"==typeof t?t():t;var l,u,h;c.forEach((e=>e.setStorage(r))),this.store=Cc(Ec(xc((()=>({connectors:c,publicClient:this.getPublicClient({chainId:o}),status:a,webSocketPublicClient:this.getWebSocketPublicClient({chainId:o})})),{name:Vc,storage:r,partialize:t=>({...e&&{data:{account:t?.data?.account,chain:t?.data?.chain}},chains:t?.chains}),version:2}))),this.storage=r,$o(this,zc,r?.getItem("wallet")),(l=this,u=Wc,h=qc,Fo(l,u,"access private method"),h).call(this),e&&"undefined"!=typeof window&&setTimeout((async()=>await this.autoConnect()),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){return this.data?.chain?.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(e){const t="function"==typeof e?e(this.store.getState()):e;this.store.setState(t,!0)}clearState(){this.setState((e=>({...e,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"})))}async destroy(){this.connector&&await(this.connector.disconnect?.()),$o(this,Hc,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(Do(this,Hc))return;$o(this,Hc,!0),this.setState((e=>({...e,status:e.data?.account?"reconnecting":"connecting"})));const e=Do(this,zc)?[...this.connectors].sort((e=>e.id===Do(this,zc)?-1:1)):this.connectors;let t=!1;for(const n of e){if(!n.ready||!n.isAuthorized)continue;if(!await n.isAuthorized())continue;const e=await n.connect();this.setState((t=>({...t,connector:n,chains:n?.chains,data:e,status:"connected"}))),t=!0;break}return t||this.setState((e=>({...e,data:void 0,status:"disconnected"}))),$o(this,Hc,!1),this.data}setConnectors(e){this.args={...this.args,connectors:e};const t="function"==typeof e?e():e;t.forEach((e=>e.setStorage(this.args.storage))),this.setState((e=>({...e,connectors:t})))}getPublicClient({chainId:e}={}){let t=this.publicClients.get(-1);if(t&&t?.chain.id===e)return t;if(t=this.publicClients.get(e??-1),t)return t;const{publicClient:n}=this.args;return t="function"==typeof n?n({chainId:e}):n,this.publicClients.set(e??-1,t),t}setPublicClient(e){const t=this.data?.chain?.id;this.args={...this.args,publicClient:e},this.publicClients.clear(),this.setState((e=>({...e,publicClient:this.getPublicClient({chainId:t})})))}getWebSocketPublicClient({chainId:e}={}){let t=this.webSocketPublicClients.get(-1);if(t&&t?.chain.id===e)return t;if(t=this.webSocketPublicClients.get(e??-1),t)return t;const{webSocketPublicClient:n}=this.args;return t="function"==typeof n?n({chainId:e}):n,t&&this.webSocketPublicClients.set(e??-1,t),t}setWebSocketPublicClient(e){const t=this.data?.chain?.id;this.args={...this.args,webSocketPublicClient:e},this.webSocketPublicClients.clear(),this.setState((e=>({...e,webSocketPublicClient:this.getWebSocketPublicClient({chainId:t})})))}setLastUsedConnector(e=null){this.storage?.setItem("wallet",e)}};function Qc(){if(!Kc)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return Kc}async function Yc({chainId:e,connector:t}){const n=Qc(),r=n.connector;if(r&&t.id===r.id)throw new Nc;try{n.setState((e=>({...e,status:"connecting"})));const r=await t.connect({chainId:e});return n.setLastUsedConnector(t.id),n.setState((e=>({...e,connector:t,chains:t?.chains,data:r,status:"connected"}))),n.storage.setItem("connected",!0),{...r,connector:t}}catch(e){throw n.setState((e=>({...e,status:e.connector?"connected":"disconnected"}))),e}}async function Zc(){const e=Qc();e.connector&&await e.connector.disconnect(),e.clearState(),e.storage.removeItem("connected")}Hc=new WeakMap,zc=new WeakMap,Wc=new WeakSet,qc=function(){const e=e=>{this.setState((t=>({...t,data:{...t.data,...e}})))},t=()=>{this.clearState()},n=e=>{this.setState((t=>({...t,error:e})))};this.store.subscribe((({connector:e})=>e),((r,s)=>{s?.off?.("change",e),s?.off?.("disconnect",t),s?.off?.("error",n),r&&(r.on?.("change",e),r.on?.("disconnect",t),r.on?.("error",n))}));const{publicClient:r,webSocketPublicClient:s}=this.args;("function"==typeof r||"function"==typeof s)&&this.store.subscribe((({data:e})=>e?.chain?.id),(e=>{this.setState((t=>({...t,publicClient:this.getPublicClient({chainId:e}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:e})})))}))};var Xc=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],el=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function tl({chainId:e}={}){const t=Qc();return e&&t.getPublicClient({chainId:e})||t.publicClient}async function nl({chainId:e}={}){const t=Qc();return await(t.connector?.getWalletClient?.({chainId:e}))||null}async function rl({chainId:e,contracts:t,blockNumber:n,blockTag:r,...s}){const i=tl({chainId:e});if(!i.chains)throw new Uc;if(e&&i.chain.id!==e)throw new Tc({chainId:e});return i.multicall({allowFailure:s.allowFailure??!0,blockNumber:n,blockTag:r,contracts:t})}async function sl({address:e,account:t,chainId:n,abi:r,args:s,functionName:i,blockNumber:o,blockTag:a}){return tl({chainId:n}).readContract({abi:r,address:e,account:t,functionName:i,args:s,blockNumber:o,blockTag:a})}async function il({contracts:e,blockNumber:t,blockTag:n,...r}){const{allowFailure:s=!0}=r;try{const r=tl(),i=e.reduce(((e,t,n)=>{const s=t.chainId??r.chain.id;return{...e,[s]:[...e[s]||[],{contract:t,index:n}]}}),{}),o=()=>Object.entries(i).map((([e,r])=>rl({allowFailure:s,chainId:parseInt(e),contracts:r.map((({contract:e})=>e)),blockNumber:t,blockTag:n}))),a=(await Promise.all(o())).flat(),c=Object.values(i).flatMap((e=>e.map((({index:e})=>e))));return a.reduce(((e,t,n)=>(e&&(e[c[n]]=t),e)),[])}catch(r){if(r instanceof qo.uq)throw r;const i=()=>e.map((e=>sl({...e,blockNumber:t,blockTag:n})));return s?(await Promise.allSettled(i())).map((e=>"fulfilled"===e.status?{result:e.value,status:"success"}:{error:e.reason,result:void 0,status:"failure"})):await Promise.all(i())}}async function ol({address:e,chainId:t,formatUnits:n,token:r}){const s=Qc(),i=tl({chainId:t});if(r){const s=async({abi:s})=>{const i={abi:s,address:r,chainId:t},[o,a,c]=await il({allowFailure:!1,contracts:[{...i,functionName:"balanceOf",args:[e]},{...i,functionName:"decimals"},{...i,functionName:"symbol"}]});return{decimals:a,formatted:(0,Sc.b)(o??"0",Bc(n??a)),symbol:c,value:o}};try{return await s({abi:Xc})}catch(e){if(e instanceof qo.uq){const{symbol:e,...t}=await s({abi:el});return{symbol:(0,Bi.rR)((0,zo.f)(e,{dir:"right"})),...t}}throw e}}const o=[...s.publicClient.chains||[],...s.chains??[]],a=await i.getBalance({address:e}),c=o.find((e=>e.id===i.chain.id));return{decimals:c?.nativeCurrency.decimals??18,formatted:(0,Sc.b)(a??"0",Bc(n??18)),symbol:c?.nativeCurrency.symbol??"ETH",value:a}}function al(){const{data:e,connector:t,status:n}=Qc();switch(n){case"connected":return{address:e?.account,connector:t,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:n};case"reconnecting":return{address:e?.account,connector:t,isConnected:!!e?.account,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:n};case"connecting":return{address:e?.account,connector:t,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:n};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:n}}}function cl(){const e=Qc(),t=e.data?.chain?.id,n=e.chains??[],r=[...e.publicClient?.chains||[],...n].find((e=>e.id===t))??{id:t,name:`Chain ${t}`,network:`${t}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:t?{...r,...e.data?.chain,id:t}:void 0,chains:n}}async function ll({chainId:e}){const{connector:t}=Qc();if(!t)throw new Js;if(!t.switchChain)throw new jc({connector:t});return t.switchChain(e)}function ul(e,{selector:t=(e=>e)}={}){const n=Qc().subscribe((({data:e,connector:n,status:r})=>t({address:e?.account,connector:n,status:r})),(()=>e(al())),{equalityFn:Oc});return n}function hl(e,{selector:t=(e=>e)}={}){const n=Qc().subscribe((({data:e,chains:n})=>t({chainId:e?.chain?.id,chains:n})),(()=>e(cl())),{equalityFn:Oc});return n}async function dl({name:e,chainId:t}){const{normalize:r}=await n.e(546).then(n.bind(n,9546)),s=tl({chainId:t});return await s.getEnsAvatar({name:r(e)})}async function fl({address:e,chainId:t}){return tl({chainId:t}).getEnsName({address:(0,ai.K)(e)})}const pl="6.7.1";function gl(e,t,n){const r=t.split("|").map((e=>e.trim()));for(let n=0;n<r.length;n++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const s=new Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=e,s}async function ml(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,n,r)=>(e[t[r]]=n,e)),{})}function yl(e,t,n){for(let r in t){let s=t[r];const i=n?n[r]:null;i&&gl(s,i,r),Object.defineProperty(e,r,{enumerable:!0,value:s,writable:!1})}}function bl(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(bl).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"==typeof e&&"function"==typeof e.toJSON)return bl(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${bl(t)}: ${bl(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function wl(e,t){return e&&e.code===t}function vl(e){return wl(e,"CALL_EXCEPTION")}function Al(e,t,n){{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${bl(n)}`);for(const e in n){const t=n[e];r.push(e+"="+bl(t))}}r.push(`code=${t}`),r.push(`version=${pl}`),r.length&&(e+=" ("+r.join(", ")+")")}let r;switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return yl(r,{code:t}),n&&Object.assign(r,n),r}function El(e,t,n,r){if(!e)throw Al(t,n,r)}function kl(e,t,n,r){El(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function Pl(e,t,n){null==n&&(n=""),n&&(n=": "+n),El(e>=t,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),El(e<=t,"too many arguemnts"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const xl=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function _l(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),El(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function Cl(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}kl(!1,"invalid BytesLike value",t||"value",e)}function Sl(e,t){return Cl(e,t,!1)}function Ol(e,t){return Cl(e,t,!0)}function Il(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0))}const Tl="0123456789abcdef";function Nl(e){const t=Sl(e);let n="0x";for(let e=0;e<t.length;e++){const r=t[e];n+=Tl[(240&r)>>4]+Tl[15&r]}return n}function Ul(e){return"0x"+e.map((e=>Nl(e).substring(2))).join("")}function jl(e){return Il(e,!0)?(e.length-2)/2:Sl(e).length}function Rl(e,t,n){const r=Sl(e);return null!=n&&n>r.length&&El(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Nl(r.slice(null==t?0:t,null==n?r.length:n))}function Ll(e,t,n){const r=Sl(e);El(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const s=new Uint8Array(t);return s.fill(0),n?s.set(r,t-r.length):s.set(r,0),Nl(s)}function Bl(e,t){return Ll(e,t,!0)}const Fl=BigInt(0),Dl=BigInt(1),Ml=9007199254740991;function $l(e,t){let n=Hl(e,"value");const r=BigInt(Kl(t,"width")),s=Dl<<r-Dl;if(n<Fl){n=-n,El(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(Dl<<r)-Dl)+Dl}return El(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function Gl(e,t){const n=zl(e,"value"),r=BigInt(Kl(t,"bits"));return n&(Dl<<r)-Dl}function Hl(e,t){switch(typeof e){case"bigint":return e;case"number":return kl(Number.isInteger(e),"underflow",t||"value",e),kl(e>=-Ml&&e<=Ml,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(n){kl(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}kl(!1,"invalid BigNumberish value",t||"value",e)}function zl(e,t){const n=Hl(e,t);return El(n>=Fl,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const Wl="0123456789abcdef";function ql(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=Wl[n>>4],t+=Wl[15&n];return BigInt(t)}return Hl(e)}function Kl(e,t){switch(typeof e){case"bigint":return kl(e>=-Ml&&e<=Ml,"overflow",t||"value",e),Number(e);case"number":return kl(Number.isInteger(e),"underflow",t||"value",e),kl(e>=-Ml&&e<=Ml,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return Kl(BigInt(e),t)}catch(n){kl(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}kl(!1,"invalid numeric value",t||"value",e)}function Vl(e,t){let n=zl(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=Kl(t,"width");for(El(2*r>=n.length,`value exceeds width (${r} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function Jl(e){const t=zl(e,"value");if(t===Fl)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=2*e;r[e]=parseInt(n.substring(t,t+2),16)}return r}function Ql(e){let t=Nl(function(e){return Il(e,!0)||e instanceof Uint8Array}(e)?e:Jl(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const Yl=32,Zl=new Uint8Array(Yl),Xl=["then"],eu={};function tu(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}class nu extends Array{#e;constructor(...e){const t=e[0];let n=e[1],r=(e[2]||[]).slice(),s=!0;t!==eu&&(n=e,r=[],s=!1),super(n.length),n.forEach(((e,t)=>{this[t]=e}));const i=r.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(this.#e=Object.freeze(n.map(((e,t)=>{const n=r[t];return null!=n&&1===i.get(n)?n:null}))),s)return Object.freeze(this),new Proxy(this,{get:(e,t,n)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const n=Kl(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&tu(`index ${n}`,r),r}if(Xl.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(...t){return r.apply(this===n?e:this,t)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}})}toArray(){const e=[];return this.forEach(((t,n)=>{t instanceof Error&&tu(`index ${n}`,t),e.push(t)})),e}toObject(){return this.#e.reduce(((e,t,n)=>(El(null!=t,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),t in e||(e[t]=this.getValue(t)),e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=[],r=[];for(let s=e;s<t;s++)n.push(this[s]),r.push(this.#e[s]);return new nu(eu,n,r)}filter(e,t){const n=[],r=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&tu(`index ${s}`,i),e.call(t,i,s,this)&&(n.push(i),r.push(this.#e[s]))}return new nu(eu,n,r)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const s=this[r];s instanceof Error&&tu(`index ${r}`,s),n.push(e.call(t,s,r,this))}return n}getValue(e){const t=this.#e.indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&tu(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new nu(eu,e,t)}}function ru(e){let t=Jl(e);return El(t.length<=Yl,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Yl,offset:t.length}),t.length!==Yl&&(t=Ol(Ul([Zl.slice(t.length%Yl),t]))),t}class su{name;type;localName;dynamic;constructor(e,t,n,r){yl(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){kl(!1,e,this.localName,t)}}class iu{#t;#n;constructor(){this.#t=[],this.#n=0}get data(){return Ul(this.#t)}get length(){return this.#n}#r(e){return this.#t.push(e),this.#n+=e.length,e.length}appendWriter(e){return this.#r(Ol(e.data))}writeBytes(e){let t=Ol(e);const n=t.length%Yl;return n&&(t=Ol(Ul([t,Zl.slice(n)]))),this.#r(t)}writeValue(e){return this.#r(ru(e))}writeUpdatableValue(){const e=this.#t.length;return this.#t.push(Zl),this.#n+=Yl,t=>{this.#t[e]=ru(t)}}}class ou{allowLoose;#t;#s;constructor(e,t){yl(this,{allowLoose:!!t}),this.#t=Ol(e),this.#s=0}get data(){return Nl(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#s}get bytes(){return new Uint8Array(this.#t)}#i(e,t,n){let r=Math.ceil(t/Yl)*Yl;return this.#s+r>this.#t.length&&(this.allowLoose&&n&&this.#s+t<=this.#t.length?r=t:El(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ol(this.#t),length:this.#t.length,offset:this.#s+r})),this.#t.slice(this.#s,this.#s+r)}subReader(e){return new ou(this.#t.slice(this.#s+e),this.allowLoose)}readBytes(e,t){let n=this.#i(0,e,!!t);return this.#s+=n.length,n.slice(0,e)}readValue(){return ql(this.readBytes(Yl))}readIndex(){return Kl(ql(this.readBytes(Yl)))}}function au(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function cu(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const lu={number:au,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:cu,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");au(e.outputLen),au(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){cu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},uu=lu,hu=BigInt(2**32-1),du=BigInt(32);function fu(e,t=!1){return t?{h:Number(e&hu),l:Number(e>>du&hu)}:{h:0|Number(e>>du&hu),l:0|Number(e&hu)}}const pu={fromBig:fu,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=fu(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<du|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,add5H:(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,add5L:(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0)},gu=pu,mu=("object"==typeof self&&"crypto"in self&&self.crypto,e=>new DataView(e.buffer,e.byteOffset,e.byteLength)),yu=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function bu(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class wu{clone(){return this._cloneInto()}}function vu(e){const t=t=>e().update(bu(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const[Au,Eu,ku]=[[],[],[]],Pu=BigInt(0),xu=BigInt(1),_u=BigInt(2),Cu=BigInt(7),Su=BigInt(256),Ou=BigInt(113);for(let e=0,t=xu,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Au.push(2*(5*r+n)),Eu.push((e+1)*(e+2)/2%64);let s=Pu;for(let e=0;e<7;e++)t=(t<<xu^(t>>Cu)*Ou)%Su,t&_u&&(s^=xu<<(xu<<BigInt(e))-xu);ku.push(s)}const[Iu,Tu]=gu.split(ku,!0),Nu=(e,t,n)=>n>32?gu.rotlBH(e,t,n):gu.rotlSH(e,t,n),Uu=(e,t,n)=>n>32?gu.rotlBL(e,t,n):gu.rotlSL(e,t,n);class ju extends wu{constructor(e,t,n,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,uu.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,i=n[s],o=n[s+1],a=Nu(i,o,1)^n[r],c=Uu(i,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=Eu[n],i=Nu(t,s,r),o=Uu(t,s,r),a=Au[n];t=e[a],s=e[a+1],e[a]=i,e[a+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=Iu[r],e[1]^=Tu[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){uu.exists(this);const{blockLen:t,state:n}=this,r=(e=bu(e)).length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let t=0;t<i;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!=(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){uu.exists(this,!1),uu.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return uu.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(uu.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new ju(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const Ru=(e,t,n)=>vu((()=>new ju(t,e,n))),Lu=(Ru(6,144,28),Ru(6,136,32),Ru(6,104,48),Ru(6,72,64),Ru(1,144,28),Ru(1,136,32)),Bu=(Ru(1,104,48),Ru(1,72,64),(e,t,n)=>function(e){const t=(t,n)=>e(n).update(bu(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(((r={})=>new ju(t,e,void 0===r.dkLen?n:r.dkLen,!0))));Bu(31,168,16),Bu(31,136,32);let Fu=!1;const Du=function(e){return Lu(e)};let Mu=Du;function $u(e){const t=Sl(e,"data");return Nl(Mu(t))}$u._=Du,$u.lock=function(){Fu=!0},$u.register=function(e){if(Fu)throw new TypeError("keccak256 is locked");Mu=e},Object.freeze($u);const Gu=BigInt(0),Hu=BigInt(36);function zu(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=Sl($u(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Wu={};for(let e=0;e<10;e++)Wu[String(e)]=String(e);for(let e=0;e<26;e++)Wu[String.fromCharCode(65+e)]=String(10+e);const qu=15;function Ku(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Wu[e])).join("");for(;t.length>=qu;){let e=t.substring(0,qu);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const Vu=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function Ju(e){if(kl("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=zu(e);return kl(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){kl(e.substring(2,4)===Ku(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Gu;for(let n=0;n<e.length;n++)t=t*Hu+Vu[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return zu("0x"+t)}kl(!1,"invalid address","address",e)}const Qu={};function Yu(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new eh(Qu,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function Zu(e,t){return new eh(Qu,`bytes${t||""}`,e,{size:t})}const Xu=Symbol.for("_ethers_typed");class eh{type;value;#o;_typedSymbol;constructor(e,t,n,r){null==r&&(r=null),_l(Qu,e,"Typed"),yl(this,{_typedSymbol:Xu,type:t,value:n}),this.#o=r,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#o}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#o?-1:!1===this.#o?this.value.length:null}static from(e,t){return new eh(Qu,e,t)}static uint8(e){return Yu(e,8)}static uint16(e){return Yu(e,16)}static uint24(e){return Yu(e,24)}static uint32(e){return Yu(e,32)}static uint40(e){return Yu(e,40)}static uint48(e){return Yu(e,48)}static uint56(e){return Yu(e,56)}static uint64(e){return Yu(e,64)}static uint72(e){return Yu(e,72)}static uint80(e){return Yu(e,80)}static uint88(e){return Yu(e,88)}static uint96(e){return Yu(e,96)}static uint104(e){return Yu(e,104)}static uint112(e){return Yu(e,112)}static uint120(e){return Yu(e,120)}static uint128(e){return Yu(e,128)}static uint136(e){return Yu(e,136)}static uint144(e){return Yu(e,144)}static uint152(e){return Yu(e,152)}static uint160(e){return Yu(e,160)}static uint168(e){return Yu(e,168)}static uint176(e){return Yu(e,176)}static uint184(e){return Yu(e,184)}static uint192(e){return Yu(e,192)}static uint200(e){return Yu(e,200)}static uint208(e){return Yu(e,208)}static uint216(e){return Yu(e,216)}static uint224(e){return Yu(e,224)}static uint232(e){return Yu(e,232)}static uint240(e){return Yu(e,240)}static uint248(e){return Yu(e,248)}static uint256(e){return Yu(e,256)}static uint(e){return Yu(e,256)}static int8(e){return Yu(e,-8)}static int16(e){return Yu(e,-16)}static int24(e){return Yu(e,-24)}static int32(e){return Yu(e,-32)}static int40(e){return Yu(e,-40)}static int48(e){return Yu(e,-48)}static int56(e){return Yu(e,-56)}static int64(e){return Yu(e,-64)}static int72(e){return Yu(e,-72)}static int80(e){return Yu(e,-80)}static int88(e){return Yu(e,-88)}static int96(e){return Yu(e,-96)}static int104(e){return Yu(e,-104)}static int112(e){return Yu(e,-112)}static int120(e){return Yu(e,-120)}static int128(e){return Yu(e,-128)}static int136(e){return Yu(e,-136)}static int144(e){return Yu(e,-144)}static int152(e){return Yu(e,-152)}static int160(e){return Yu(e,-160)}static int168(e){return Yu(e,-168)}static int176(e){return Yu(e,-176)}static int184(e){return Yu(e,-184)}static int192(e){return Yu(e,-192)}static int200(e){return Yu(e,-200)}static int208(e){return Yu(e,-208)}static int216(e){return Yu(e,-216)}static int224(e){return Yu(e,-224)}static int232(e){return Yu(e,-232)}static int240(e){return Yu(e,-240)}static int248(e){return Yu(e,-248)}static int256(e){return Yu(e,-256)}static int(e){return Yu(e,-256)}static bytes1(e){return Zu(e,1)}static bytes2(e){return Zu(e,2)}static bytes3(e){return Zu(e,3)}static bytes4(e){return Zu(e,4)}static bytes5(e){return Zu(e,5)}static bytes6(e){return Zu(e,6)}static bytes7(e){return Zu(e,7)}static bytes8(e){return Zu(e,8)}static bytes9(e){return Zu(e,9)}static bytes10(e){return Zu(e,10)}static bytes11(e){return Zu(e,11)}static bytes12(e){return Zu(e,12)}static bytes13(e){return Zu(e,13)}static bytes14(e){return Zu(e,14)}static bytes15(e){return Zu(e,15)}static bytes16(e){return Zu(e,16)}static bytes17(e){return Zu(e,17)}static bytes18(e){return Zu(e,18)}static bytes19(e){return Zu(e,19)}static bytes20(e){return Zu(e,20)}static bytes21(e){return Zu(e,21)}static bytes22(e){return Zu(e,22)}static bytes23(e){return Zu(e,23)}static bytes24(e){return Zu(e,24)}static bytes25(e){return Zu(e,25)}static bytes26(e){return Zu(e,26)}static bytes27(e){return Zu(e,27)}static bytes28(e){return Zu(e,28)}static bytes29(e){return Zu(e,29)}static bytes30(e){return Zu(e,30)}static bytes31(e){return Zu(e,31)}static bytes32(e){return Zu(e,32)}static address(e){return new eh(Qu,"address",e)}static bool(e){return new eh(Qu,"bool",!!e)}static bytes(e){return new eh(Qu,"bytes",e)}static string(e){return new eh(Qu,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new eh(Qu,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===Xu}static dereference(e,t){if(eh.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class th extends su{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=eh.dereference(t,"string");try{n=Ju(n)}catch(e){return this._throwError(e.message,t)}return e.writeValue(n)}decode(e){return Ju(Vl(e.readValue(),20))}}class nh extends su{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function rh(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const r=t.localName;return El(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),El(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]}))}else kl(!1,"invalid tuple value","tuple",n);kl(t.length===r.length,"types/value length mismatch","tuple",n);let s=new iu,i=new iu,o=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=i.length;e.encode(i,n);let r=s.writeUpdatableValue();o.push((e=>{r(e+t)}))}else e.encode(s,n)})),o.forEach((e=>{e(s.length)}));let a=e.appendWriter(s);return a+=e.appendWriter(i),a}function sh(e,t){let n=[],r=[],s=e.subReader(0);return t.forEach((t=>{let i=null;if(t.dynamic){let n=e.readIndex(),r=s.subReader(n);try{i=t.decode(r)}catch(e){if(wl(e,"BUFFER_OVERRUN"))throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(wl(e,"BUFFER_OVERRUN"))throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}if(null==i)throw new Error("investigate");n.push(i),r.push(t.localName||null)})),nu.fromItems(n,r)}class ih extends su{coder;length;constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),yl(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=eh.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),Pl(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let e=0;e<n.length;e++)s.push(this.coder);return rh(e,s,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),El(t*Yl<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Yl,length:e.dataLength}));let n=[];for(let e=0;e<t;e++)n.push(new nh(this.coder));return sh(e,n)}}class oh extends su{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=eh.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class ah extends su{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Ol(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class ch extends ah{constructor(e){super("bytes",e)}decode(e){return Nl(super.decode(e))}}class lh extends su{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),yl(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=Ol(eh.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return Nl(e.readBytes(this.size))}}const uh=new Uint8Array([]);class hh extends su{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(uh)}decode(e){return e.readBytes(0),null}}const dh=BigInt(0),fh=BigInt(1),ph=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class gh extends su{size;signed;constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),yl(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=Hl(eh.dereference(t,this.type)),r=Gl(ph,256);if(this.signed){let e=Gl(r,8*this.size-1);(n>e||n<-(e+fh))&&this._throwError("value out-of-bounds",t),n=$l(n,256)}else(n<dh||n>Gl(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=Gl(e.readValue(),8*this.size);return this.signed&&(t=function(e,t){const n=zl(e,"value"),r=BigInt(Kl(t,"width"));if(El(n>>r===Fl,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-Dl)return-((~n&(Dl<<r)-Dl)+Dl);return n}(t,8*this.size)),t}}function mh(e,t,n,r,s){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const yh=Object.freeze({error:function(e,t,n,r,s){kl(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:mh,replace:function(e,t,n,r,s){return"OVERLONG"===e?(kl("number"==typeof s,"invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),mh(e,t,n))}});function bh(e,t){null==t&&(t=yh.error);const n=Sl(e,"bytes"),r=[];let s=0;for(;s<n.length;){const e=n[s++];if(e>>7==0){r.push(e);continue}let i=null,o=null;if(192==(224&e))i=1,o=127;else if(224==(240&e))i=2,o=2047;else{if(240!=(248&e)){s+=t(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",s-1,n,r);continue}i=3,o=65535}if(s-1+i>=n.length){s+=t("OVERRUN",s-1,n,r);continue}let a=e&(1<<8-i-1)-1;for(let e=0;e<i;e++){let e=n[s];if(128!=(192&e)){s+=t("MISSING_CONTINUE",s,n,r),a=null;break}a=a<<6|63&e,s++}null!==a&&(a>1114111?s+=t("OUT_OF_RANGE",s-1-i,n,r,a):a>=55296&&a<=57343?s+=t("UTF16_SURROGATE",s-1-i,n,r,a):a<=o?s+=t("OVERLONG",s-1-i,n,r,a):r.push(a))}return r}function wh(e,t){null!=t&&(!function(e){El(xl.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const s=e.charCodeAt(t);kl(t<e.length&&56320==(64512&s),"invalid surrogate pair","str",e);const i=65536+((1023&r)<<10)+(1023&s);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return new Uint8Array(n)}function vh(e,t){return bh(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class Ah extends ah{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,wh(eh.dereference(t,"string")))}decode(e){return vh(super.decode(e))}}class Eh extends su{coders;constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)}));super("tuple","tuple("+r.join(",")+")",t,n),yl(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let s=n.localName;s&&1===t[s]&&("length"===s&&(s="_length"),null==e[s]&&(e[s]=e[r]))})),Object.freeze(e)}encode(e,t){const n=eh.dereference(t,"tuple");return rh(e,this.coders,n)}decode(e){return sh(e,this.coders)}}function kh(e){return $u(wh(e))}function Ph(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const xh=Ph("external public payable".split(" ")),_h="constant external internal payable private public pure view",Ch=Ph(_h.split(" ")),Sh="constructor error event fallback function receive struct",Oh=Ph(Sh.split(" ")),Ih="calldata memory storage payable indexed",Th=Ph(Ih.split(" ")),Nh=Ph([Sh,Ih,"tuple returns",_h].join(" ").split(" ")),Uh={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},jh=new RegExp("^(\\s*)"),Rh=new RegExp("^([0-9]+)"),Lh=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Bh=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Fh=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Dh{#s;#a;get offset(){return this.#s}get length(){return this.#a.length-this.#s}constructor(e){this.#s=0,this.#a=e.slice()}clone(){return new Dh(this.#a)}reset(){this.#s=0}#c(e=0,t=0){return new Dh(this.#a.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#c(this.#s+1,e.match+1);return this.#s=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#s<e.match-1;){const e=this.peek().linkNext;t.push(this.#c(this.#s+1,e)),this.#s=e}return this.#s=e.match+1,t}peek(){if(this.#s>=this.#a.length)throw new Error("out-of-bounds");return this.#a[this.#s]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#s++,e}toString(){const e=[];for(let t=this.#s;t<this.#a.length;t++){const n=this.#a[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function Mh(e){const t=[],n=t=>{const n=i<e.length?JSON.stringify(e[i]):"$EOI";throw new Error(`invalid token ${n} at ${i}: ${t}`)};let r=[],s=[],i=0;for(;i<e.length;){let o=e.substring(i),a=o.match(jh);a&&(i+=a[1].length,o=e.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(c);let l=Uh[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,"OPEN_PAREN"===l)r.push(t.length-1),s.push(t.length-1);else if("CLOSE_PAREN"==l)0===r.length&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1,s.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=Kl(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(a=o.match(Lh),a){if(c.text=a[1],i+=c.text.length,Nh.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Fh)){c.type="TYPE";continue}c.type="ID"}else{if(a=o.match(Rh),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`);c.text=a[1],c.type="NUMBER",i+=c.text.length}}return new Dh(t.map((e=>Object.freeze(e))))}function $h(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Gh(e,t){if(t.peekKeyword(Oh)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function Hh(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function zh(e){let t=Hh(e,Ch);return $h(t,Ph("constant payable nonpayable".split(" "))),$h(t,Ph("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Wh(e,t){return e.popParams().map((e=>id.from(e,t)))}function qh(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return Hl(e.pop().text);throw new Error("invalid gas")}return null}function Kh(e){if(e.length)throw new Error(`unexpected tokens: ${e.toString()}`)}const Vh=new RegExp(/^(.*)\[([0-9]*)\]$/);function Jh(e){const t=e.match(Fh);if(kl(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);kl(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);kl(0!==n&&n<=256&&n%8==0,"invalid numeric width","type",e)}return e}const Qh={},Yh=Symbol.for("_ethers_internal"),Zh="_ParamTypeInternal",Xh="_ErrorInternal",ed="_EventInternal",td="_ConstructorInternal",nd="_FallbackInternal",rd="_FunctionInternal",sd="_StructInternal";class id{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,r,s,i,o,a){if(_l(e,Qh,"ParamType"),Object.defineProperty(this,Yh,{value:Zh}),i&&(i=Object.freeze(i.slice())),"array"===r){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===r){if(null==i)throw new Error("")}else if(null!=i)throw new Error("");yl(this,{name:t,type:n,baseType:r,indexed:s,components:i,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?("sighash"!==e&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")"):t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,r)=>n.components[r].walk(e,t)))}return t(this.type,e)}#l(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,i=t.slice();return i.forEach(((t,r)=>{s.#l(e,t,n,(e=>{i[r]=e}))})),void r(i)}if(this.isTuple()){const s=this.components;let i;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");i=s.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(i.length!==this.components.length)throw new Error("array is wrong length");return i.forEach(((t,r)=>{s[r].#l(e,t,n,(e=>{i[r]=e}))})),void r(i)}const s=n(this.type,t);s.then?e.push(async function(){r(await s)}()):r(s)}async walkAsync(e,t){const n=[],r=[e];return this.#l(n,e,t,(e=>{r[0]=e})),n.length&&await Promise.all(n),r[0]}static from(e,t){if(id.isParamType(e))return e;if("string"==typeof e)try{return id.from(Mh(e),t)}catch(t){kl(!1,"invalid param type","obj",e)}else if(e instanceof Dh){let n="",r="",s=null;Hh(e,Ph(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",s=e.popParams().map((e=>id.from(e))),n=`tuple(${s.map((e=>e.format())).join(",")})`):(n=Jh(e.popType("TYPE")),r=n);let i=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();i=new id(Qh,"",n,r,null,s,o,i),o=t.value,n+=t.text,r="array",s=null}let a=null;if(Hh(e,Th).has("indexed")){if(!t)throw new Error("");a=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new id(Qh,c,n,r,a,s,o,i)}const n=e.name;kl(!n||"string"==typeof n&&n.match(Bh),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(kl(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let s=e.type,i=s.match(Vh);if(i){const t=parseInt(i[2]||"-1"),o=id.from({type:i[1],components:e.components});return new id(Qh,n||"",s,"array",r,null,t,o)}if("tuple"===s||s.startsWith("tuple(")||s.startsWith("(")){const t=null!=e.components?e.components.map((e=>id.from(e))):null;return new id(Qh,n||"",s,"tuple",r,t,null,null)}return s=Jh(e.type),new id(Qh,n||"",s,s,r,null,null,null)}static isParamType(e){return e&&e[Yh]===Zh}}class od{type;inputs;constructor(e,t,n){_l(e,Qh,"Fragment"),yl(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"==typeof e){try{od.from(JSON.parse(e))}catch(e){}return od.from(Mh(e))}if(e instanceof Dh){switch(e.peekKeyword(Oh)){case"constructor":return hd.from(e);case"error":return ld.from(e);case"event":return ud.from(e);case"fallback":case"receive":return dd.from(e);case"function":return fd.from(e);case"struct":return pd.from(e)}}else if("object"==typeof e){switch(e.type){case"constructor":return hd.from(e);case"error":return ld.from(e);case"event":return ud.from(e);case"fallback":case"receive":return dd.from(e);case"function":return fd.from(e);case"struct":return pd.from(e)}El(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}kl(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return hd.isFragment(e)}static isError(e){return ld.isFragment(e)}static isEvent(e){return ud.isFragment(e)}static isFunction(e){return fd.isFragment(e)}static isStruct(e){return pd.isFragment(e)}}class ad extends od{name;constructor(e,t,n,r){super(e,t,r),kl("string"==typeof n&&n.match(Bh),"invalid identifier","name",n),r=Object.freeze(r.slice()),yl(this,{name:n})}}function cd(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class ld extends ad{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,Yh,{value:Xh})}get selector(){return kh(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+cd(e,this.inputs)),t.join(" ")}static from(e){if(ld.isFragment(e))return e;if("string"==typeof e)return ld.from(Mh(e));if(e instanceof Dh){const t=Gh("error",e),n=Wh(e);return Kh(e),new ld(Qh,t,n)}return new ld(Qh,e.name,e.inputs?e.inputs.map(id.from):[])}static isFragment(e){return e&&e[Yh]===Xh}}class ud extends ad{anonymous;constructor(e,t,n,r){super(e,"event",t,n),Object.defineProperty(this,Yh,{value:ed}),yl(this,{anonymous:r})}get topicHash(){return kh(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+cd(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>id.from(e)));return new ud(Qh,e,t,!1).topicHash}static from(e){if(ud.isFragment(e))return e;if("string"==typeof e)try{return ud.from(Mh(e))}catch(t){kl(!1,"invalid event fragment","obj",e)}else if(e instanceof Dh){const t=Gh("event",e),n=Wh(e,!0),r=!!Hh(e,Ph(["anonymous"])).has("anonymous");return Kh(e),new ud(Qh,t,n,r)}return new ud(Qh,e.name,e.inputs?e.inputs.map((e=>id.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[Yh]===ed}}class hd extends od{payable;gas;constructor(e,t,n,r,s){super(e,t,n),Object.defineProperty(this,Yh,{value:td}),yl(this,{payable:r,gas:s})}format(e){if(El(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${cd(e,this.inputs)}`];return t.push(this.payable?"payable":"nonpayable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(hd.isFragment(e))return e;if("string"==typeof e)try{return hd.from(Mh(e))}catch(t){kl(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Dh){Hh(e,Ph(["constructor"]));const t=Wh(e),n=!!Hh(e,xh).has("payable"),r=qh(e);return Kh(e),new hd(Qh,"constructor",t,n,r)}return new hd(Qh,"constructor",e.inputs?e.inputs.map(id.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Yh]===td}}class dd extends od{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,Yh,{value:nd}),yl(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(dd.isFragment(e))return e;if("string"==typeof e)try{return dd.from(Mh(e))}catch(t){kl(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Dh){const t=e.toString();kl(e.peekKeyword(Ph(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(Ph(["fallback","receive"]))){const t=Wh(e);return kl(0===t.length,"receive cannot have arguments","obj.inputs",t),Hh(e,Ph(["payable"])),Kh(e),new dd(Qh,[],!0)}let n=Wh(e);n.length?kl(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[id.from("bytes")];const r=zh(e);if(kl("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),Hh(e,Ph(["returns"])).has("returns")){const t=Wh(e);kl(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return Kh(e),new dd(Qh,n,"payable"===r)}if("receive"===e.type)return new dd(Qh,[],!0);if("fallback"===e.type){const t=[id.from("bytes")],n="payable"===e.stateMutability;return new dd(Qh,t,n)}kl(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Yh]===nd}}class fd extends ad{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,r,s,i){super(e,"function",t,r),Object.defineProperty(this,Yh,{value:rd});yl(this,{constant:"view"===n||"pure"===n,gas:i,outputs:s=Object.freeze(s.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return kh(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+cd(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(cd(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>id.from(e)));return new fd(Qh,e,"view",t,[],null).selector}static from(e){if(fd.isFragment(e))return e;if("string"==typeof e)try{return fd.from(Mh(e))}catch(t){kl(!1,"invalid function fragment","obj",e)}else if(e instanceof Dh){const t=Gh("function",e),n=Wh(e),r=zh(e);let s=[];Hh(e,Ph(["returns"])).has("returns")&&(s=Wh(e));const i=qh(e);return Kh(e),new fd(Qh,t,r,n,s,i)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new fd(Qh,e.name,t,e.inputs?e.inputs.map(id.from):[],e.outputs?e.outputs.map(id.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Yh]===rd}}class pd extends ad{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,Yh,{value:sd})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return pd.from(Mh(e))}catch(t){kl(!1,"invalid struct fragment","obj",e)}else if(e instanceof Dh){const t=Gh("struct",e),n=Wh(e);return Kh(e),new pd(Qh,t,n)}return new pd(Qh,e.name,e.inputs?e.inputs.map(id.from):[])}static isFragment(e){return e&&e[Yh]===sd}}const gd=new Map;gd.set(0,"GENERIC_PANIC"),gd.set(1,"ASSERT_FALSE"),gd.set(17,"OVERFLOW"),gd.set(18,"DIVIDE_BY_ZERO"),gd.set(33,"ENUM_RANGE_ERROR"),gd.set(34,"BAD_STORAGE_DATA"),gd.set(49,"STACK_UNDERFLOW"),gd.set(50,"ARRAY_RANGE_ERROR"),gd.set(65,"OUT_OF_MEMORY"),gd.set(81,"UNINITIALIZED_FUNCTION_CALL");const md=new RegExp(/^bytes([0-9]*)$/),yd=new RegExp(/^(u?int)([0-9]*)$/);let bd=null;class wd{#u(e){if(e.isArray())return new ih(this.#u(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Eh(e.components.map((e=>this.#u(e))),e.name);switch(e.baseType){case"address":return new th(e.name);case"bool":return new oh(e.name);case"string":return new Ah(e.name);case"bytes":return new ch(e.name);case"":return new hh(e.name)}let t=e.type.match(yd);if(t){let n=parseInt(t[2]||"256");return kl(0!==n&&n<=256&&n%8==0,"invalid "+t[1]+" bit length","param",e),new gh(n/8,"int"===t[1],e.name)}if(t=e.type.match(md),t){let n=parseInt(t[1]);return kl(0!==n&&n<=32,"invalid bytes length","param",e),new lh(n,e.name)}kl(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#u(id.from(e))));return new Eh(t,"_").defaultValue()}encode(e,t){Pl(t.length,e.length,"types/values length mismatch");const n=e.map((e=>this.#u(id.from(e)))),r=new Eh(n,"_"),s=new iu;return r.encode(s,t),s.data}decode(e,t,n){const r=e.map((e=>this.#u(id.from(e))));return new Eh(r,"_").decode(new ou(t,n))}static defaultAbiCoder(){return null==bd&&(bd=new wd),bd}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let s="missing revert data",i=null,o=null;if(n){s="execution reverted";const e=Sl(n);if(n=Nl(n),0===e.length)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(e.length%32!=4)s+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Nl(e.slice(0,4)))try{i=r.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch(e){s+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Nl(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},i=`Panic due to ${gd.get(t)||"UNKNOWN"}(${t})`,s+=`: ${i}`}catch(e){s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const a={to:t.to?Ju(t.to):null,data:t.data||"0x"};return t.from&&(a.from=Ju(t.from)),Al(s,"CALL_EXCEPTION",{action:e,data:n,reason:i,transaction:a,invocation:null,revert:o})}(e,t,n,wd.defaultAbiCoder())}}function vd(e){return e&&"function"==typeof e.getAddress}async function Ad(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(El("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),kl(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Ju(n)}function Ed(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Ju(e):(El(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Ad(e,t.resolveName(e))):vd(e)?Ad(e,e.getAddress()):e&&"function"==typeof e.then?Ad(e,e):void kl(!1,"unsupported addressable value","target",e)}const kd=new Uint8Array(32);kd.fill(0);const Pd=BigInt(-1),xd=BigInt(0),_d=BigInt(1),Cd=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Sd=Vl(_d,32),Od=Vl(xd,32),Id={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Td=["name","version","chainId","verifyingContract","salt"];function Nd(e){return function(t){return kl("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Ud={name:Nd("name"),version:Nd("version"),chainId:function(e){const t=Hl(e,"domain.chainId");return kl(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):Ql(t)},verifyingContract:function(e){try{return Ju(e).toLowerCase()}catch(e){}kl(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=Sl(e,"domain.salt");return kl(32===t.length,'invalid domain value "salt"',"domain.salt",e),Nl(t)}};function jd(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const n=""===t[1],r=parseInt(t[2]||"256");kl(r%8==0&&0!==r&&r<=256&&(null==t[2]||t[2]===String(r)),"invalid numeric width","type",e);const s=Gl(Cd,n?r-1:r),i=n?(s+_d)*Pd:xd;return function(t){const r=Hl(t,"value");return kl(r>=i&&r<=s,`value out-of-bounds for ${e}`,"value",r),Vl(n?$l(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return kl(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return kl(Sl(t).length===n,`invalid length for ${e}`,"value",t),function(e){const t=Sl(e),n=t.length%32;return n?Ul([t,kd.slice(n)]):Nl(t)}(t)}}}switch(e){case"address":return function(e){return Bl(Ju(e),32)};case"bool":return function(e){return e?Sd:Od};case"bytes":return function(e){return $u(e)};case"string":return function(e){return kh(e)}}return null}function Rd(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class Ld{primaryType;#h;get types(){return JSON.parse(this.#h)}#d;#f;constructor(e){this.#h=JSON.stringify(e),this.#d=new Map,this.#f=new Map;const t=new Map,n=new Map,r=new Map;Object.keys(e).forEach((e=>{t.set(e,new Set),n.set(e,[]),r.set(e,new Set)}));for(const r in e){const s=new Set;for(const i of e[r]){kl(!s.has(i.name),`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(r)}`,"types",e),s.add(i.name);const o=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;kl(o!==r,`circular type reference to ${JSON.stringify(o)}`,"types",e);jd(o)||(kl(n.has(o),`unknown type ${JSON.stringify(o)}`,"types",e),n.get(o).push(r),t.get(r).add(o))}}const s=Array.from(n.keys()).filter((e=>0===n.get(e).length));kl(0!==s.length,"missing primary type","types",e),kl(1===s.length,`ambiguous primary types or unused types: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),yl(this,{primaryType:s[0]}),function s(i,o){kl(!o.has(i),`circular type reference to ${JSON.stringify(i)}`,"types",e),o.add(i);for(const e of t.get(i))if(n.has(e)){s(e,o);for(const t of o)r.get(t).add(e)}o.delete(i)}(this.primaryType,new Set);for(const[t,n]of r){const r=Array.from(n);r.sort(),this.#d.set(t,Rd(t,e[t])+r.map((t=>Rd(t,e[t]))).join(""))}}getEncoder(e){let t=this.#f.get(e);return t||(t=this.#p(e),this.#f.set(e,t)),t}#p(e){{const t=jd(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],n=this.getEncoder(e);return r=>{kl(!t[3]||parseInt(t[3])===r.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",r);let s=r.map(n);return this.#d.has(e)&&(s=s.map($u)),$u(Ul(s))}}const n=this.types[e];if(n){const t=kh(this.#d.get(e));return e=>{const r=n.map((({name:t,type:n})=>{const r=this.getEncoder(n)(e[t]);return this.#d.has(n)?$u(r):r}));return r.unshift(t),Ul(r)}}kl(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#d.get(e);return kl(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return $u(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(jd(e))return n(e,t);const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r)return kl(!r[3]||parseInt(r[3])===t.length,`array length mismatch; expected length ${parseInt(r[3])}`,"value",t),t.map((e=>this._visit(r[1],e,n)));const s=this.types[e];if(s)return s.reduce(((e,{name:r,type:s})=>(e[r]=this._visit(s,t[r],n),e)),{});kl(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Ld(e)}static getPrimaryType(e){return Ld.from(e).primaryType}static hashStruct(e,t,n){return Ld.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=Id[n];kl(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>Td.indexOf(e.name)-Td.indexOf(t.name))),Ld.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Ul(["0x1901",Ld.hashDomain(e),Ld.from(t).hash(n)])}static hash(e,t,n){return $u(Ld.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const s={};e.verifyingContract&&!Il(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const i=Ld.from(t);i.visit(n,((e,t)=>("address"!==e||Il(t,20)||(s[t]="0x"),t)));for(const e in s)s[e]=await r(e);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=i.visit(n,((e,t)=>"address"===e&&s[t]?s[t]:t)),{domain:e,value:n}}static getPayload(e,t,n){Ld.hashDomain(e);const r={},s=[];Td.forEach((t=>{const n=e[t];null!=n&&(r[t]=Ud[t](n),s.push({name:t,type:Id[t]}))}));const i=Ld.from(t),o=Object.assign({},t);return kl(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=s,i.encode(n),{types:o,domain:r,primaryType:i.primaryType,message:i.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return Nl(Sl(t));if(e.match(/^u?int/))return Hl(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return kl("string"==typeof t,"invalid string","value",t),t}kl(!1,"unsupported type","type",e)}))}}}function Bd(e,t){return{address:Ju(e),storageKeys:t.map(((e,t)=>(kl(Il(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function Fd(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?(kl(2===t.length,"invalid slot set",`value[${n}]`,t),Bd(t[0],t[1])):(kl(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),Bd(t.address,t.storageKeys))));kl(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return Bd(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}const Dd="0x0000000000000000000000000000000000000000";class Md{fragment;name;signature;topic;args;constructor(e,t,n){const r=e.name,s=e.format();yl(this,{fragment:e,name:r,signature:s,topic:t,args:n})}}class $d{fragment;name;args;signature;selector;value;constructor(e,t,n,r){const s=e.name,i=e.format();yl(this,{fragment:e,name:s,args:n,signature:i,selector:t,value:r})}}class Gd{fragment;name;args;signature;selector;constructor(e,t,n){const r=e.name,s=e.format();yl(this,{fragment:e,name:r,args:n,signature:s,selector:t})}}class Hd{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){yl(this,{hash:e,_isIndexed:!0})}}const zd={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Wd={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&zd[e.toString()]&&(t=zd[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class qd{fragments;deploy;fallback;receive;#g;#m;#y;#b;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#y=new Map,this.#g=new Map,this.#m=new Map;const n=[];for(const e of t)try{n.push(od.from(e))}catch(e){console.log("EE",e)}yl(this,{fragments:Object.freeze(n)});let r=null,s=!1;this.#b=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void yl(this,{deploy:e});case"fallback":return void(0===e.inputs.length?s=!0:(kl(!r||e.payable!==r.payable,"conflicting fallback fragments",`fragments[${t}]`,e),r=e,s=r.payable));case"function":n=this.#y;break;case"event":n=this.#m;break;case"error":n=this.#g;break;default:return}const i=e.format();n.has(i)||n.set(i,e)})),this.deploy||yl(this,{deploy:hd.from("constructor()")}),yl(this,{fallback:r,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return wd.defaultAbiCoder()}#w(e,t,n){if(Il(e)){const t=e.toLowerCase();for(const e of this.#y.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#y)t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,s=!0;eh.isTyped(e)&&"overrides"===e.type&&(s=!1,n--);for(let e=r.length-1;e>=0;e--){const t=r[e].inputs.length;t===n||s&&t===n-1||r.splice(e,1)}for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let s=0;s<t.length;s++)if(eh.isTyped(t[s])){if(s>=n.length){if("overrides"===t[s].type)continue;r.splice(e,1);break}if(t[s].type!==n[s].baseType){r.splice(e,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){kl(!1,`ambiguous function description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return r[0]}const r=this.#y.get(fd.from(e).format());return r||null}getFunctionName(e){const t=this.#w(e,null,!1);return kl(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#w(e,null,!1)}getFunction(e,t){return this.#w(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#y.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#y.get(r),n)}}#v(e,t,n){if(Il(e)){const t=e.toLowerCase();for(const e of this.#m.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#m)t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let s=0;s<t.length;s++)if(eh.isTyped(t[s])&&t[s].type!==n[s].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){kl(!1,`ambiguous event description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return r[0]}const r=this.#m.get(ud.from(e).format());return r||null}getEventName(e){const t=this.#v(e,null,!1);return kl(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#v(e,null,!1)}getEvent(e,t){return this.#v(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#m.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#m.get(r),n)}}getError(e,t){if(Il(e)){const t=e.toLowerCase();if(Wd[t])return ld.from(Wd[t].signature);for(const e of this.#g.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of this.#g)n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?ld.from("error Error(string)"):"Panic"===e?ld.from("error Panic(uint256)"):null;if(t.length>1){kl(!1,`ambiguous error description (i.e. ${t.map((e=>JSON.stringify(e.format()))).join(", ")})`,"name",e)}return t[0]}if("Error(string)"===(e=ld.from(e).format()))return ld.from("error Error(string)");if("Panic(uint256)"===e)return ld.from("error Panic(uint256)");const n=this.#g.get(e);return n||null}forEachError(e){const t=Array.from(this.#g.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#g.get(r),n)}}_decodeParams(e,t){return this.#b.decode(e,t)}_encodeParams(e,t){return this.#b.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);kl(t,"unknown error","fragment",e),e=t}return kl(Rl(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Rl(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);kl(t,"unknown error","fragment",e),e=t}return Ul([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);kl(t,"unknown function","fragment",e),e=t}return kl(Rl(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Rl(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);kl(t,"unknown function","fragment",e),e=t}return Ul([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);kl(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=Ol(t);if(r.length%32==0)try{return this.#b.decode(e.outputs,r)}catch(e){n="could not decode result data"}El(!1,n,"BAD_DATA",{value:Nl(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=Sl(e,"data"),r=wd.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=Nl(n.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#b.decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(e){r.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(t);return s&&(r.invocation={method:s.name,signature:s.signature,args:s.args}),r}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);kl(t,"unknown function","fragment",e),e=t}return Nl(this.#b.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);kl(t,"unknown event","eventFragment",e),e=t}El(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?kh(t):"bytes"===e.type?$u(Nl(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=Vl(t):e.type.match(/^bytes/)?t=function(e,t){return Ll(e,t,!1)}(t,32):"address"===e.type&&this.#b.encode(["address"],[t]),Bl(Nl(t),32));for(t.forEach(((t,s)=>{const i=e.inputs[s];i.indexed?null==t?n.push(null):"array"===i.baseType||"tuple"===i.baseType?kl(!1,"filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?n.push(t.map((e=>r(i,e)))):n.push(r(i,t)):kl(null==t,"cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);kl(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],s=[];return e.anonymous||n.push(e.topicHash),kl(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,i)=>{const o=t[i];if(e.indexed)if("string"===e.type)n.push(kh(o));else if("bytes"===e.type)n.push($u(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this.#b.encode([e.type],[o]))}else r.push(e),s.push(o)})),{data:this.#b.encode(r,s),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e){const t=this.getEvent(e);kl(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;kl(Il(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],s=[],i=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(id.from({type:"bytes32",name:e.name})),i.push(!0)):(r.push(e),i.push(!1)):(s.push(e),i.push(!1))}));const o=null!=n?this.#b.decode(r,Ul(n)):null,a=this.#b.decode(s,t,!0),c=[],l=[];let u=0,h=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==o)n=new Hd(null);else if(i[t])n=new Hd(o[h++]);else try{n=o[h++]}catch(e){n=e}else try{n=a[u++]}catch(e){n=e}c.push(n),l.push(e.name||null)})),nu.fromItems(c,l)}parseTransaction(e){const t=Sl(e.data,"tx.data"),n=Hl(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(Nl(t.slice(0,4)));if(!r)return null;const s=this.#b.decode(r.inputs,t.slice(4));return new $d(r,r.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Md(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Nl(e),n=this.getError(Rl(t,0,4));if(!n)return null;const r=this.#b.decode(n.inputs,Rl(t,4));return new Gd(n,n.selector,r)}static from(e){return e instanceof qd?e:"string"==typeof e?new qd(JSON.parse(e)):"function"==typeof e.format?new qd(e.format("json")):new qd(e)}}const Kd=BigInt(0);function Vd(e){return null==e?null:e}function Jd(e){return null==e?null:e.toString()}class Qd{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){yl(this,{gasPrice:Vd(e),maxFeePerGas:Vd(t),maxPriorityFeePerGas:Vd(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Jd(e),maxFeePerGas:Jd(t),maxPriorityFeePerGas:Jd(n)}}}function Yd(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Nl(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of n)r in e&&null!=e[r]&&(t[r]=Hl(e[r],`request.${r}`));const r="type,nonce".split(/,/);for(const n of r)n in e&&null!=e[n]&&(t[n]=Kl(e[n],`request.${n}`));return e.accessList&&(t.accessList=Fd(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),t}class Zd{provider;number;hash;timestamp;parentHash;nonce;difficulty;gasLimit;gasUsed;miner;extraData;baseFeePerGas;#A;constructor(e,t){this.#A=e.transactions.map((e=>"string"!=typeof e?new tf(e,t):e)),yl(this,{provider:t,hash:Vd(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:Vd(e.baseFeePerGas)})}get transactions(){return this.#A.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#A.slice();return 0===e.length?[]:(El("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:s,hash:i,miner:o,nonce:a,number:c,parentHash:l,timestamp:u,transactions:h}=this;return{_type:"Block",baseFeePerGas:Jd(e),difficulty:Jd(t),extraData:n,gasLimit:Jd(r),gasUsed:Jd(s),hash:i,miner:o,nonce:a,number:c,parentHash:l,timestamp:u,transactions:h}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#A.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#A[e];else{const n=e.toLowerCase();for(const e of this.#A){if("string"==typeof e){if(e!==n)continue;t=e;break}if(e.hash!==n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;kl(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class Xd{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());yl(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:i,topics:o,transactionHash:a,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:i,topics:o,transactionHash:a,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return El(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return El(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return El(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class ef{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;cumulativeGasUsed;gasPrice;type;status;root;#E;constructor(e,t){this.#E=Object.freeze(e.logs.map((e=>new Xd(e,t))));let n=Kd;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),yl(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:n,type:e.type,status:e.status,root:e.root})}get logs(){return this.#E}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:s,blockHash:i,blockNumber:o,logsBloom:a,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:o,contractAddress:n,cumulativeGasUsed:Jd(this.cumulativeGasUsed),from:t,gasPrice:Jd(this.gasPrice),gasUsed:Jd(this.gasUsed),hash:r,index:s,logs:c,logsBloom:a,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return rf(this)}reorderedEvent(e){return El(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),nf(this,e)}}class tf{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;data;value;chainId;signature;accessList;#k;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.#k=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:s,to:i,from:o,nonce:a,data:c,signature:l,accessList:u}=this;return{_type:"TransactionReceipt",accessList:u,blockNumber:e,blockHash:t,chainId:Jd(this.chainId),data:c,from:o,gasLimit:Jd(this.gasLimit),gasPrice:Jd(this.gasPrice),hash:r,maxFeePerGas:Jd(this.maxFeePerGas),maxPriorityFeePerGas:Jd(this.maxPriorityFeePerGas),nonce:a,signature:l,to:i,index:n,type:s,value:Jd(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await ml({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let s=this.#k,i=-1,o=-1===s;const a=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await ml({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(s=e);if(o)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===i&&(i=s-3,i<this.#k&&(i=this.#k));i<=e;){if(o)return null;const t=await this.provider.getBlock(i,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const i=await t.getTransaction(r);if(i.from===this.from&&i.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(i.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?r="repriced":"0x"===i.data&&i.from===i.to&&i.value===Kd&&(r="cancelled"),El(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:i.replaceableTransaction(s),hash:i.hash,receipt:t})}}i++}},c=e=>{if(null==e||0!==e.status)return e;El(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},l=await this.provider.getTransactionReceipt(this.hash);if(0===n)return c(l);if(l){if(await l.confirmations()>=n)return c(l)}else if(await a(),0===n)return null;const u=new Promise(((e,t)=>{const i=[],l=()=>{i.forEach((e=>e()))};if(i.push((()=>{o=!0})),r>0){const e=setTimeout((()=>{l(),t(Al("wait for transaction timeout","TIMEOUT"))}),r);i.push((()=>{clearTimeout(e)}))}const u=async r=>{if(await r.confirmations()>=n){l();try{e(c(r))}catch(e){t(e)}}};if(i.push((()=>{this.provider.off(this.hash,u)})),this.provider.on(this.hash,u),s>=0){const e=async()=>{try{await a()}catch(e){if(wl(e,"TRANSACTION_REPLACED"))return l(),void t(e)}o||this.provider.once("block",e)};i.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}removedEvent(){return El(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rf(this)}reorderedEvent(e){return El(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),El(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),nf(this,e)}replaceableTransaction(e){kl(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new tf(this,this.provider);return t.#k=e,t}}function nf(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function rf(e){return{orphan:"drop-transaction",tx:e}}class sf{filter;emitter;#P;constructor(e,t,n){this.#P=t,yl(this,{emitter:e,filter:n})}async removeListener(){null!=this.#P&&await this.emitter.off(this.filter,this.#P)}}class of extends Xd{interface;fragment;args;constructor(e,t,n){super(e,e.provider);yl(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class af extends Xd{error;constructor(e,t){super(e,e.provider),yl(this,{error:t})}}class cf extends ef{#x;constructor(e,t,n){super(n,t),this.#x=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#x.getEvent(e.topics[0]):null;if(t)try{return new of(e,this.#x,t)}catch(t){return new af(e,t)}return e}))}}class lf extends tf{#x;constructor(e,t,n){super(n,t),this.#x=e}async wait(e){const t=await super.wait(e);return null==t?null:new cf(this.#x,this.provider,t)}}class uf extends sf{log;constructor(e,t,n,r){super(e,t,n),yl(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class hf extends uf{constructor(e,t,n,r,s){super(e,t,n,new of(s,e.interface,r));yl(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const df=BigInt(0);function ff(e){return e&&"function"==typeof e.call}function pf(e){return e&&"function"==typeof e.estimateGas}function gf(e){return e&&"function"==typeof e.resolveName}function mf(e){return e&&"function"==typeof e.sendTransaction}class yf{#_;fragment;constructor(e,t,n){if(yl(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=bf(e.runner,"resolveName"),s=gf(r)?r:null;this.#_=async function(){const r=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>Ed(e,s)))):Ed(t,s):t)))));return e.interface.encodeFilterTopics(t,r)}()}getTopicFilter(){return this.#_}}function bf(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function wf(e){return null==e?null:e.provider||null}async function vf(e,t){const n=eh.dereference(e,"overrides");kl("object"==typeof n,"invalid overrides parameter","overrides",e);const r=Yd(n);return kl(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),kl(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=await Ed(r.from)),r}function Af(e){const t=async function(t){const n=await vf(t,["data"]);n.to=await e.getAddress();const r=e.interface,s=Hl(n.value||df,"overrides.value")===df,i="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||i||s||kl(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),kl(r.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data);return kl(r.receive||r.fallback&&r.fallback.payable||s,"cannot send value to non-payable fallback","overrides.value",n.value),kl(r.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;El(mf(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await r.sendTransaction(await t(n)),i=wf(e.runner);return new lf(e.interface,i,s)},r=async e=>await n(e);return yl(r,{_contract:e,estimateGas:async function(n){const r=bf(e.runner,"estimateGas");return El(pf(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=bf(e.runner,"call");El(ff(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await t(n);try{return await r.call(s)}catch(t){if(vl(t)&&t.data)throw e.interface.makeError(t.data,s);throw t}}}),r}function Ef(e,t){const n=function(...n){const r=e.interface.getFunction(t,n);return El(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),r},r=async function(...t){const r=n(...t);let s={};if(r.inputs.length+1===t.length&&(s=await vf(t.pop())),r.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const i=await async function(e,t,n){const r=bf(e,"resolveName"),s=gf(r)?r:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=eh.dereference(t,e),"address"===e?Ed(t,s):t))))))}(e.runner,r.inputs,t);return Object.assign({},s,await ml({to:e.getAddress(),data:e.interface.encodeFunctionData(r,i)}))},s=async function(...e){const t=await o(...e);return 1===t.length?t[0]:t},i=async function(...t){const n=e.runner;El(mf(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await n.sendTransaction(await r(...t)),i=wf(e.runner);return new lf(e.interface,i,s)},o=async function(...t){const s=bf(e.runner,"call");El(ff(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...t);let o="0x";try{o=await s.call(i)}catch(t){if(vl(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}const a=n(...t);return e.interface.decodeFunctionResult(a,o)},a=async(...e)=>n(...e).constant?await s(...e):await i(...e);return yl(a,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(...t){const n=bf(e.runner,"estimateGas");return El(pf(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await r(...t))},populateTransaction:r,send:i,staticCall:s,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return El(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),a}const kf=Symbol.for("_ethersInternal_contract"),Pf=new WeakMap;function xf(e){return Pf.get(e[kf])}async function _f(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(Il(t,32))return t;const n=e.interface.getEvent(t);return kl(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(r):r(e)))}else"*"===t?n=[null]:"string"==typeof t?Il(t,32)?n=[t]:(r=e.interface.getEvent(t),kl(r,"unknown fragment","event",t),n=[r.topicHash]):(s=t)&&"object"==typeof s&&"getTopicFilter"in s&&"function"==typeof s.getTopicFilter&&s.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):kl(!1,"unknown event name","event",t);var s;n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));return{fragment:r,tag:n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:n}}async function Cf(e,t){const{subs:n}=xf(e);return n.get((await _f(e,t)).tag)||null}async function Sf(e,t,n){const r=wf(e.runner);El(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:i,topics:o}=await _f(e,n),{addr:a,subs:c}=xf(e);let l=c.get(i);if(!l){const t={address:a||e,topics:o},u=t=>{let r=s;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(e){}if(r){const i=r,o=s?e.interface.decodeEventLog(s,t.data,t.topics):[];If(e,n,o,(r=>new hf(e,r,n,i,t)))}else If(e,n,[],(r=>new uf(e,r,n,t)))};let h=[];l={tag:i,listeners:[],start:()=>{h.length||h.push(r.on(t,u))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,u)}},c.set(i,l)}return l}let Of=Promise.resolve();async function If(e,t,n,r){try{await Of}catch(e){}const s=async function(e,t,n,r){await Of;const s=await Cf(e,t);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter((({listener:t,once:s})=>{const i=Array.from(n);r&&i.push(r(s?null:t));try{t.call(e,...i)}catch(e){}return!s})),0===s.listeners.length&&(s.stop(),xf(e).subs.delete(s.tag)),i>0}(e,t,n,r);return Of=s,await s}const Tf=["then"];class Nf{target;interface;runner;filters;[kf];fallback;constructor(e,t,n,r){kl("string"==typeof e||vd(e),"invalid value for Contract target","target",e),null==n&&(n=null);const s=qd.from(t);let i;yl(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,kf,{value:{}});let o=null,a=null;if(r){const e=wf(n);a=new lf(this.interface,e,r)}let c=new Map;if("string"==typeof e)if(Il(e))o=e,i=Promise.resolve(e);else{const t=bf(n,"resolveName");if(!gf(t))throw Al("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=t.resolveName(e).then((t=>{if(null==t)throw Al("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return xf(this).addr=t,t}))}else i=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return xf(this).addr=e,e}));!function(e,t){Pf.set(e[kf],t)}(this,{addrPromise:i,addr:o,deployTx:a,subs:c});const l=new Proxy({},{get:(e,t,n)=>{if("symbol"==typeof t||Tf.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(e){if(!wl(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>Tf.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return yl(this,{filters:l}),yl(this,{fallback:s.receive||s.fallback?Af(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"==typeof t||t in e||Tf.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(e){if(!wl(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||Tf.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new Nf(this.target,this.interface,e)}attach(e){return new Nf(e,this.interface,this.runner)}async getAddress(){return await xf(this).addrPromise}async getDeployedCode(){const e=wf(this.runner);El(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=wf(this.runner);return El(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(e){n(e)}};r()}))}deploymentTransaction(){return xf(this).deployTx}getFunction(e){"string"!=typeof e&&(e=e.format());return Ef(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const n=function(...n){const r=e.interface.getEvent(t,n);return El(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),r},r=function(...t){return new yf(e,n(...t),t)};return yl(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return El(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:s}=xf(this),i=r||await s,{fragment:o,topics:a}=await _f(this,e),c={address:i,topics:a,fromBlock:t,toBlock:n},l=wf(this.runner);return El(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(c)).map((e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new of(e,this.interface,t)}catch(t){return new af(e,t)}return new Xd(e,l)}))}async on(e,t){const n=await Sf(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await Sf(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await If(this,e,t,null)}async listenerCount(e){if(e){const t=await Cf(this,e);return t?t.listeners.length:0}const{subs:t}=xf(this);let n=0;for(const{listeners:e}of t.values())n+=e.length;return n}async listeners(e){if(e){const t=await Cf(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=xf(this);let n=[];for(const{listeners:e}of t.values())n=n.concat(e.map((({listener:e})=>e)));return n}async off(e,t){const n=await Cf(this,e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),xf(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await Cf(this,e);if(!t)return this;t.stop(),xf(this).subs.delete(t.tag)}else{const{subs:e}=xf(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends Nf{constructor(t,n=null){super(t,e,n)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class Uf extends(function(){return Nf}()){}function jf(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),s=1,i=[0,1];for(let e=1;e<r;e++)i.push(s+=n());let o=n(),a=t;t+=o;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const h=2**31,d=h>>>1,f=h-1;let p=0;for(let e=0;e<31;e++)p=p<<1|u();let g=[],m=0,y=h;for(;;){let e=Math.floor(((p-m+1)*s-1)/y),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<i[r]?n=r:t=r}if(0==t)break;g.push(t);let o=m+Math.floor(y*i[t]/s),a=m+Math.floor(y*i[t+1]/s)-1;for(;0==((o^a)&d);)p=p<<1&f|u(),o=o<<1&f,a=a<<1&f|1;for(;o&~a&536870912;)p=p&d|p<<1&f>>>1|u(),o=o<<1^d,a=(a^d)<<1|d|1;m=o,y=1+a-o}let b=r-4;return g.map((t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,a=0;s<n;s++)a=a<<6|t[e.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}(e)))}function Rf(e){return 1&e?~e>>1:e>>1}function Lf(e,t){let n=Array(e);for(let r=0,s=0;r<e;r++)n[r]=s+=Rf(t());return n}function Bf(e,t=0){let n=[];for(;;){let r=e(),s=e();if(!s)break;t+=r;for(let e=0;e<s;e++)n.push(t+e);t+=s+1}return n}function Ff(e){return Mf((()=>{let t=Bf(e);if(t.length)return t}))}function Df(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(Gf(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(Hf(n,e))}return t.flat()}function Mf(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function $f(e,t,n){let r=Array(e).fill().map((()=>[]));for(let s=0;s<t;s++)Lf(e,n).forEach(((e,t)=>r[t].push(e)));return r}function Gf(e,t){let n=1+t(),r=t(),s=Mf(t);return $f(s.length,1+e,t).flatMap(((e,t)=>{let[i,...o]=e;return Array(s[t]).fill().map(((e,t)=>{let s=t*r;return[i+t*n,o.map((e=>e+s))]}))}))}function Hf(e,t){return $f(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}var zf=jf("AEgSbwjEDVYByQKaAQsBOQDpATQAngDUAHsAoABoANQAagCNAEQAhABMAHIAOwA9ACsANgAmAGIAHgAvACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGAAeABMAFwAXAA0ADgAWAA8AFAAVBFsF1QEXE0o3xAXUALIArkABaACmAgPGAK6AMDAwMAE/qAYK7P4HQAblMgVYBVkAPSw5Afa3EgfJwgAPA8meNALGCjACjqIChtk/j2+KAsXMAoPzASDgCgDyrgFCAi6OCkCQAOQA4woWABjVuskNDD6eBBx4AP4COhi+D+wKBirqBgSCaA0cBy4ArABqku+mnIAAXAaUJAbqABwAPAyUFvyp/Mo8INAIvCoDshQ8APcubKQAon4ZABgEJtgXAR4AuhnOBPsKIE04CZgJiR8cVlpM5INDABQADQAWAA9sVQAiAA8ASO8W2T30OVnKluYvChEeX05ZPe0AFAANABYAD2wgXUCYAMPsABwAOgzGFryp/AHauQVcBeMC0KACxLEKTR2kZhR0Gm5M9gC8DmgC4gAMLjSKF8qSAoF8ARMcAL4OaALiAAwuAUlQJpJMCwMt/AUpCthqGK4B2EQAciwSeAIyFiIDKCi6OGwAOuIB9iYAyA7MtgEcZIIAsgYABgCK1EoFHNZsGACoKNIBogAAAAAAKy4DnABoAQoaPu43dQQZGACrAcgCIgDgLBJ0OvRQsTOiKDVJBfsoBVoFWbC5BWo7XkITO1hCmHuUZmCh+QwUA8YIJvJ4JASkTAJUVAJ2HKwoAZCkpjZcA0YYBIRiCgDSBqxAMCQHKgI6XgBsAWIgcgCEHhoAlgFKuAAoahgBsMYDOC4iRFQBcFoGZgJmAPJKGAMqAgYASkIArABeAHQALLYGCPTwGo6AAAAKIgAqALQcSAHSAdwIDDKXeYHpAAsAEgA1AD4AOTR3etTBEGAQXQJNCkxtOxUMAq0PpwvmERYM0irM09kANKoH7ANUB+wDVANUB+wH7ANUB+wDVANUA1QDVBwL8BvUwRBgD0kEbgWPBYwE1wiEJkoRggcpCNNUDnQfHEgDRgD9IyZJHTuUMwwlQ0wNTQQH/TZDbKh9OQNIMaxU9pCjA8wyUDltAh5yEqEAKw90HTW2Tn96SHGhCkxPr7WASWNOaAK/Oqk/+QoiCZRvvHdPBj4QGCeiEPQMMAGyATgN6kvVBO4GOATGH3oZFg/KlZkIoi3aDOom4C6egFcj8iqABepL8TzaC0pRZQ9WC2IJ4DpggUsDHgEKIogK2g02CGoQ8ArGaA3iEUIHNgPSSZcAogb+Cw4dMhWyJg1iqQsGOXQG+BrzC4wmrBMmevkF0BoeBkoBJhr8AMwu5IWtWi5cGU9cBgALIiPEFKVQHQ0iQLR4RRoYBxIlpgKOQ21KhFEzHpAh8zw6DWMuEFF5B/I8AhlMC348m0aoRQsRzz6KPUUiRkwpBDJ8LCwniAnMD4IMtnxvAVYJHgmuDG4TLhEUN8IINgcWKpchJxIIHkaSYJcE9JwD8BPOAwgFPAk+BxADshwqEysVJgUKgSHUAvA20i6wAoxWfQEUBcgPIh/cEE1H3Q7mCJgCYgOAJegAKhUeABQimAhAYABcj9VTAi7ICMRqaSNxA2QU5F4RcAeODlQHpBwwFbwc3nDFXgiGBSigrAlYAXIJlgFcBOAIBjVYjJ0gPmdQi1UYmCBeQTxd+QIuDGIVnES6h3UCiA9oEhgBMgFwBzYM/gJ0EeoRaBCSCOiGATWyM/U6IgRMIYAgDgokA0xsywskJvYM9WYBoBJfAwk0OnfrZ6hgsyEX+gcWMsJBXSHuC49PygyZGr4YP1QrGeEHvAPwGvAn50FUBfwDoAAQOkoz6wS6C2YIiAk8AEYOoBQH1BhnCm6MzQEuiAG0lgNUjoACbIwGNAcIAGQIhAV24gAaAqQIoAACAMwDVAA2AqoHmgAWAII+AToDJCwBHuICjAOQCC7IAZIsAfAmBBjADBIA9DRuRwLDrgKAZ2afBdpVAosCRjIBSiIEAktETgOsbt4A2ABIBhDcRAESqEfIF+BAAdxsKADEAPgAAjIHAj4BygHwagC0AVwLLgmfsLIBSuYmAIAAEmgB1AKGANoAMgB87gFQAEoFVvYF0AJMRgEOLhUoVF4BuAMcATABCgB2BsiKosYEHARqB9ACEBgV3gLvKweyAyLcE8pCwgK921IAMhMKNQqkCqNgWF0wAy5vPU0ACx+lPsQ/SwVOO1A7VTtQO1U7UDtVO1A7VTtQO1UDlLzfvN8KaV9CYegMow3RRMU6RhPYYE5gLxPFLbQUvhXLJVMZOhq5JwIl4VUGDwEt0GYtCCk0che5ADwpZYM+Y4MeLQpIHORTjlT1LRgArkufM6wNqRsSRD0FRHXqYicWCwofAmR+AmI/WEqsWDcdAqH0AmiVAmYGAp+BOBgIAmY4AmYjBGsEfAN/EAN+jzkDOXQUOX86ICACbBoCMjM4BwJtxAJtq+yHMGRCKAFkANsA3gBHAgeVDIoA+wi/AAqyAncsAnafPAJ5SEACeLcaWdhFq0bwAnw8AnrFAn0GAnztR/1IemAhACgSSVVKWBIUSskC0P4C0MlLJAOITAOH40TCkS8C8p5dAAMDq0vLTCoiAMxNSU2sAos8AorVvhgEGkBkArQCjjQCjlk9lH4CjtYCjll1UbFTMgdS0VSCApP4ApMJAOYAGVUbVaxVzQMsGCmSgzLeeGNFODYCl5wC769YHqUAViIClowClnmZAKZZqVoGfkoAOAKWsgKWS1xBXM4CmcgCmWFcx10EFgKcmDm/OpoCnBMCn5gCnrWHABoMLicMAp3uAp6PALI6YTFh7AKe0AKgawGmAp6cHAKeS6JjxWQkIigCJ6wCJnsCoPgCoEnUAqYsAqXLAqf8AHoCp+9oeWiuAABGahlqzgKs4AKsqwKtZAKs/wJXGgJV2QKx3tQDH0tslAKyugoCsuUUbN1tYG1FXAMlygK2WTg8bo0DKUICuFsCuUQSArkndHAzcN4CvRYDLa8DMg4CvoVx/wMzbgK+F3Mfc0wCw8gCwwFzf3RIMkJ03QM8pAM8lwM9vALFeQLGRALGDYYCyGZOAshBAslMAskrAmSaAt3PeHZeeKt5IkvNAxigZv8CYfEZ8JUhewhej164DgLPaALPaSxIUM/wEJwAw6oCz3ABJucDTg9+SAIC3CQC24cC0kwDUlkDU1wA/gNViYCGPMgT6l1CcoLLg4oC2sQC2duEDYRGpzkDhqIALANkC4ZuVvYAUgLfYgLetXB0AuIs7REB8y0kAfSYAfLPhALr8ALpbXYC6vYC6uEA9kQBtgLuhgLrmZanlwAC7jwDhd2YdnDdcZ4C8wAAZgOOE5mQAvcQA5FrA5KEAveVAvnWAvhjmhmaqLg0mxsDnYAC/vcBGAA2nxmfsAMFigOmZwOm1gDOwgMGZ6GFogIGAwxGAQwBHAdqBl62ZAIAuARovA6IHrAKABRyNgAgAzASSgOGfAFgJB4AjOwAHgDmoAScjgi0BhygwgCoBRK86h4+PxZ5BWk4P0EsQiJCtV9yEl+9AJbGBTMAkE0am7o7J2AzErrQDjAYxxiKyfcFWAVZBVgFWQVkBVkFWAVZBVgFWQVYBVkFWAVZRxYI2IZoAwMDCmVe6iwEygOyBjC8vAC8BKi8AOhBKhazBUc+aj5xQkBCt192OF/pAFgSM6wAjP/MbMv9puhGez4nJAUsFyg3Nn5u32vB8hnDLGoBbNdvMRgFYAVrycLJuQjQSlwBAQEKfV5+jL8AND+CAAQW0gbmriQGAIzEDAMCDgDlZh4+JSBLQrJCvUI5JF8oYDcoOSQJwj4KRT9EPnk+gj5xPnICikK9SkM8X8xPUGtOCy1sVTBrDG8gX+E0OxwJaJwKYyQsPR4nQqxCvSzMAsv9X8oPIC8KCQoAACN+nt9rOy5LGMmsya0JZsLMzQphQWAP5hCkEgCTjh5GQiYbqm06zjkKND9EPnFCQBwICx5NSG1cLS5a4rwTCn7uHixCQBxeCUsKDzRVREM4BTtEnC0KghwuQkAb9glUIyQZMTIBBo9i8F8KcmTKYAxgLiRvAERgGjoDHB9gtAcDbBFmT2BOEgIAZOhgFmCWYH5gtGBMYJJpFhgGtg/cVqq8WwtDF6wBvCzOwgMgFgEdBB8BegJtMDGWU4EBiwq5SBsA5SR0jwvLDqdN6wGcAoidUAVBYAD4AD4LATUXWHsMpg0lILuwSABQDTUAFhO4NVUC0wxLZhEcANlPBnYECx9bADIAtwKbKAsWcKwzOaAaAVwBhwn9A9ruEAarBksGugAey1aqWwq7YhOKCy1ADrwBvAEjA0hbKSkpIR8gIi0TJwciDY4AVQJvWJFKlgJvIA9ySAHUdRDPUiEaqrFN6wcSBU1gAPgAPgsBewAHJW0LiAymOTEuyLBXDgwAYL0MAGRKaFAiIhzAADIAtwKbKC08D88CkRh8ULxYyXRzjtilnA72mhU+G+0S2hIHDxwByAk7EJQGESwNNwwAPAC0zwEDAKUA4gCbizAAFQBcG8cvbXcrDsIRAzwlRNTiHR8MG34CfATCC6vxbQA4Oi4Opzkuz6IdB7wKABA7Ls8SGgB9rNsdD7wbSBzOoncfAT4qYB0C7KAJBE3z5R9mDL0M+wg9Cj8ABcELPgJMDbwIvQ09CT0KvS7PoisOvAaYAhwPjBriBBwLvBY8AKELPBC8BRihe90AO2wMPQACpwm9BRzR9QYFB2/LBnwAB7wSXBISvQECAOsCAAB1FVwHFswV/HAXvBg8AC68AuyovAAevAJWISuAAAG8AALkFT0VvCvso7zJqDwEAp8nTAACXADn3hm8CaVcD7/FAPUafAiiBQv/cQDfvKe8GNwavKOMeXMG/KmchAASvAcbDAADlABtvAcAC7ynPAIaPLsIopzLDvwHwak8AOF8L7dtvwNJAAPsABW8AAb8AAm8AGmMABq8AA68Axi8jmoV/AABXAAObAAuTB8ABrwAF7wIIgANSwC6vCcAA7wADpwq7ACyWwAcHAAbvAAB7AqiAAXHCxYV3AAHnABCvAEDAGm8AAt8AB28AAi8CaIABcsAbqAZ1gCSCCIABcsAATwAB9wAHZwIIgAGmwAJfAAbLABtHADmvIEACFwACDwAFLwAaPwJIgAGywDjjAAJPAuiDsX7YAAHPABunUBJAEgACrwFAAM8AAmuAzgABxwAGXwAAgym/AAKHAAKPAAJ/KfsBrwACRwAAwwAEDwBABQ8ABFsAA+MAA3sAA28ABkMBxYcABU8AG6cFrQBvAC7ABM8BABpLAsA4UwAAjwABFMAF3wFHAAG0QAYvB8BfClTADpGALAJBw4McwApK3EBpQYIXwJtJA0ACghwTG1gK4oggRVjLjcDogq1AALZABcC/ARvAXdzSFMVIgNQAhY/AS0GBHRHvnxTe0EAKgAyAvwAVAvcAHyRLQEsAHfmDhIzRwJLAFgGAAJRAQiLzQB5PAQhpgBbANcWAJZpOCCMAM5ssgDQ1RcJw3Z0HBlXHgrSAYmRrCNUVE5JEz3DivoAgB04QSos4RKYUABzASosMSlDGhADMVYE+MbvAExm3QBrAnICQBF7Osh4LzXWBhETIAUVCK6v/xPNACYAAQIbAIYAiQCONgDjALQA1QCdPQC7AKsApgChAOcAnwDTAJwA4AEBAPwAwAB6AFsAywDNAPwA1wDrAIkAogEqAOMA2ADVBAIIKzTT09PTtb/bzM/NQjEWAUsBVS5GAVMBYgFhAVQBRUpCRGcMAUwUBgkEMzcMBwAgDSQmKCs3OTk8PDw9Pg0/HVBQUFBSUlFSKFNUVlVVHFxgYF9hYCNlZ29ucXFxcXFxc3Nzc3Nzc3Nzc3N1dXZ1dFsAPesAQgCTAHEAKwBf8QCHAFAAUAAwAm/oAIT+8fEAXQCM6wCYAEgAWwBd+PipAH4AfgBiAE8AqgAdAK8AfAI5AjwA9QDgAPcA9wDhAPgA4gDiAOEA3wAoAnQBSgE5ATcBTQE3ATcBNwEyATEBMQExARUBURAAKgkBAEwYCxcEFhcPAIcAjwCfAEoAYxkCKgBvAGgAkAMOAyArAxpCP0gqAIoCSADAAlACnQC5Ao8CjwKPAo8CjwKPAoQCjwKPAo8CjwKPAo8CjgKOApECmQKQAo8CjwKNAo0CjQKNAosCjgJuAc0CkAKYAo8CjwKOF3oMAPcGA5gCWgIzGAFNETYC2xILLBQBRzgUTpIBdKU9AWJaAP4DOkgA/wCSKh4ZkGsAKmEAagAvAIoDlcyM8K+FWwa7LA/DEgKe1nUrCwQkWwGzAN5/gYB/gX+Cg4N/hIeFf4aJh4GIg4mDin+Lf4x/jYuOf49/kIORf5J/k3+Uf5WElomXg5h/AIMloQCEBDwEOQQ7BD4EPARCBD8EOgRABEIEQQQ9BD8EQgCkA4gAylIA0AINAPdbAPcBGgD3APUA9QD2APXVhSRmvwD3APUA9QD2APUdAIpbAPcAigEaAPcAigLtAPcAitWFJGa/HQD4WwEaAPcA9wD1APUA9gD1APgA9QD1APYA9dWFJGa/HQCKWwEaAPcAigD3AIoC7QD3AIrVhSRmvx0CRAE3AksBOgJMwgOfAu0Dn9WFJGa/HQCKWwEaA58AigOfAIoC7QOfAIrVhSRmvx0EMQCKBDIAigeOMm4hLQCKAT9vBCQA/gDHWwMAVVv/FDMDAIoDPtkASgMAigMAl2dBtv/TrfLzakaPh3aztmIuZQrR3ER2n5Yo+qNR2jK/aP/V04UK1njIJXLgkab9PjOxyJDVbIN3R/FZLoZVl2kYFQIZ7V6LpRqGDt9OdDohnJKp5yX/HLj0voPpLrneDaN11t5W3sSM4ALscgSw8fyWLVkKa/cNcQmjYOgTLZUgOLi2F05g4TR0RfgZ4PBdntxdV3qvdxQt8DeaMMgjJMgwUxYN3tUNpUNx21AvwADDAIa0+raTWaoBXmShAl5AThpMi282o+WzOKMlxjHj7a+DI6AM6VI9w+xyh3Eyg/1XvPmbqjeg2MGXugHt8wW03DQMRTd5iqqOhjLvyOCcKtViGwAHVLyl86KqvxVX7MxSW8HLq6KCrLpB8SspAOHO9IuOwCh9poLoMEha9CHCxlRAXJNDobducWjqhFHqCkzjTM2V9CHslwq4iU19IxqhIFZMve15lDTiMVZIPdADXGxTqzSTv0dDWyk1ht430yvaYCy9qY0MQ3cC5c1uw4mHcTGkMHTAGC99TkNXFAiLQgw9ZWhwKJjGCe+J5FIaMpYhhyUnEgfrF3zEtzn40DdgCIJUJfZ0mo3eXsDwneJ8AYCr7Vx2eHFnt2H6ZEyAHs9JoQ4Lzh5zBoGOGwAz37NOPuqSNmZf51hBEovtpm2T1wI79OBWDyvCFYkONqAKGVYgIL0F+uxTcMLSPtFbiNDbBPFgip8MGDmLLHbSyGXdCMO6f7teiW9EEmorZ+75KzanZwvUySgjoUQBTfHlOIerJs6Y9wLlgDw18AB1ne0tZRNgGjcrqHbtubSUooEpy4hWpDzTSrmvqw0H9AoXQLolMt9eOM+l9RitBB1OBnrdC1XL4yLFyXqZSgZhv7FnnDEXLUeffb4nVDqYTLY6X7gHVaK4ZZlepja2Oe6OhLDI/Ve5SQTCmJdH3HJeb14cw99XsBQAlDy5s5kil2sGezZA3tFok2IsNja7QuFgM30Hff3NGSsSVFYZLOcTBOvlPx8vLhjJrSI7xrNMA/BOzpBIJrdR1+v+zw4RZ7ry6aq4/tFfvPQxQCPDsXlcRvIZYl+E5g3kJ+zLMZon0yElBvEOQTh6SaAdIO6BwdqJqfvgU+e8Y65FQhdiHkZMVt9/39N2jGd26J6cNjq8cQIyp6RonRPgVn2fl89uRDcQ27GacaN0MPrcNyRlbUWelKfDfyrNVVGBG5sjd3jXzTx06ywyzuWn5jbvEfPPCTbpClkgEu9oPLKICxU5HuDe3jA1XnvU85IYYhaEtOU1YVWYhEFsa4/TQj3rHdsU2da2eVbF8YjSI0m619/8bLMZu3xildwqM7zf1cjn4Whx0PSYXcY5bR7wEQfGC7CTOXwZdmsdTO8q3uGm7Rh/RfCWwpzBHCAaVfjxgibL5vUeL0pH6bzDmI9yCXKC/okkmbc28OJvI87L/bjFzpq0DHepw4kT1Od+fL7cyuFaRgfaUWB2++TCFvz11J0leEtrGkpccfX9z2LY39sph4PBHCjNOOkd0ybUm+ZzS8GkFbqMpq8uiX2yHpa0jllTLfGTDBMYR6FT5FWLLDPMkYxt1Q0eyMvxJWztDjy0m6VvZPvamrFXjHmPpU6WxrZqH6WW//I37RwvqPQhPz8I3RPuXAk1C94ZprQWm9iGM/KgiGDO6SV9sjp+Jmk4TBajMNJ5zzWZ1k1jrteQQBp9C2dOvmbIeeEME8y573Q8TgGe+ZCzutM45gYLBzYm2LNvgq2kebAbMpHRDSyh6dQ27GbsAAdCqQVVXWC1C+zpwBM2Lr4eqtobmmu1vJEDlIQR1iN8CUWpztq50z7FFQBn3SKViX6wSqzVQCoYvAjByjeSa+h1PRnYWvBinTDB9cHt4eqDsPS4jcD3FwXJKT0RQsl8EvslI2SFaz2OtmYLFV8FwgvWroZ3fKmh7btewX9tfL2upXsrsqpLJzpzNGyNlnuZyetg7DIOxQTMBR7dqlrTlZ6FWi1g4j1NSjA2j1Yd7fzTH6k9LxCyUCneAKYCU581bnvKih6KJTeTeCX4Zhme/QIz7w2o+AdSgtLAkdrLS9nfweYEqrMLsrGGSWXtgWamAWp6+x6GM/Z8jNw3BqPNQ39hrzYLECn3tPvh/LqKbRSCiDGauDKBBj/kGbpnM1Bb/my8hv4NWStclkwjfl57y4oNDgw1JAG9VOti3QVVoSziMEsSdfEjaCPIDb7SgpLXykQsM+nbqbt97I0mIlzWv0uqFobLMAq8Rd9pszUBKxFhBPwOjf//gVOz2r7URJ2OnpviCXv9iz3a4X/YLBYbXoYwxBv/Kq0a5s4utQHzoTerJ7PmFW/no/ZAsid/hRIV82tD+Qabh5F1ssIM8Ri3chu0PuPD3sSJRMjDoxLAbwUbroiPAz/V52e8s3DIixxlO7OrvhMj3qfzA0kKxzwicr5wJmZwJxTXgrwYsqhRvpgC2Nfdyd+TYYxJSZgk+gk2g9KyHSlwQVAyPtWWgvVGyVBqsU2LpDlLNosSAtolC1uBKt5pQZLhAxTjeGCWIC/HVpagc5rRwkgpCHKEsjA8d+scp8aiMewwQBhp5dYTV5t/Nvl+HbDMu8F3S0psPyZb1bSnqlHPFUnMQeQqSqwDBT23fJO9gO3aVaa1icrXU0PKwlMM5K+iL3ATcVq2fFWKk0irCTF4LDVDG4gUpkyplq6efcZS+WDR1woApjD18x+2JQR9oOXzuA7uy4b+/91WsJd/tSd1QcAH8PVPXApieA37B7YXPhDPH1azP3PKR+HfHmOoDYLeuKsIi/ssSsdYs62qJo14Hw1P2N/6zpr8F3FTWmJ4ysAVcl84Iv/tl///Z8FaAWbBQbyMNDZjrZ2JwdRjtd1jOeNumSodFtr4/Zf45iRJf/8HSW+KIB/+GlKu8Rv1BPLr/4duoL+kFPRqrstEr41gfJupoJRf4hcYDWX93FOcfEBiIivxtjtV8g7mvOReiamYWKE7vfPbv3v2L9Kwq3cIDFGLyhyfOGuf/9vA5muH6Pjg7B4SUj2ydDXra9fSBI+DrsNHA6l51wfHssJb+11TfNk7B8OleUe3Y+ZmHboMFHdv7FFP2cfISFyeAQR0sk/Xv62HBTdW4HmnGSLFk/cqyWVVFJkdIIa+4hos3JRHcqLoRKM5h2Qtk1RZtzISMtlXTfTqIc77YsCCgQD0r61jtxskCctwJOtjE/pL8wC4LBD4AZFjh2wzzFCrT/PNqW0/DeBbkfMfzVm9yy06WiF+1mTdNNEAytVtohBKg3brWd2VQa+aF+cQ0mW5CvbwOlWCT07liX226PjiVLwFCRs/Ax2/u+ZNPjrNFIWIPf5GjHyUKp60OeXe9F01f7IaPf/SDTvyDAf7LSWWejtiZcsqtWZjrdn6A2MqBwnSeKhrZOlUMmgMionmiCIvXqKZfmhGZ1MwD3uMF4n9KJcfWLA3cL5pq48tm5NDYNh3SS/TKUtmFSlQR89MR4+kxcqJgpGbhm9gXneDELkyqAN5nitmIzTscKeJRXqd64RiaOALR2d295NWwbjHRNG2AU5oR9OS2oJg/5CY6BFPc1JvD2Mxdhp2/MZdI8dLePxiP4KRIp8VXmqfg+jqd/RNG7GNuq1U2SiI4735Bdc0MVFx6mH5UOWEa5HuhYykd6t4M1gYLVS8m1B+9bUqi5DziQq7qT8d94cxB6AB4WqMCOF/zPPtRSZUUaMSsvHOWxGASufywTX8ogy6HgUf9p+Z30wUEosl8qgmwm6o2AV6nO9HKQjRHpN6SUegI5pvR61RLnUJ1lqCtmfcsRQutEizVpAaPXN7xMp5UQ5OSZK6tniCK9CpyMd7LjR6+MxfoMEDPpWdf2p2m5N3KO4QMxf+V7vGdYjemQczQ+m2MGIkFNYDMf0Yop2eSx81sP36WHUczqEhKysp2iJSYAvfgJjinKwToPvRKb+HBi+7cJ96S5ngfLOXaHAFRLkulo4TnXTFO51gX0TCCo4ZUHdbpdgkMEwUZAPjh6M+hA8DzycbtxAgH3uD6i0nN1aTiIuQ4BYCE9dEHHwAmINU+4YEWx4EC3OZwFGfYZMPLScVlb+BAAJeARUh+gdWA3/gRqCrf1jecgqeFf1MdzrrP4SVlGm5mMihSP+zYYksAB7O+SBPwNQqSNMiLnkviY/klwgcRmvqtCqeWeA0gjuir4CMZqmw/ntP6M+l0pdN8/P9xI53aP7x/zavJbbKOz8VzO/nXxIr1tjparMnqd6iWdByHKw4lF4p/u57Yv07WeZPDnRl7wgmDVZZ44fQsjdYO/gmXQ+940PRGst8UMQApFC4OOV22e4N+lVOPyFLAOj4t8R3PFw/FjbSWy0ELuAFReNkee8ORcBOT2NPDcs7OfpUmzvn/F9Czk9o9naMyVYy/j8I5qVFmQDFcptBp65J/+sJA3w/j6y/eqUkKxTsf0CZjtNdRSBEmJ2tmfgmJbqpcsSagk+Ul9qdyV+NnqFBIJZFCB1XwPvWGDBOjVUmpWGHsWA5uDuMgLUNKZ4vlq5qfzY1LnRhCc/mh5/EX+hzuGdDy5aYYx4BAdwTTeZHcZpl3X0YyuxZFWNE6wFNppYs3LcFJePOyfKZ8KYb7dmRyvDOcORLPH0sytC6mH1US3JVj6paYM1GEr+CUmyHRnabHPqLlh6Kl0/BWd3ebziDfvpRQpPoR7N+LkUeYWtQ6Rn5v5+NtNeBPs2+DKDlzEVR5aYbTVPrZekJsZ9UC9qtVcP99thVIt1GREnN8zXP8mBfzS+wKYym8fcW6KqrE702Zco+hFQAEIR7qimo7dd7wO8B7R+QZPTuCWm1UAwblDTyURSbd85P4Pz+wBpQyGPeEpsEvxxIZkKsyfSOUcfE3UqzMFwZKYijb7sOkzpou+tC4bPXey5GI1GUAg9c3vLwIwAhcdPHRsYvpAfzkZHWY20vWxxJO0lvKfj6sG2g/pJ1vd/X2EBZkyEjLN4nUZOpOO7MewyHCrxQK8d5aF7rCeQlFX+XksK6l6z971BPuJqwdjj68ULOj9ZTDdOLopMdOLL0PFSS792SXE/EC9EDnIXZGYhr52aQb+9b2zEdBSnpkxAdBUkwJDqGCpZk/HkRidjdp0zKv/Cm52EenmfeKX6HkLUJgMbTTxxIZkIeL/6xuAaAAHbA7mONVduTHNX/UJj1nJEaI7f3HlUyiqKn7VfBE+bdb4HWln1HPJx001Ulq1tOxFf8WZEARvq5Da1+pE7fPVxLntGACz3nkoLsKcPdUqdCwwiyWkmXTd5+bv3j7HaReRt3ESn783Ew3SWsvkEjKtbocNksbrLmV+GVZn1+Uneo35MT1/4r8fngQX5/ptORfgmWfF6KSB/ssJmUSijXxQqUpzkANEkSkYgYj560OOjJr6uqckFuO15TRNgABEwNDjus1V3q2huLPYERMCLXUNmJJpbMrUQsSO7Qnxta55TvPWL6gWmMOvFknqETzqzFVO8SVkovEdYatypLGmDy9VWfgAc0KyIChiOhbd7UlbAeVLPZyEDp4POXKBwN/KP5pT6Cyqs6yaI00vXMn1ubk9OWT9Q/O2t/C25qlnO/zO0xcBzpMBCAB8vsdsh3U8fnPX1XlPEWfaYJxKVaTUgfCESWl4CCkIyjE6iQ5JFcwU6S4/IH0/Agacp8d5Gzq2+GzPnJ7+sqk40mfFQpKrDbAKwLlr3ONEati2k/ycLMSUu7V/7BBkDlNyXoN9tvqXCbbMc4SSQXgC/DBUY9QjtrCtQ+susEomCq8xcNJNNMWCH31GtlTw2BdCXkJBjT+/QNWlBWwQ5SWCh1LdQ99QVii/DyTxjSR6rmdap3l3L3aiplQpPYlrzNm9er88fXd2+ao+YdUNjtqmxiVxmyYPzJxl67OokDcTezEGqldkGgPbRdXA+fGcuZVkembZByo7J1dMnkGNjwwCny+FNcVcWvWYL9mg8oF7jACVWI3bA64EXpdM8bSIEVIAs5JJH+LHXgnCsgcMGPZyAAVBncvbLiexzg9YozcytjPXVlAbQAC7Tc4S0C8QN4LlAGjj4pQAVWrwkaDoUYGxxvkCWKRRHkdzJB5zpREleBDL1oDKEvAqmkDibVC4kTqF89YO6laUjgtJPebBfzr16tg4t10GmN1sJ5vezk2sUOq8blCn5mPZyT3ltaDcddKupQjqusNM9wtFVD0ABzv17fZDn7GPT1nkCtdcgYejcK1qOcTGtPxnCX1rErEjVWCnEJv5HaOAUjgpiKQjUKkQi64D5g2COgwas8FcgIl0Pw95H9dWxE3QG0VbMNffh6BPlAojLDf4es2/5Xfq7hw5NGcON2g8Qsy2UQm94KddKyy3kdJxWgpNaEc15xcylbLC3vnT26u8qS90qc2MU8LdOJc5VPF5KnSpXIhnj1eJJ/jszjZ01oR6JDFJRoeTPO/wh4IPFbdG9KljuSzeuI92p8JF/bpgDE8wG86/W2EBKgPrmzdLijxssQn8mM44ky/KLGOJcrSwXIpZa/Z3v7W6HCRk7ewds99LTsUW1LbeJytw8Q/BFZVZyfO9BUHOCe2suuEkO8DU4fLX0IQSQ2TdOkKXDtPf3sNV9tYhYFueuPRhfQlEEy+aYM/MCz7diDNmFSswYYlZZPmKr2Q5AxLsSVEqqBtn6hVl1BCFOFExnqnIsmyY/NA8jXnDaNzr7Zv3hu+I1Mf/PJjk0gALN2G8ABzdf9FNvWHvZHhv6xIoDCXf964MxG92vGZtx/LYU5PeZqgly8tT5tGeQGeJzMMsJc5p+a5Rn2PtEhiRzo/5Owjy1n0Lzx3ev8GHQmeWb8vagG6O5Qk5nrZuQTiKODI4UqL0LLAusS2Ve7j1Ivdxquu1BR9Rc4QkOiUPwQXJv6du2E8i5pDhVoQpUhyMWGUT2O2YODIhjAfI71gxep5r5zAY7GBUZpy51hAw0pcCCrhOmU8Wp6ujQTdZQsCjtq6SHX8QAMNiPCIIkoxhHEZPgsBcOlP4aErJZPhF7qvx6gHrn8hEwPwYbx8YmT/n7lbcmTip1v8kgsrIjFTAlvLY4Nuil0KDmgz3svYs0ZJ3O3Is/vSx4xpxF1e2VAtZE8dJxGYEIhCSuPvCjP54l/NSNDnwlKvAW8mG+AQkgp7a87Igh26uKMFGD0PoPHTSvoWxiHuk+su8XkQiHIjeYKl/RdcOHpxhQH3zHCNE3aARm83Bl6zGxU/vMltlVPQhubcqhW4RYkl6uXk5JdP/QpzaKFpw2M8zvysv2qj7xaQECuu2akM0Cssj/uB9+wDR7uA6XOnLNaoczalHoMj33eiiu+DRaFsUmlmUZuh9bjDY4INMNSSAivSh03uJvny4Gj+D+neudoa7iJi7c4VFlZ/J5gUR82308zSNAt/ZroBXDWw0fV3eVPAn3aX0mtJabF6RsUZmL+Ehn+wn51/4QipMjD+6y64t7bjL6bjENan2prQ4h7++hBJ9NXvX8CUocJqMC937IasLzm5K0qwXeFMAimMHkEIQIQI2LrQ9sLBfXuyp66zWvlsh74GPv7Xpabj993pRNNDuFud5oIcn/92isbADXdpRPbjmbCNOrwRbxGZx2XmYNGMiV5kjF4IKyxCBvKier9U4uVoheCdmk83rp5G0PihAm2fAtczI4b9BWqX+nrZTrJX5kSwQddi93NQrXG+Cl3eBGNkM77VBsMpEolhXex1MVvMkZN9fG59GGbciH11FEXaY1MxrArovaSjE/lUUqBg2cZBNmiWbvzCHCPJ4RVGFK2dTbObM1m+gJyEX53fa7u3+TZpm74mNEzWbkVL4vjNwfL9uzRCu1cgbrNx5Yv5dDruNrIOgwIk+UZWwJfdbu/WHul6PMmRflVCIzd7B37Pgm/Up/NuCiQW7RXyafevN3AL6ycciCc4ZPlTRzEu+aURGlUBOJbUEsheX7PPyrrhdUt5JAG12EEEZpY/N3Vhbl5uLAfT0CbC2XmpnryFkxZmBTs5prvEeuf0bn73i3O82WTiQtJWEPLsBXnQmdnKhB06NbbhLtlTZYJMxDMJpFeajSNRDB2v61BMUHqXggUwRJ19m6p5zl51v11q34T74lTXdJURuV6+bg2D6qpfGnLy7KGLuLZngobM4pIouz4+n0/UzFKxDgLM4h+fUwKZozQ9UGrHjcif51Ruonz7oIVZ56xWtZS8z7u5zay6J2LD4gCYh2RXoBRLDKsUlZ80R8kmoxlJiL8aZCy2wCAonnucFxCLT1HKoMhbPKt34D97EXPPh0joO93iJVF1Uruew61Qoy3ZUVNX9uIJDt9AQWKLLo+mSzmTibyLHq0D6hhzpvgUgI6ekyVEL3FD+Fi5R3A8MRHPXspN1VyKkfRlC+OGiNgPC4NREZpFETgVmdXrQ2TxChuS3aY+Ndc7CiYv5+CmzfiqeZrWIQJW/C4RvjbGUoJFf1K6ZdR2xL/bG4kVq1+I4jQWX+26YUijpp+lpN7o5c6ZodXJCF56UkFGsqz44sIg8jrdWvbjRCxi2Bk0iyM3a7ecAV93zB6h1Ei38c0s6+8nrbkopArccGP8vntQe1bFeEh2nJIFOHX/k3/UHb5PtKGpnzbkmnRETMX+9X/QduLZWw/feklW/kH/JnzToJe9Kgu9Hct1UGbH5BPCLo4OOtQnZonW0xnyCcdtKyPQ/sbLiSTYJdSx4sJqWLMnfn6fIqPB3WAgk00J+fCOkomPHqtS67pf0mFmKoItYZUlJu6BihSZ8qve8+/X+LX1MhQXF95AshfUleCtmdn6l6QFXzLg2sgLn1oyVFuZecv7fzsIHzoRlAGp0gwYDOn1S4qabWvB5xUaE+Svw4KmjWtxdnuQbI32dw87D4N95u8qQRJTSQg0wLxOLkxSrPMLEn1UIhNKjAa9VLs3WLaXGrtCIt8bKY2AQP/ZdyRU6zT/E8qP2ltyBE2CCZPgWgEYDoJJO4n92y61ylNaSFXKohJhLjkfvYWm592539sIpmBNLlDo1bExFBfmHJJ0lFEiC/fj8v42OoMC9Mo3whIoWvyHfq6Uacqq55mzFf/EGC+NP/gHjhd6urc6R0hES27VXux7UY8CGKPohplWIZtTrFSaPWslCWy78E22Pw8fvReSUZx/txqLtHrFqg1DY/Eus6Iq1heZdrdcqE0/c971Bz1HW/XNXHsXpUIbI4kHdOfCc6T5zHZzvzQJB0ggMFL6IGPAilU9bj/ASdPk6fNvNtZqPuwEDhMBtBnhCexo6D6VAGIOPvJPPV523Y8R8a9vCqZbswSZKzOT1291BsUbmUWehtbb1fdRX9hiJKXvwr1QX6GjnZMgyMvnwOo2Dr24amr7FqEAbVeJAjRNOceM2EQ1Mna9fInqPJ5mh5X8CzT1aDOv08An0blz0fF5Gq4mS2cwq5glwIOlY5nznE8X4j/UdZ3FJsVIXte1JH0A7iibuPfazStM5O/Vo3KXIpXBeGORV0M9XDXFvsYZUHGvFCUubWzTw248EHE0cpQM2zNg6rjavreq3NHCAWsoZ7wvVy7l5gvtKRmIj1MnvfWEm0yFnGcuOq192350a5WefpfKCcX3Sn+AgHU+qnpstNtddbdVebagJU390lq9ko4aI9rqdaWXYG8tv5O/ZQHSqDRYHC6zfH10l5z++opso7aOSaIczlQ13iAzXvLdEu0V7kwNUZ1c8Y8aq7SeIEe5p902FlNkW8DnwHyueHchbK8vVFJfmr9mz7P8nUSccl1ULaoWMRSI1ls32kvlK0h46h3J25Yd9AzfcJbp9qYF/SEt3H5j69mMdcsNxZcAzT/A89ov3tglTX54y/EwjMfuoDoxPwLJDm5I7q6F9Kp469yNy1zSxz0N4HbRRBj9xFFuogvBspv7DXUNIsGxTINEQfmctb42XImWAODgARNo7dfcTqFKq6aTfivmvunLmzP9f8yLsJvXD3JbcPcDGNriMAcjzeDTNr65t8YB5tsnFDFLa0Uwmd2OvUdkLMX9TsAUYUfooSv47sw5J88j7CpahRjjO3/UhOXjTS39W5YZAel2KTbQd1h7INOw9P23GW7GDAe4agIUFHP48MZr7ubq0efFmmtwYMyk7D0r1oeG/CGOODgb9Ur+JMHxkwzPbtCX2ZnENQuI0RN5SyTIZuoY4XS9Rd/tPe3vNAZGSHM/YYwqs9xkkENx0O+eC2YVW1cwOJ3ckE890nbQeHLKlW15L0P0W2VliyYrfNr0nrIYddoRyGaCtj4OYd2MT7ebApqZOAQIaSHJM4mphhfjNjtnjg6YRyx9qM2FT3xOiYIMqXPFWdzhSgFF8ItocqVV09CmIoO8k6U/oJB7++wSX/YksxfPXHyjSgAGZOj1aKEq9fSvXBqtp2wu8/FxEf5AxapAD06pPGuLVUYLdgEzHR8wqRGYEwiUO9MyYbgswstuLYhwYFpSVKOdzAihZ9LuHtD598EGhINU9xc9xhL+QgTLAstmPIvvm2xyRw/WTUPXkP3ZHu6GyPmj5xFH9/QGpkglKXRVUBgVmLOJx8uZO2AstxQYocZH2JhORlxawj66BAXUEs7K/gPxINIRAFyK3WLuyq9oBTF9wEbnmCot82WjIg7CPNwYK3KrZMrKAz5yFszg4wCVLJVnIL8+OYA0xRDH8cHQjQUiQ2i1mr/be32k/3Xej9sdf3iuGvZHyLFSJvPSqz/wltnxumTJYKZsrWXtx/Rmu39jjV9lFaJttfFn57/No2h/unsJmMHbrnZ8csxkp5HQ4xR1s0HH+t3Iz82a3iQWTUDGq/+l2W3TUYLE8zNdL8Y+5oXaIH/Y2UUcX67cXeN4WvENZjz4+8q7vjhowOI3rSjFhGZ6KzwmU7+5nFV+kGWAZ5z2UWvzq0TK0pk1hPwAN4jbw//1CApRvIaIjhSGhioY6TUmsToek9cF9XjJdHvLPcyyCV3lbR5Jiz/ts46ay2F820VjTXvllElwrGzKcNSyvQlWDXdwrUINXmHorAM3fE19ngLZmgeUaCJLsSITf2VcfAOuWwX7mTPdP8Zb/04KqRniufCpwnDUk7sP0RX6cud/sanFMagnzKInSRVey0YzlVSOtA/AjrofmSH6RYbJQ8b4NDeTkIGc6247+Mnbez/qhJ9GAv9fGNFercPnnrf285Qgs+UqThLRgflcAKFuqWhLzZaR4QqvSwa3xe0LPkqj9xJWub195r7NrrR0e78FR+0mRBNMPsraqZctAUVAJfYKehTDV1MGGQSeDsOK9J3sbUuKRIS/WilX/64CBms9jCZocBlsBSZaIAjWm/SUZ8daWL2a/cJFyUOFqE3Epc2RWbtjNyPwOGpWtzu32kUooUqsJud7IV4E8rstUBXM7tGEtBx99x60g1duhyvxeKJSl8s5E34HTMmADT0836aEdg5Dv9rVyCz8i2REOmiz6wtIVFN0HsjAoN37SrY0bV1Ms8CRUILhvZvvRaDzoVCaSI0u8EPuTe4b7OPowgRGODl22UBBmHSTUY8e4DyL+Bc7bngo+2T8HtNvzyATSL5iJZgFPKpmUyZv54vVL90+/RQGATUmNKnrIvcJMYON9fl83naW5sf6hRkbbTC9RUEE6XADwjgA46wWfUQ+QWZl0J4PVTWAln/YfAz/SV3q3J9+yCYDleruoN5uoc/wT2f4YONGTb6zTGq3V+3JqzmCOjwebKln+fExVLN7sqtqfMnsKVXWbb2Ai5m3D/fCTgX7oKYzTZvj+m28XnDqPbXuP4MyWdmPezcesdrh7rCzA7BWdObiuyDEKjjzBbQ0qnuwjliz+b+j7aPMKlkXyIznV3tGzAfYwIbzGGt098oh4eq3ruDjdgHtjxfFCjHrjjRbHajoz/YOY4raojPFQ910GIlBV7hq47UDgpyajBxQUmD8NctiLV1rTSLAEsQDLTeRKcmPBMVMFF0SPBBhZ5oXoxtD3lMhuAQXmA+57OcciczVW9e9zwSIAHS+FJmvfXMJGF1dMBsIUMaPjvgaVqUc3p32qVCMQYFEiRLzlVSOGMCmv/HJIxAHe3mL/XnoZ1IkWLeRZfgyByjnDbbeRK5KL7bYHSVJZ9UFq+yCiNKeRUaYjgbC3hVUvfJAhy/QNl/JqLKVvGMk9ZcfyGidNeo/VTxK9vUpodzfQI9Z2eAre4nmrkzgxKSnT5IJ1D69oHuUS5hp7pK9IAWuNrAOtOH0mAuwCrY8mXAtVXUeaNK3OXr6PRvmWg4VQqFSy+a1GZfFYgdsJELG8N0kvqmzvwZ02Plf5fH9QTy6br0oY/IDsEA+GBf9pEVWCIuBCjsup3LDSDqI+5+0IKSUFr7A96A2f0FbcU9fqljdqvsd8sG55KcKloHIFZem2Wb6pCLXybnVSB0sjCXzdS8IKvE");const Wf=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),qf=4;function Kf(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function Vf(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function Jf(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}var Qf=jf("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");function Yf(e){return e>>24&255}function Zf(e){return 16777215&e}const Xf=new Map(Ff(Qf).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),ep=new Set(Bf(Qf)),tp=new Map,np=new Map;for(let[e,t]of Df(Qf)){if(!ep.has(e)&&2==t.length){let[n,r]=t,s=np.get(n);s||(s=new Map,np.set(n,s)),s.set(r,e)}tp.set(e,t.reverse())}const rp=44032,sp=4352,ip=4449,op=4519,ap=28,cp=21*ap,lp=rp+19*cp,up=sp+19,hp=ip+21,dp=op+ap;function fp(e){return e>=rp&&e<lp}function pp(e,t){if(e>=sp&&e<up&&t>=ip&&t<hp)return rp+(e-sp)*cp+(t-ip)*ap;if(fp(e)&&t>op&&t<dp&&(e-rp)%ap==0)return e+(t-op);{let n=np.get(e);return n&&(n=n.get(t),n)?n:-1}}function gp(e){let t=[],n=[],r=!1;function s(e){let n=Xf.get(e);n&&(r=!0,e|=n),t.push(e)}for(let r of e)for(;;){if(r<128)t.push(r);else if(fp(r)){let e=r-rp,t=e%cp/ap|0,n=e%ap;s(sp+(e/cp|0)),s(ip+t),n>0&&s(op+n)}else{let e=tp.get(r);e?n.push(...e):s(r)}if(!n.length)break;r=n.pop()}if(r&&t.length>1){let e=Yf(t[0]);for(let n=1;n<t.length;n++){let r=Yf(t[n]);if(0==r||e<=r){e=r;continue}let s=n-1;for(;;){let n=t[s+1];if(t[s+1]=t[s],t[s]=n,!s)break;if(e=Yf(t[--s]),e<=r)break}e=Yf(t[n])}}return t}function mp(e){return gp(e).map(Zf)}function yp(e){return function(e){let t=[],n=[],r=-1,s=0;for(let i of e){let e=Yf(i),o=Zf(i);if(-1==r)0==e?r=o:t.push(o);else if(s>0&&s>=e)0==e?(t.push(r,...n),n.length=0,r=o):n.push(o),s=e;else{let i=pp(r,o);i>=0?r=i:0==s&&0==e?(t.push(r),r=o):(n.push(o),s=e)}}return r>=0&&t.push(r,...n),t}(gp(e))}const bp=65039,wp=".",vp=1,Ap=45;function Ep(){return new Set(Bf(zf))}const kp=new Map(Df(zf)),Pp=Ep(),xp=Ep(),_p=new Set(Bf(zf).map((function(e){return this[e]}),[...xp])),Cp=Ep(),Sp=(Ep(),Ff(zf));function Op(){return new Set([Bf(zf).map((e=>Sp[e])),Bf(zf)].flat(2))}const Ip=zf(),Tp=Mf((e=>{let t=Mf(zf).map((e=>e+96));if(t.length){let n=e>=Ip;t[0]-=32,t=Jf(t),n&&(t=`Restricted[${t}]`);let r=Op(),s=Op(),i=[...r,...s].sort(((e,t)=>e-t));return{N:t,P:r,M:!zf(),R:n,V:new Set(i)}}})),Np=Ep(),Up=new Map;[...Np,...Ep()].sort(((e,t)=>e-t)).map(((e,t,n)=>{let r=zf(),s=n[t]=r?n[t-r]:{V:[],M:new Map};s.V.push(e),Np.has(e)||Up.set(e,s)}));for(let{V:e,M:t}of new Set(Up.values())){let n=[];for(let t of e){let e=Tp.filter((e=>e.V.has(t))),r=n.find((({G:t})=>e.some((e=>t.has(e)))));r||(r={G:new Set,V:[]},n.push(r)),r.V.push(t),e.forEach((e=>r.G.add(e)))}let r=n.flatMap((({G:e})=>[...e]));for(let{G:e,V:s}of n){let n=new Set(r.filter((t=>!e.has(t))));for(let e of s)t.set(e,n)}}let jp=new Set,Rp=new Set;for(let e of Tp)for(let t of e.V)(jp.has(t)?Rp:jp).add(t);for(let e of jp)Up.has(e)||Rp.has(e)||Up.set(e,vp);const Lp=new Set([...jp,...mp(jp)]),Bp=Bf(zf),Fp=function e(t){let n=Mf((()=>{let t=Bf(zf).map((e=>Bp[e]));if(t.length)return e(t)})).sort(((e,t)=>t.Q.size-e.Q.size)),r=zf(),s=r%3;r=r/3|0;let i=1&r;return r>>=1,{B:n,V:s,F:i,S:1&r,C:2&r,Q:new Set(t)}}([]);class Dp extends Array{get is_emoji(){return!0}}function Mp(e,t=Kf){let n=[];var r;r=e[0],xp.has(r)&&n.push("");let s=0,i=e.length;for(let r=0;r<i;r++){let i=e[r];zp(i)&&(n.push(Jf(e.slice(s,r))),n.push(t(i)),s=r+1)}return n.push(Jf(e.slice(s,i))),n.join("")}function $p(e){return(zp(e)?"":`${Gp(Mp([e]))} `)+Kf(e)}function Gp(e){return`"${e}"`}function Hp(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}function zp(e){return Cp.has(e)}function Wp(e,t){let n=0;return e.split(wp).map((e=>{let r,s=Vf(e),i={input:s,offset:n};n+=s.length+1;try{let e,n=i.tokens=Qp(s,yp),o=n.length;if(!o)throw new Error("empty label");{let s=n[0],a=o>1||s.is_emoji;if(!a&&s.every((e=>e<128)))r=s,Hp(r),function(e){if(e.length>=4&&e[2]==Ap&&e[3]==Ap)throw new Error("invalid label extension")}(r),e="ASCII";else if(a&&(i.emoji=!0,s=n.flatMap((e=>e.is_emoji?[]:e))),r=n.flatMap((e=>!t&&e.is_emoji?Yp(e):e)),Hp(r),s.length){if(xp.has(r[0]))throw Jp("leading combining mark");for(let e=1;e<o;e++){let t=n[e];if(!t.is_emoji&&xp.has(t[0]))throw Jp(`emoji + combining mark: "${Jf(n[e-1])} + ${Mp([t[0]])}"`)}!function(e){let t=e[0],n=Wf.get(t);if(n)throw Jp(`leading ${n}`);let r=e.length,s=-1;for(let i=1;i<r;i++){t=e[i];let r=Wf.get(t);if(r){if(s==i)throw Jp(`${n} + ${r}`);s=i+1,n=r}}if(s==r)throw Jp(`trailing ${n}`)}(r);let t=[...new Set(s)],[i]=function(e){let t=Tp;for(let n of e){let e=t.filter((e=>e.V.has(n)));if(!e.length)throw t===Tp?Kp(n):Vp(t[0],n);if(t=e,1==e.length)break}return t}(t);!function(e,t){let{V:n,M:r}=e;for(let r of t)if(!n.has(r))throw Vp(e,r);if(r){let e=mp(t);for(let t=1,n=e.length;t<n;t++)if(_p.has(e[t])){let r=t+1;for(let s;r<n&&_p.has(s=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==s)throw new Error(`non-spacing marks: repeated ${$p(s)}`);if(r-t>qf)throw new Error(`non-spacing marks: too many ${Gp(Mp(e.slice(t-1,r)))} (${r-t}/${qf})`);t=r}}}(i,s),function(e,t){let n,r=[];for(let e of t){let t=Up.get(e);if(t===vp)return;if(t){let r=t.M.get(e);if(n=n?n.filter((e=>r.has(e))):[...r],!n.length)return}else r.push(e)}if(n)for(let t of n)if(r.every((e=>t.V.has(e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(i,t),e=i.N}else e="Emoji"}i.type=e}catch(e){i.error=e}return i.output=r,i}))}function qp(e){return e.map((({input:t,error:n,output:r})=>{if(n){let r=n.message;throw new Error(1==e.length?r:`Invalid label ${Gp(Mp(t))}: ${r}`)}return Jf(r)})).join(wp)}function Kp(e){return new Error(`disallowed character: ${$p(e)}`)}function Vp(e,t){let n=$p(t),r=Tp.find((e=>e.P.has(t)));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function Jp(e){return new Error(`illegal placement: ${e}`)}function Qp(e,t){let n=[],r=[];for(e=e.slice().reverse();e.length;){let s=Zp(e);if(s)r.length&&(n.push(t(r)),r=[]),n.push(s);else{let t=e.pop();if(Lp.has(t))r.push(t);else{let e=kp.get(t);if(e)r.push(...e);else if(!Pp.has(t))throw Kp(t)}}}return r.length&&n.push(t(r)),n}function Yp(e){return e.filter((e=>e!=bp))}function Zp(e,t){let n,r,s=Fp,i=[],o=e.length;for(t&&(t.length=0);o;){let a=e[--o];if(s=s.B.find((e=>e.Q.has(a))),!s)break;if(s.S)r=a;else if(s.C&&a===r)break;i.push(a),s.F&&(i.push(bp),o>0&&e[o-1]==bp&&o--),s.V&&(n=Xp(i,s),t&&t.push(...e.slice(o).reverse()),e.length=o)}return n}function Xp(e,t){let n=Dp.from(e);return 2==t.V&&n.splice(1,1),n}const eg=new Uint8Array(32);function tg(e){return kl(0!==e.length,"invalid ENS name; empty component","comp",e),e}function ng(e){const t=wh(function(e){try{return function(e){return qp(Wp(e))}(e)}catch(t){kl(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let e=0;e<t.length;e++){46===t[e]&&(n.push(tg(t.slice(r,e))),r=e+1)}return kl(r<t.length,"invalid ENS name; empty component","name",e),n.push(tg(t.slice(r))),n}function rg(e){kl("string"==typeof e,"invalid ENS name; not a string","name",e);let t=eg;const n=ng(e);for(;n.length;)t=$u(Ul([t,$u(n.pop())]));return Nl(t)}eg.fill(0);const sg="0x0000000000000000000000000000000000000000000000000000000000000000",ig=BigInt(0),og=BigInt(1),ag=BigInt(2),cg=BigInt(27),lg=BigInt(28),ug=BigInt(35),hg={};function dg(e){return Bl(Jl(e),32)}class fg{#C;#S;#O;#I;get r(){return this.#C}set r(e){kl(32===jl(e),"invalid r","value",e),this.#C=Nl(e)}get s(){return this.#S}set s(e){kl(32===jl(e),"invalid s","value",e);const t=Nl(e);kl(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#S=t}get v(){return this.#O}set v(e){const t=Kl(e,"value");kl(27===t||28===t,"invalid v","v",e),this.#O=t}get networkV(){return this.#I}get legacyChainId(){const e=this.networkV;return null==e?null:fg.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=Sl(this.s);return this.yParity&&(e[0]|=128),Nl(e)}get compactSerialized(){return Ul([this.r,this.yParityAndS])}get serialized(){return Ul([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){_l(e,hg,"Signature"),this.#C=t,this.#S=n,this.#O=r,this.#I=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new fg(hg,this.r,this.s,this.v);return this.networkV&&(e.#I=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=Hl(e,"v");return t==cg||t==lg?ig:(kl(t>=ug,"invalid EIP-155 v","v",e),(t-ug)/ag)}static getChainIdV(e,t){return Hl(e)*ag+BigInt(35+t-27)}static getNormalizedV(e){const t=Hl(e);return t===ig||t===cg?27:t===og||t===lg?28:(kl(t>=ug,"invalid v","v",e),t&og?27:28)}static from(e){function t(t,n){kl(t,n,"signature",e)}if(null==e)return new fg(hg,sg,sg,27);if("string"==typeof e){const n=Sl(e,"signature");if(64===n.length){const e=Nl(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new fg(hg,e,Nl(t),r)}if(65===n.length){const e=Nl(n.slice(0,32)),r=n.slice(32,64);t(0==(128&r[0]),"non-canonical s");const s=fg.getNormalizedV(n[64]);return new fg(hg,e,Nl(r),s)}t(!1,"invalid raw signature length")}if(e instanceof fg)return e.clone();const n=e.r;t(null!=n,"missing r");const r=dg(n),s=function(e,n){if(null!=e)return dg(e);if(null!=n){t(Il(n,32),"invalid yParityAndS");const e=Sl(n);return e[0]&=127,Nl(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&Sl(s)[0]),"non-canonical s");const{networkV:i,v:o}=function(e,n,r){if(null!=e){const t=Hl(e);return{networkV:t>=ug?t:void 0,v:fg.getNormalizedV(t)}}if(null!=n)return t(Il(n,32),"invalid yParityAndS"),{v:128&Sl(n)[0]?28:27};if(null!=r){switch(Kl(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new fg(hg,r,s,o);return i&&(a.#I=i),t(null==e.yParity||Kl(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}var pg=n(5856),gg=n.t(pg,2);const mg=BigInt(0),yg=BigInt(1),bg=BigInt(2),wg=BigInt(3),vg=BigInt(8),Ag=Object.freeze({a:mg,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:yg,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Eg=(e,t)=>(e+t/bg)/t,kg={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=Ag,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-yg*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=Eg(i*e,t),c=Eg(-r*e,t);let l=Yg(e-a*n-c*s,t),u=Yg(-a*r-c*i,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}},Pg=32,xg=32,_g=Pg+1,Cg=2*Pg+1;function Sg(e){const{a:t,b:n}=Ag,r=Yg(e*e),s=Yg(r*e);return Yg(s+t*e+n)}const Og=Ag.a===mg;class Ig extends Error{constructor(e){super(e)}}function Tg(e){if(!(e instanceof Ng))throw new TypeError("JacobianPoint expected")}class Ng{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof Rg))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Rg.ZERO)?Ng.ZERO:new Ng(e.x,e.y,yg)}static toAffineBatch(e){const t=function(e,t=Ag.P){const n=new Array(e.length),r=e.reduce(((e,r,s)=>r===mg?e:(n[s]=e,Yg(e*r,t))),yg),s=Xg(r,t);return e.reduceRight(((e,r,s)=>r===mg?e:(n[s]=Yg(e*n[s],t),Yg(e*r,t))),s),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return Ng.toAffineBatch(e).map(Ng.fromAffine)}equals(e){Tg(e);const{x:t,y:n,z:r}=this,{x:s,y:i,z:o}=e,a=Yg(r*r),c=Yg(o*o),l=Yg(t*c),u=Yg(s*a),h=Yg(Yg(n*o)*c),d=Yg(Yg(i*r)*a);return l===u&&h===d}negate(){return new Ng(this.x,Yg(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,r=Yg(e*e),s=Yg(t*t),i=Yg(s*s),o=e+s,a=Yg(bg*(Yg(o*o)-r-i)),c=Yg(wg*r),l=Yg(c*c),u=Yg(l-bg*a),h=Yg(c*(a-u)-vg*i),d=Yg(bg*t*n);return new Ng(u,h,d)}add(e){Tg(e);const{x:t,y:n,z:r}=this,{x:s,y:i,z:o}=e;if(s===mg||i===mg)return this;if(t===mg||n===mg)return e;const a=Yg(r*r),c=Yg(o*o),l=Yg(t*c),u=Yg(s*a),h=Yg(Yg(n*o)*c),d=Yg(Yg(i*r)*a),f=Yg(u-l),p=Yg(d-h);if(f===mg)return p===mg?this.double():Ng.ZERO;const g=Yg(f*f),m=Yg(f*g),y=Yg(l*g),b=Yg(p*p-m-bg*y),w=Yg(p*(y-b)-h*m),v=Yg(r*o*f);return new Ng(b,w,v)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Ng.ZERO;if("bigint"==typeof e&&e===mg)return t;let n=Qg(e);if(n===yg)return this;if(!Og){let e=t,r=this;for(;n>mg;)n&yg&&(e=e.add(r)),r=r.double(),n>>=yg;return e}let{k1neg:r,k1:s,k2neg:i,k2:o}=kg.splitScalar(n),a=t,c=t,l=this;for(;s>mg||o>mg;)s&yg&&(a=a.add(l)),o&yg&&(c=c.add(l)),l=l.double(),s>>=yg,o>>=yg;return r&&(a=a.negate()),i&&(c=c.negate()),c=new Ng(Yg(c.x*kg.beta),c.y,c.z),a.add(c)}precomputeWindow(e){const t=Og?128/e+1:256/e+1,n=[];let r=this,s=r;for(let i=0;i<t;i++){s=r,n.push(s);for(let t=1;t<2**(e-1);t++)s=s.add(r),n.push(s);r=s.double()}return n}wNAF(e,t){!t&&this.equals(Ng.BASE)&&(t=Rg.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&jg.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=Ng.normalizeZ(r),jg.set(t,r)));let s=Ng.ZERO,i=Ng.BASE;const o=1+(Og?128/n:256/n),a=2**(n-1),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let t=0;t<o;t++){const n=t*a;let o=Number(e&c);e>>=u,o>a&&(o-=l,e+=yg);const h=n,d=n+Math.abs(o)-1,f=t%2!=0,p=o<0;0===o?i=i.add(Ug(f,r[h])):s=s.add(Ug(p,r[d]))}return{p:s,f:i}}multiply(e,t){let n,r,s=Qg(e);if(Og){const{k1neg:e,k1:i,k2neg:o,k2:a}=kg.splitScalar(s);let{p:c,f:l}=this.wNAF(i,t),{p:u,f:h}=this.wNAF(a,t);c=Ug(e,c),u=Ug(o,u),u=new Ng(Yg(u.x*kg.beta),u.y,u.z),n=c.add(u),r=l.add(h)}else{const{p:e,f:i}=this.wNAF(s,t);n=e,r=i}return Ng.normalizeZ([n,r])[0]}toAffine(e){const{x:t,y:n,z:r}=this,s=this.equals(Ng.ZERO);null==e&&(e=s?vg:Xg(r));const i=e,o=Yg(i*i),a=Yg(o*i),c=Yg(t*o),l=Yg(n*a),u=Yg(r*i);if(s)return Rg.ZERO;if(u!==yg)throw new Error("invZ was invalid");return new Rg(c,l)}}function Ug(e,t){const n=t.negate();return e?n:t}Ng.BASE=new Ng(Ag.Gx,Ag.Gy,yg),Ng.ZERO=new Ng(mg,yg,mg);const jg=new WeakMap;class Rg{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,jg.delete(this)}hasEvenY(){return this.y%bg===mg}static fromCompressedHex(e){const t=32===e.length,n=Vg(t?e:e.subarray(1));if(!im(n))throw new Error("Point is not on curve");let r=function(e){const{P:t}=Ag,n=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),a=BigInt(88),c=e*e*e%t,l=c*c*e%t,u=Zg(l,wg)*l%t,h=Zg(u,wg)*l%t,d=Zg(h,bg)*c%t,f=Zg(d,r)*d%t,p=Zg(f,s)*f%t,g=Zg(p,o)*p%t,m=Zg(g,a)*g%t,y=Zg(m,o)*p%t,b=Zg(y,wg)*l%t,w=Zg(b,i)*f%t,v=Zg(w,n)*c%t,A=Zg(v,bg),E=A*A%t;if(E!==e)throw new Error("Cannot find square root");return A}(Sg(n));const s=(r&yg)===yg;if(t)s&&(r=Yg(-r));else{1==(1&e[0])!==s&&(r=Yg(-r))}const i=new Rg(n,r);return i.assertValidity(),i}static fromUncompressedHex(e){const t=Vg(e.subarray(1,Pg+1)),n=Vg(e.subarray(Pg+1,2*Pg+1)),r=new Rg(t,n);return r.assertValidity(),r}static fromHex(e){const t=Jg(e),n=t.length,r=t[0];if(n===Pg)return this.fromCompressedHex(t);if(n===_g&&(2===r||3===r))return this.fromCompressedHex(t);if(n===Cg&&4===r)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${_g} compressed bytes or ${Cg} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Rg.BASE.multiply(am(e))}static fromSignature(e,t,n){const{r,s}=lm(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const i=em(Jg(e)),{n:o}=Ag,a=2===n||3===n?r+o:r,c=Xg(a,o),l=Yg(-i*c,o),u=Yg(s*c,o),h=1&n?"03":"02",d=Rg.fromHex(h+Hg(a)),f=Rg.BASE.multiplyAndAddUnsafe(d,l,u);if(!f)throw new Error("Cannot recover signature: point at infinify");return f.assertValidity(),f}toRawBytes(e=!1){return Kg(this.toHex(e))}toHex(e=!1){const t=Hg(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${Hg(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!im(t)||!im(n))throw new Error(e);const r=Yg(n*n);if(Yg(r-Sg(t))!==mg)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Rg(this.x,Yg(-this.y))}double(){return Ng.fromAffine(this).double().toAffine()}add(e){return Ng.fromAffine(this).add(Ng.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ng.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const r=Ng.fromAffine(this),s=t===mg||t===yg||this!==Rg.BASE?r.multiplyUnsafe(t):r.multiply(t),i=Ng.fromAffine(e).multiplyUnsafe(n),o=s.add(i);return o.equals(Ng.ZERO)?void 0:o.toAffine()}}function Lg(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Bg(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${$g(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Vg(n),left:e.subarray(t+2)}}Rg.BASE=new Rg(Ag.Gx,Ag.Gy),Rg.ZERO=new Rg(mg,mg);class Fg{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=t?$g(e):e;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new Fg(qg(r.slice(0,64)),qg(r.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${$g(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=Bg(e.subarray(2)),{data:r,left:s}=Bg(n);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${$g(s)}`);return{r:t,s:r}}(t?e:Kg(e));return new Fg(n,r)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!sm(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!sm(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Ag.n>>yg;return this.s>e}normalizeS(){return this.hasHighS()?new Fg(this.r,Yg(-this.s,Ag.n)):this}toDERRawBytes(){return Kg(this.toDERHex())}toDERHex(){const e=Lg(Wg(this.s)),t=Lg(Wg(this.r)),n=e.length/2,r=t.length/2,s=Wg(n),i=Wg(r);return`30${Wg(r+n+4)}02${i}${t}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Kg(this.toCompactHex())}toCompactHex(){return Hg(this.r)+Hg(this.s)}}function Dg(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}const Mg=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function $g(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=Mg[e[n]];return t}const Gg=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Hg(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(mg<=e&&e<Gg))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function zg(e){const t=Kg(Hg(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function Wg(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function qg(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Kg(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function Vg(e){return qg($g(e))}function Jg(e){return e instanceof Uint8Array?Uint8Array.from(e):Kg(e)}function Qg(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&sm(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Yg(e,t=Ag.P){const n=e%t;return n>=mg?n:t+n}function Zg(e,t){const{P:n}=Ag;let r=e;for(;t-- >mg;)r*=r,r%=n;return r}function Xg(e,t=Ag.P){if(e===mg||t<=mg)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Yg(e,t),r=t,s=mg,i=yg,o=yg,a=mg;for(;n!==mg;){const e=r/n,t=r%n,c=s-o*e,l=i-a*e;r=n,n=t,s=o,i=a,o=c,a=l}if(r!==yg)throw new Error("invert: does not exist");return Yg(s,t)}function em(e,t=!1){const n=function(e){const t=8*e.length-8*xg,n=Vg(e);return t>0?n>>BigInt(t):n}(e);if(t)return n;const{n:r}=Ag;return n>=r?n-r:n}let tm,nm;class rm{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return bm.hmacSha256(this.k,...e)}hmacSync(...e){return nm(this.k,...e)}checkSync(){if("function"!=typeof nm)throw new Ig("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return Dg(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return Dg(...t)}}function sm(e){return mg<e&&e<Ag.n}function im(e){return mg<e&&e<Ag.P}function om(e,t,n,r=!0){const{n:s}=Ag,i=em(e,!0);if(!sm(i))return;const o=Xg(i,s),a=Rg.BASE.multiply(i),c=Yg(a.x,s);if(c===mg)return;const l=Yg(o*Yg(t+n*c,s),s);if(l===mg)return;let u=new Fg(c,l),h=(a.x===u.r?0:2)|Number(a.y&yg);return r&&u.hasHighS()&&(u=u.normalizeS(),h^=1),{sig:u,recovery:h}}function am(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*xg)throw new Error("Expected 32 bytes of private key");t=qg(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==xg)throw new Error("Expected 32 bytes of private key");t=Vg(e)}if(!sm(t))throw new Error("Expected private key: 0 < key < n");return t}function cm(e){return e instanceof Rg?(e.assertValidity(),e):Rg.fromHex(e)}function lm(e){if(e instanceof Fg)return e.assertValidity(),e;try{return Fg.fromDER(e)}catch(t){return Fg.fromCompact(e)}}function um(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===_g||r===Cg:n?r===2*_g||r===2*Cg:e instanceof Rg}function hm(e){return Vg(e.length>Pg?e.slice(0,Pg):e)}function dm(e){const t=hm(e),n=Yg(t,Ag.n);return fm(n<mg?t:n)}function fm(e){return zg(e)}function pm(e,t,n){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const r=Jg(e),s=am(t),i=[fm(s),dm(r)];if(null!=n){!0===n&&(n=bm.randomBytes(Pg));const e=Jg(n);if(e.length!==Pg)throw new Error(`sign: Expected ${Pg} bytes of extra data`);i.push(e)}return{seed:Dg(...i),m:hm(r),d:s}}function gm(e,t){const{sig:n,recovery:r}=e,{der:s,recovered:i}=Object.assign({canonical:!0,der:!0},t),o=s?n.toDERRawBytes():n.toCompactRawBytes();return i?[o,r]:o}Rg.BASE._setWindowSize(8);const mm={node:gg,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},ym={},bm={bytesToHex:$g,hexToBytes:Kg,concatBytes:Dg,mod:Yg,invert:Xg,isValidPrivateKey(e){try{return am(e),!0}catch(e){return!1}},_bigintTo32Bytes:zg,_normalizePrivateKey:am,hashToPrivateKey:e=>{e=Jg(e);const t=xg+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return zg(Yg(Vg(e),Ag.n-yg)+yg)},randomBytes:(e=32)=>{if(mm.web)return mm.web.getRandomValues(new Uint8Array(e));if(mm.node){const{randomBytes:t}=mm.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>bm.hashToPrivateKey(bm.randomBytes(xg+8)),precompute(e=8,t=Rg.BASE){const n=t===Rg.BASE?t:new Rg(t.x,t.y);return n._setWindowSize(e),n.multiply(wg),n},sha256:async(...e)=>{if(mm.web){const t=await mm.web.subtle.digest("SHA-256",Dg(...e));return new Uint8Array(t)}if(mm.node){const{createHash:t}=mm.node,n=t("sha256");return e.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(mm.web){const n=await mm.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Dg(...t),s=await mm.web.subtle.sign("HMAC",n,r);return new Uint8Array(s)}if(mm.node){const{createHmac:n}=mm.node,r=n("sha256",e);return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=ym[e];if(void 0===n){const t=await bm.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=Dg(t,t),ym[e]=n}return bm.sha256(n,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof tm)throw new Ig("sha256Sync is undefined, you need to set it");let n=ym[e];if(void 0===n){const t=tm(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=Dg(t,t),ym[e]=n}return tm(n,...t)},_JacobianPoint:Ng};Object.defineProperties(bm,{sha256Sync:{configurable:!1,get:()=>tm,set(e){tm||(tm=e)}},hmacSha256Sync:{configurable:!1,get:()=>nm,set(e){nm||(nm=e)}}});class wm extends wu{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,uu.hash(e);const n=bu(t);if(this.iHash=e.create(),!(this.iHash instanceof wu))throw new TypeError("Expected instance of class which extends utils.Hash");const r=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(r);s.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return uu.exists(this),this.iHash.update(e),this}digestInto(e){uu.exists(this),uu.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:i,outputLen:o}=this;return e.finished=r,e.destroyed=s,e.blockLen=i,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vm=(e,t,n)=>new wm(e,t).update(n).digest();vm.create=(e,t)=>new wm(e,t);class Am extends wu{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=mu(this.buffer)}update(e){uu.exists(this);const{view:t,buffer:n,blockLen:r}=this,s=(e=bu(e)).length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o!==r)n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=mu(e);for(;r<=s-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){uu.exists(this),uu.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let e=i;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const o=mu(e);this.get().forEach(((e,t)=>o.setUint32(4*t,e,s)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:i,pos:o}=this;return e.length=r,e.pos=o,e.finished=s,e.destroyed=i,r%t&&e.buffer.set(n),e}}const Em=(e,t,n)=>e&t^~e&n,km=(e,t,n)=>e&t^e&n^t&n,Pm=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_m=new Uint32Array(64);class Cm extends Am{constructor(){super(64,32,8,!1),this.A=0|xm[0],this.B=0|xm[1],this.C=0|xm[2],this.D=0|xm[3],this.E=0|xm[4],this.F=0|xm[5],this.G=0|xm[6],this.H=0|xm[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:i,G:o,H:a}=this;return[e,t,n,r,s,i,o,a]}set(e,t,n,r,s,i,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)_m[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=_m[e-15],n=_m[e-2],r=yu(t,7)^yu(t,18)^t>>>3,s=yu(n,17)^yu(n,19)^n>>>10;_m[e]=s+_m[e-7]+r+_m[e-16]|0}let{A:n,B:r,C:s,D:i,E:o,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(yu(o,6)^yu(o,11)^yu(o,25))+Em(o,a,c)+Pm[e]+_m[e]|0,u=(yu(n,2)^yu(n,13)^yu(n,22))+km(n,r,s)|0;l=c,c=a,a=o,o=i+t|0,i=s,s=r,r=n,n=t+u|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,i=i+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,s,i,o,a,c,l)}roundClean(){_m.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Sm=vu((()=>new Cm)),[Om,Im]=gu.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Tm=new Uint32Array(80),Nm=new Uint32Array(80);class Um extends Am{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:s,Cl:i,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,s,i,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,s,i,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|s,this.Cl=0|i,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)Tm[n]=e.getUint32(t),Nm[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Tm[e-15],n=0|Nm[e-15],r=gu.rotrSH(t,n,1)^gu.rotrSH(t,n,8)^gu.shrSH(t,n,7),s=gu.rotrSL(t,n,1)^gu.rotrSL(t,n,8)^gu.shrSL(t,n,7),i=0|Tm[e-2],o=0|Nm[e-2],a=gu.rotrSH(i,o,19)^gu.rotrBH(i,o,61)^gu.shrSH(i,o,6),c=gu.rotrSL(i,o,19)^gu.rotrBL(i,o,61)^gu.shrSL(i,o,6),l=gu.add4L(s,c,Nm[e-7],Nm[e-16]),u=gu.add4H(l,r,a,Tm[e-7],Tm[e-16]);Tm[e]=0|u,Nm[e]=0|l}let{Ah:n,Al:r,Bh:s,Bl:i,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){const t=gu.rotrSH(u,h,14)^gu.rotrSH(u,h,18)^gu.rotrBH(u,h,41),b=gu.rotrSL(u,h,14)^gu.rotrSL(u,h,18)^gu.rotrBL(u,h,41),w=u&d^~u&p,v=h&f^~h&g,A=gu.add5L(y,b,v,Im[e],Nm[e]),E=gu.add5H(A,m,t,w,Om[e],Tm[e]),k=0|A,P=gu.rotrSH(n,r,28)^gu.rotrBH(n,r,34)^gu.rotrBH(n,r,39),x=gu.rotrSL(n,r,28)^gu.rotrBL(n,r,34)^gu.rotrBL(n,r,39),_=n&s^n&o^s&o,C=r&i^r&a^i&a;m=0|p,y=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=gu.add(0|c,0|l,0|E,0|k)),c=0|o,l=0|a,o=0|s,a=0|i,s=0|n,i=0|r;const S=gu.add3L(k,x,C);n=gu.add3H(S,E,P,_),r=0|S}({h:n,l:r}=gu.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:s,l:i}=gu.add(0|this.Bh,0|this.Bl,0|s,0|i)),({h:o,l:a}=gu.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l}=gu.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=gu.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=gu.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=gu.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=gu.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,s,i,o,a,c,l,u,h,d,f,p,g,m,y)}roundClean(){Tm.fill(0),Nm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class jm extends Um{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Rm extends Um{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Lm=vu((()=>new Um));vu((()=>new jm)),vu((()=>new Rm));const Bm=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();Bm.crypto||Bm.msCrypto;let Fm=!1;const Dm=function(e,t,n){return function(e,t){const n={sha256:Sm,sha512:Lm}[e];return kl(null!=n,"invalid hmac algorithm","algorithm",e),vm.create(n,t)}(e,t).update(n).digest()};let Mm=Dm;function $m(e,t,n){const r=Sl(t,"key"),s=Sl(n,"data");return Nl(Mm(e,r,s))}$m._=Dm,$m.lock=function(){Fm=!0},$m.register=function(e){if(Fm)throw new Error("computeHmac is locked");Mm=e},Object.freeze($m),bm.hmacSha256Sync=function(e,...t){return Sl($m("sha256",e,Ul(t)))};class Gm{#T;constructor(e){kl(32===jl(e),"invalid private key","privateKey","[REDACTED]"),this.#T=Nl(e)}get privateKey(){return this.#T}get publicKey(){return Gm.computePublicKey(this.#T)}get compressedPublicKey(){return Gm.computePublicKey(this.#T,!0)}sign(e){kl(32===jl(e),"invalid digest length","digest",e);const[t,n]=function(e,t,n={}){const{seed:r,m:s,d:i}=pm(e,t,n.extraEntropy),o=new rm(32,xg);let a;for(o.reseedSync(r);!(a=om(o.generateSync(),s,i,n.canonical));)o.reseedSync();return gm(a,n)}(Ol(e),Ol(this.#T),{recovered:!0,canonical:!0}),r=Fg.fromHex(t);return fg.from({r:Vl("0x"+r.r.toString(16),32),s:Vl("0x"+r.s.toString(16),32),v:n?28:27})}computeSharedSecret(e){const t=Gm.computePublicKey(e);return Nl(function(e,t,n=!1){if(um(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!um(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=cm(t);return r.assertValidity(),r.multiply(am(e)).toRawBytes(n)}(Ol(this.#T),Sl(t)))}static computePublicKey(e,t){let n=Sl(e,"key");if(32===n.length){return Nl(function(e,t=!1){return Rg.fromPrivateKey(e).toRawBytes(t)}(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return Nl(Rg.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){kl(32===jl(e),"invalid digest length","digest",e);const n=fg.from(t),r=Fg.fromCompact(Ol(Ul([n.r,n.s]))).toDERRawBytes(),s=function(e,t,n,r=!1){return Rg.fromSignature(e,t,n).toRawBytes(r)}(Ol(e),r,n.yParity);return kl(null!=s,"invalid signature for digest","signature",t),Nl(s)}static addPoints(e,t,n){const r=Rg.fromHex(Gm.computePublicKey(e).substring(2)),s=Rg.fromHex(Gm.computePublicKey(t).substring(2));return"0x"+r.add(s).toHex(!!n)}}function Hm(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function zm(e,t,n){let r=0;for(let s=0;s<n;s++)r=256*r+e[t+s];return r}function Wm(e,t,n,r){const s=[];for(;n<t+1+r;){const i=qm(e,n);s.push(i.result),El((n+=i.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:s}}function qm(e,t){El(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{El(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const s=zm(e,t+1,r);return n(t+1+r+s),Wm(e,t,t+1+r,r+s)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),Wm(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const s=zm(e,t+1,r);n(t+1+r+s);return{consumed:1+r+s,result:Nl(e.slice(t+1+r,t+1+r+s))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:Nl(e.slice(t+1,t+1+r))}}return{consumed:1,result:Hm(e[t])}}function Km(e){const t=Sl(e,"data"),n=qm(t,0);return kl(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function Vm(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Jm(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Jm(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=Vm(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(Sl(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=Vm(t.length);return n.unshift(183+n.length),n.concat(t)}const Qm="0123456789abcdef";function Ym(e){let t="0x";for(const n of Jm(e))t+=Qm[n>>4],t+=Qm[15&n];return t}function Zm(e,t){return function(e){let t;return t="string"==typeof e?Gm.computePublicKey(e,!1):e.publicKey,Ju($u("0x"+t.substring(4)).substring(26))}(Gm.recoverPublicKey(e,t))}const Xm=BigInt(0),ey=BigInt(2),ty=BigInt(27),ny=BigInt(28),ry=BigInt(35),sy=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function iy(e){return"0x"===e?null:Ju(e)}function oy(e,t){try{return Fd(e)}catch(n){kl(!1,n.message,t,e)}}function ay(e,t){return"0x"===e?0:Kl(e,t)}function cy(e,t){if("0x"===e)return Xm;const n=Hl(e,t);return kl(n<=sy,"value exceeds uint size",t,n),n}function ly(e,t){const n=Hl(e,"value"),r=Jl(n);return kl(r.length<=32,"value too large",`tx.${t}`,n),r}function uy(e){return Fd(e).map((e=>[e.address,e.storageKeys]))}function hy(e,t){const n=[ly(e.nonce||0,"nonce"),ly(e.gasPrice||0,"gasPrice"),ly(e.gasLimit||0,"gasLimit"),null!=e.to?Ju(e.to):"0x",ly(e.value||0,"value"),e.data||"0x"];let r=Xm;if(e.chainId!=Xm)r=Hl(e.chainId,"tx.chainId"),kl(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==Xm&&(n.push(Jl(r)),n.push("0x"),n.push("0x")),Ym(n);let s=BigInt(27+t.yParity);return r!==Xm?s=fg.getChainIdV(r,t.v):BigInt(t.v)!==s&&kl(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(Jl(s)),n.push(Jl(t.r)),n.push(Jl(t.s)),Ym(n)}function dy(e,t){let n;try{if(n=ay(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(e){kl(!1,"invalid yParity","yParity",t[0])}const r=Bl(t[1],32),s=Bl(t[2],32),i=fg.from({r,s,yParity:n});e.signature=i}function fy(e,t){const n=[ly(e.chainId||0,"chainId"),ly(e.nonce||0,"nonce"),ly(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ly(e.maxFeePerGas||0,"maxFeePerGas"),ly(e.gasLimit||0,"gasLimit"),null!=e.to?Ju(e.to):"0x",ly(e.value||0,"value"),e.data||"0x",uy(e.accessList||[])];return t&&(n.push(ly(t.yParity,"yParity")),n.push(Jl(t.r)),n.push(Jl(t.s))),Ul(["0x02",Ym(n)])}function py(e,t){const n=[ly(e.chainId||0,"chainId"),ly(e.nonce||0,"nonce"),ly(e.gasPrice||0,"gasPrice"),ly(e.gasLimit||0,"gasLimit"),null!=e.to?Ju(e.to):"0x",ly(e.value||0,"value"),e.data||"0x",uy(e.accessList||[])];return t&&(n.push(ly(t.yParity,"recoveryParam")),n.push(Jl(t.r)),n.push(Jl(t.s))),Ul(["0x01",Ym(n)])}class gy{#N;#U;#t;#j;#R;#L;#B;#F;#D;#M;#$;#G;get type(){return this.#N}set type(e){switch(e){case null:this.#N=null;break;case 0:case"legacy":this.#N=0;break;case 1:case"berlin":case"eip-2930":this.#N=1;break;case 2:case"london":case"eip-1559":this.#N=2;break;default:kl(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return this.#U}set to(e){this.#U=null==e?null:Ju(e)}get nonce(){return this.#j}set nonce(e){this.#j=Kl(e,"value")}get gasLimit(){return this.#R}set gasLimit(e){this.#R=Hl(e)}get gasPrice(){const e=this.#L;return null!=e||0!==this.type&&1!==this.type?e:Xm}set gasPrice(e){this.#L=null==e?null:Hl(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#B;return null==e?2===this.type?Xm:null:e}set maxPriorityFeePerGas(e){this.#B=null==e?null:Hl(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#F;return null==e?2===this.type?Xm:null:e}set maxFeePerGas(e){this.#F=null==e?null:Hl(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=Nl(e)}get value(){return this.#D}set value(e){this.#D=Hl(e,"value")}get chainId(){return this.#M}set chainId(e){this.#M=Hl(e)}get signature(){return this.#$||null}set signature(e){this.#$=null==e?null:fg.from(e)}get accessList(){const e=this.#G||null;return null==e?1===this.type||2===this.type?[]:null:e}set accessList(e){this.#G=null==e?null:Fd(e)}constructor(){this.#N=null,this.#U=null,this.#j=0,this.#R=BigInt(0),this.#L=null,this.#B=null,this.#F=null,this.#t="0x",this.#D=BigInt(0),this.#M=BigInt(0),this.#$=null,this.#G=null}get hash(){return null==this.signature?null:$u(this.serialized)}get unsignedHash(){return $u(this.unsignedSerialized)}get from(){return null==this.signature?null:Zm(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Gm.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(El(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return hy(this,this.signature);case 1:return py(this,this.signature);case 2:return fy(this,this.signature)}El(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return hy(this);case 1:return py(this);case 2:return fy(this)}El(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&El(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),El(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),El(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return null!=this.type?r.push(this.type):t?r.push(2):e?(r.push(1),n||r.push(0)):n?(r.push(1),r.push(2)):(r.push(0),r.push(1),r.push(2)),r.sort(),r}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}clone(){return gy.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new gy;if("string"==typeof e){const t=Sl(e);if(t[0]>=127)return gy.from(function(e){const t=Km(e);kl(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:ay(t[0],"nonce"),gasPrice:cy(t[1],"gasPrice"),gasLimit:cy(t[2],"gasLimit"),to:iy(t[3]),value:cy(t[4],"value"),data:Nl(t[5]),chainId:Xm};if(6===t.length)return n;const r=cy(t[6],"v"),s=cy(t[7],"r"),i=cy(t[8],"s");if(s===Xm&&i===Xm)n.chainId=r;else{let s=(r-ry)/ey;s<Xm&&(s=Xm),n.chainId=s,kl(s!==Xm||r===ty||r===ny,"non-canonical legacy v","v",t[6]),n.signature=fg.from({r:Bl(t[7],32),s:Bl(t[8],32),v:r}),n.hash=$u(e)}return n}(t));switch(t[0]){case 1:return gy.from(function(e){const t=Km(Sl(e).slice(1));kl(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",Nl(e));const n={type:1,chainId:cy(t[0],"chainId"),nonce:ay(t[1],"nonce"),gasPrice:cy(t[2],"gasPrice"),gasLimit:cy(t[3],"gasLimit"),to:iy(t[4]),value:cy(t[5],"value"),data:Nl(t[6]),accessList:oy(t[7],"accessList")};return 8===t.length||(n.hash=$u(e),dy(n,t.slice(8))),n}(t));case 2:return gy.from(function(e){const t=Km(Sl(e).slice(1));kl(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",Nl(e));const n=cy(t[2],"maxPriorityFeePerGas"),r=cy(t[3],"maxFeePerGas"),s={type:2,chainId:cy(t[0],"chainId"),nonce:ay(t[1],"nonce"),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:cy(t[4],"gasLimit"),to:iy(t[5]),value:cy(t[6],"value"),data:Nl(t[7]),accessList:oy(t[8],"accessList")};return 9===t.length||(s.hash=$u(e),dy(s,t.slice(9))),s}(t))}El(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new gy;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=fg.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.hash&&(kl(t.isSigned(),"unsigned transaction cannot define hash","tx",e),kl(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(kl(t.isSigned(),"unsigned transaction cannot define from","tx",e),kl(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}let my=async function(e,t){const n=e.url.split(":")[0].toLowerCase();let r;if(El("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),El("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),t){const e=new AbortController;r=e.signal,t.addListener((()=>{e.abort()}))}const s={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:r},i=await fetch(e.url,s),o={};i.headers.forEach(((e,t)=>{o[t.toLowerCase()]=e}));const a=await i.arrayBuffer(),c=null==a?null:new Uint8Array(a);return{statusCode:i.status,statusMessage:i.statusText,headers:o,body:c}};const yy=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),by=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let wy=!1;async function vy(e,t){try{const t=e.match(yy);if(!t)throw new Error("invalid data");return new Cy(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return Sl(t)}(t[3]):wh(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new Cy(599,"BAD REQUEST (invalid data: URI)",{},null,new _y(e))}}function Ay(e){return async function(t,n){try{const n=t.match(by);if(!n)throw new Error("invalid link");return new _y(`${e}${n[2]}`)}catch(e){return new Cy(599,"BAD REQUEST (invalid IPFS URI)",{},null,new _y(t))}}}const Ey={data:vy,ipfs:Ay("https://gateway.ipfs.io/ipfs/")},ky=new WeakMap;class Py{#H;#z;constructor(e){this.#H=[],this.#z=!1,ky.set(e,(()=>{if(!this.#z){this.#z=!0;for(const e of this.#H)setTimeout((()=>{e()}),0);this.#H=[]}}))}addListener(e){El(!this.#z,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#H.push(e)}get cancelled(){return this.#z}checkSignal(){El(!this.cancelled,"cancelled","CANCELLED",{})}}function xy(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class _y{#W;#q;#K;#V;#J;#Q;#Y;#Z;#X;#ee;#te;#ne;#re;#se;get url(){return this.#Q}set url(e){this.#Q=String(e)}get body(){return null==this.#Y?null:new Uint8Array(this.#Y)}set body(e){if(null==e)this.#Y=void 0,this.#Z=void 0;else if("string"==typeof e)this.#Y=wh(e),this.#Z="text/plain";else if(e instanceof Uint8Array)this.#Y=e,this.#Z="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#Y=wh(JSON.stringify(e)),this.#Z="application/json"}}hasBody(){return null!=this.#Y}get method(){return this.#V?this.#V:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#V=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#K);return this.#X&&(e.authorization=`Basic ${function(e){const t=Sl(e);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(wh(this.#X))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#Z&&(e["content-type"]=this.#Z),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#K[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#K={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#X||null}setCredentials(e,t){kl(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#X=`${e}:${t}`}get allowGzip(){return this.#q}set allowGzip(e){this.#q=!!e}get allowInsecureAuthentication(){return!!this.#W}set allowInsecureAuthentication(e){this.#W=!!e}get timeout(){return this.#J}set timeout(e){kl(e>=0,"timeout must be non-zero","timeout",e),this.#J=e}get preflightFunc(){return this.#ee||null}set preflightFunc(e){this.#ee=e}get processFunc(){return this.#te||null}set processFunc(e){this.#te=e}get retryFunc(){return this.#ne||null}set retryFunc(e){this.#ne=e}constructor(e){this.#Q=String(e),this.#W=!1,this.#q=!0,this.#K={},this.#V="",this.#J=3e5,this.#se={slotInterval:250,maxAttempts:12}}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#Y?Nl(this.#Y):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#se.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#se.maxAttempts=e.maxAttempts)}async#ie(e,t,n,r,s){if(e>=this.#se.maxAttempts)return s.makeServerError("exceeded maximum retry limit");El(Sy()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let i=this.clone();const o=(i.url.split(":")[0]||"").toLowerCase();if(o in Ey){const e=await Ey[o](i.url,xy(r.#re));if(e instanceof Cy){let t=e;if(this.processFunc){xy(r.#re);try{t=await this.processFunc(i,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}i=e}this.preflightFunc&&(i=await this.preflightFunc(i));const a=await my(i,xy(r.#re));let c=new Cy(a.statusCode,a.statusMessage,a.headers,a.body,r);if(301===c.statusCode||302===c.statusCode){try{const n=c.headers.location||"";return i.redirect(n).#ie(e+1,t,0,r,c)}catch(e){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(i,c,e))){const n=c.headers["retry-after"];let s=this.#se.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof n&&n.match(/^[1-9][0-9]*$/)&&(s=parseInt(n)),i.clone().#ie(e+1,t,s,r,c)}if(this.processFunc){xy(r.#re);try{c=await this.processFunc(i,c)}catch(n){null!=n.throttle&&"number"==typeof n.stall||c.makeServerError("error in post-processing function",n).assertOk();let s=this.#se.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return n.stall>=0&&(s=n.stall),i.clone().#ie(e+1,t,s,r,c)}}return c}send(){return El(null==this.#re,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#re=new Py(this),this.#ie(0,Sy()+this.timeout,0,this,new Cy(0,"",{},null,this))}cancel(){El(null!=this.#re,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=ky.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();El("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const r=new _y(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#K=Object.assign({},this.#K),this.#Y&&(r.#Y=new Uint8Array(this.#Y)),r.#Z=this.#Z,r}clone(){const e=new _y(this.url);return e.#V=this.#V,this.#Y&&(e.#Y=this.#Y),e.#Z=this.#Z,e.#K=Object.assign({},this.#K),e.#X=this.#X,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#ee=this.#ee,e.#te=this.#te,e.#ne=this.#ne,e}static lockConfig(){wy=!0}static getGateway(e){return Ey[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(wy)throw new Error("gateways locked");Ey[e]=t}static registerGetUrl(e){if(wy)throw new Error("gateways locked");my=e}static createDataGateway(){return vy}static createIpfsGatewayFunc(e){return Ay(e)}}class Cy{#oe;#ae;#K;#Y;#ce;#le;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#Y?Nl(this.#Y):"null"}>`}get statusCode(){return this.#oe}get statusMessage(){return this.#ae}get headers(){return Object.assign({},this.#K)}get body(){return null==this.#Y?null:new Uint8Array(this.#Y)}get bodyText(){try{return null==this.#Y?"":vh(this.#Y)}catch(e){El(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){El(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,s){this.#oe=e,this.#ae=t,this.#K=Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{}),this.#Y=null==r?null:new Uint8Array(r),this.#ce=s||null,this.#le={message:""}}makeServerError(e,t){let n;n=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const r=new Cy(599,n,this.headers,this.body,this.#ce||void 0);return r.#le={message:e,error:t},r}throwThrottleError(e,t){null==t?t=-1:kl(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw yl(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#Y}get request(){return this.#ce}ok(){return""===this.#le.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#le;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`),El(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t})}}function Sy(){return(new Date).getTime()}const Oy="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Iy=BigInt(58);function Ty(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):kl(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class Ny{name;constructor(e){yl(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Uy=new RegExp("^(ipfs)://(.*)$","i"),jy=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Uy,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Ry{provider;address;name;#ue;#he;constructor(e,t,n){yl(this,{provider:e,address:t,name:n}),this.#ue=null,this.#he=new Uf(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ue&&(this.#ue=(async()=>{try{return await this.#he.supportsInterface("0x9061b923")}catch(e){if(wl(e,"CALL_EXCEPTION"))return!1;throw this.#ue=null,e}})()),await this.#ue}async#de(e,t){t=(t||[]).slice();const n=this.#he.interface;t.unshift(rg(this.name));let r=null;var s;await this.supportsWildcard()&&(r=n.getFunction(e),El(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(s=this.name,Nl(Ul(ng(s).map((e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const s=await this.#he[e](...t);return r?n.decodeFunctionResult(r,s)[0]:s}catch(e){if(!wl(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#de("addr(bytes32)");return null==e||e===Dd?null:e}catch(e){if(wl(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await this.#de("addr(bytes32,uint)",[t]);if(Il(n,20))return Ju(n)}let t=null;for(const n of this.provider.plugins)if(n instanceof Ny&&n.supportsCoinType(e)){t=n;break}if(null==t)return null;const n=await this.#de("addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;El(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#de("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#de("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return`${e}://${function(e){let t=ql(Sl(e)),n="";for(;t;)n=Oy[Number(t%Iy)]+n,t/=Iy;return n}("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return`bzz://${n[1]}`;El(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<jy.length;n++){const r=t.match(jy[n]);if(null==r)continue;const s=r[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const n=Ty(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:n}),{linkage:e,url:n}}case"erc721":case"erc1155":{const n="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:t});const i=await this.getAddress();if(null==i)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(r[2]||"").split("/");if(2!==o.length)return e.push({type:`!${s}caip`,value:r[2]||""}),{url:null,linkage:e};const a=o[1],c=new Uf(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await c.ownerOf(a);if(i!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await c.balanceOf(i,a);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let l=await c[n](a);if(null==l||"0x"===l)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:l}),"erc1155"===s&&(l=l.replace("{id}",Vl(a,32).substring(2)),e.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=Ty(l)),e.push({type:"metadata-url",value:l});let u={};const h=await new _y(l).send();h.assertOk();try{u=h.bodyJson}catch(t){try{e.push({type:"!metadata",value:h.bodyText})}catch(t){const n=h.body;return n&&e.push({type:"!metadata",value:Nl(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!u)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(u)});let d=u.image;if("string"!=typeof d)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(Uy))return e.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:d}),d=Ty(d)}return e.push({type:"url",value:d}),{linkage:e,url:d}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return El(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#fe(e,t){const n=await Ry.getEnsAddress(e);try{const r=new Uf(n,["function resolver(bytes32) view returns (address)"],e),s=await r.resolver(rg(t),{enableCcipRead:!0});return s===Dd?null:s}catch(e){throw e}return null}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await Ry.#fe(e,n);if(null!=r){const s=new Ry(e,r,t);return n===t||await s.supportsWildcard()?s:null}n=n.split(".").slice(1).join(".")}}}const Ly=BigInt(0);function By(e,t){return function(n){return null==n?t:e(n)}}function Fy(e){return t=>{if(!Array.isArray(t))throw new Error("not an array");return t.map((t=>e(t)))}}function Dy(e,t){return n=>{const r={};for(const s in e){let i=s;if(t&&s in t&&!(i in n))for(const e of t[s])if(e in n){i=e;break}try{const t=e[s](n[i]);void 0!==t&&(r[s]=t)}catch(e){El(!1,`invalid value for value.${s} (${e instanceof Error?e.message:"not-an-error"})`,"BAD_DATA",{value:n})}}return r}}function My(e){return kl(Il(e,!0),"invalid data","value",e),e}function $y(e){return kl(Il(e,32),"invalid hash","value",e),e}const Gy=Dy({address:Ju,blockHash:$y,blockNumber:Kl,data:My,index:Kl,removed:By((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}kl(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:Fy($y),transactionHash:$y,transactionIndex:Kl},{index:["logIndex"]});const Hy=Dy({hash:By($y),parentHash:$y,number:Kl,timestamp:Kl,nonce:By(My),difficulty:Hl,gasLimit:Hl,gasUsed:Hl,miner:By(Ju),extraData:My,baseFeePerGas:By(Hl)});const zy=Dy({transactionIndex:Kl,blockNumber:Kl,transactionHash:$y,address:Ju,topics:Fy($y),data:My,index:Kl,blockHash:$y},{index:["logIndex"]});const Wy=Dy({to:By(Ju,null),from:By(Ju,null),contractAddress:By(Ju,null),index:Kl,root:By(Nl),gasUsed:Hl,logsBloom:By(My),blockHash:$y,hash:$y,logs:Fy((function(e){return zy(e)})),blockNumber:Kl,cumulativeGasUsed:Hl,effectiveGasPrice:By(Hl),status:By(Kl),type:By(Kl,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function qy(e){e.to&&Hl(e.to)===Ly&&(e.to="0x0000000000000000000000000000000000000000");const t=Dy({hash:$y,type:e=>"0x"===e||null==e?0:Kl(e),accessList:By(Fd,null),blockHash:By($y,null),blockNumber:By(Kl,null),transactionIndex:By(Kl,null),from:Ju,gasPrice:By(Hl),maxPriorityFeePerGas:By(Hl),maxFeePerGas:By(Hl),gasLimit:Hl,to:By(Ju,null),value:Hl,nonce:Kl,data:My,creates:By(Ju,null),chainId:By(Hl,null)},{data:["input"],gasLimit:["gas"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=Ju(e.from);let n=Hl(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,Ju(Rl($u(Ym([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=fg.from(e.signature):t.signature=fg.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&Hl(t.blockHash)===Ly&&(t.blockHash=null),t}class Ky{name;constructor(e){yl(this,{name:e})}clone(){return new Ky(this.name)}}class Vy extends Ky{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function r(e,r){let s=(t||{})[e];null==s&&(s=r),kl("number"==typeof s,`invalud value for ${e}`,"costs",t),n[e]=s}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),yl(this,n)}clone(){return new Vy(this.effectiveBlock,this)}}class Jy extends Ky{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),yl(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new Jy(this.address,this.targetNetwork)}}class Qy extends Ky{#Q;#pe;get url(){return this.#Q}get processFunc(){return this.#pe}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#Q=e,this.#pe=t}clone(){return this}}const Yy=new Map;class Zy{#ge;#M;#me;constructor(e,t){this.#ge=e,this.#M=Hl(t),this.#me=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#ge}set name(e){this.#ge=e}get chainId(){return this.#M}set chainId(e){this.#M=Hl(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===Hl(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===Hl(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===Hl(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#me.values())}attachPlugin(e){if(this.#me.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#me.set(e.name,e.clone()),this}getPlugin(e){return this.#me.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Zy(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Vy;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=Fd(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(nb)return;function e(e,t,n){const r=function(){const r=new Zy(e,t);return null!=n.ensNetwork&&r.attachPlugin(new Jy(null,n.ensNetwork)),r.attachPlugin(new Vy),(n.plugins||[]).forEach((e=>{r.attachPlugin(e)})),r};Zy.register(e,r),Zy.register(t,r),n.altNames&&n.altNames.forEach((e=>{Zy.register(e,r)}))}nb=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("matic",137,{ensNetwork:1,plugins:[eb("https://gasstation.polygon.technology/v2")]}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[eb("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[tb(BigInt("1000000"))]}),e("optimism-goerli",420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return Zy.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=Yy.get(e);if(t)return t();if("bigint"==typeof e)return new Zy("unknown",e);kl(!1,"unknown network","network",e)}if("function"==typeof e.clone){return e.clone()}if("object"==typeof e){kl("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Zy(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new Jy(e.ensAddress,e.ensNetwork)),t}kl(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const n=Yy.get(e);n&&kl(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Yy.set(e,t)}}function Xy(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error(`invalid gwei value: ${e}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function eb(e){return new Qy(e,(async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,s]=await Promise.all([n.send(),e()]);r=t;const i=r.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:Xy(i.maxFee,9),maxPriorityFeePerGas:Xy(i.maxPriorityFee,9)}}catch(e){El(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:e})}}))}function tb(e){return new Qy("data:",(async(t,n,r)=>{const s=await t();if(null==s.maxFeePerGas||null==s.maxPriorityFeePerGas)return s;const i=s.maxFeePerGas-s.maxPriorityFeePerGas;return{gasPrice:s.gasPrice,maxFeePerGas:i+e,maxPriorityFeePerGas:e}}))}let nb=!1;function rb(e){return JSON.parse(JSON.stringify(e))}class sb{#ye;#be;#we;#ve;constructor(e){this.#ye=e,this.#be=null,this.#we=4e3,this.#ve=-2}get pollingInterval(){return this.#we}set pollingInterval(e){this.#we=e}async#Ae(){try{const e=await this.#ye.getBlockNumber();if(-2===this.#ve)return void(this.#ve=e);if(e!==this.#ve){for(let t=this.#ve+1;t<=e;t++){if(null==this.#be)return;await this.#ye.emit("block",t)}this.#ve=e}}catch(e){}null!=this.#be&&(this.#be=this.#ye._setTimeout(this.#Ae.bind(this),this.#we))}start(){this.#be||(this.#be=this.#ye._setTimeout(this.#Ae.bind(this),this.#we),this.#Ae())}stop(){this.#be&&(this.#ye._clearTimeout(this.#be),this.#be=null)}pause(e){this.stop(),e&&(this.#ve=-2)}resume(){this.start()}}class ib{#ye;#Ae;#Ee;constructor(e){this.#ye=e,this.#Ee=!1,this.#Ae=e=>{this._poll(e,this.#ye)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Ee||(this.#Ee=!0,this.#Ae(-2),this.#ye.on("block",this.#Ae))}stop(){this.#Ee&&(this.#Ee=!1,this.#ye.off("block",this.#Ae))}pause(e){this.stop()}resume(){this.start()}}class ob extends ib{#_;constructor(e,t){super(e),this.#_=rb(t)}async _poll(e,t){throw new Error("@TODO")}}class ab extends ib{#ke;constructor(e,t){super(e),this.#ke=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#ke);n&&t.emit(this.#ke,n)}}class cb{#ye;#_;#be;#Ee;#ve;constructor(e,t){this.#ye=e,this.#_=rb(t),this.#be=this.#Ae.bind(this),this.#Ee=!1,this.#ve=-2}async#Ae(e){if(-2===this.#ve)return;const t=rb(this.#_);t.fromBlock=this.#ve+1,t.toBlock=e;const n=await this.#ye.getLogs(t);if(0!==n.length)for(const e of n)this.#ye.emit(this.#_,e),this.#ve=e.blockNumber;else this.#ve<e-60&&(this.#ve=e-60)}start(){this.#Ee||(this.#Ee=!0,-2===this.#ve&&this.#ye.getBlockNumber().then((e=>{this.#ve=e})),this.#ye.on("block",this.#be))}stop(){this.#Ee&&(this.#Ee=!1,this.#ye.off("block",this.#be))}pause(e){this.stop(),e&&(this.#ve=-2)}resume(){this.start()}}const lb=BigInt(2);function ub(e){return e&&"function"==typeof e.then}function hb(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class db{name;constructor(e){yl(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function fb(e){return(e=Array.from(new Set(e).values())).sort(),e}async function pb(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"pending":case"debug":case"error":case"network":return{type:e,tag:e}}if(Il(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:hb("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:hb("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?fb(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],s=[],i=n=>{Il(n)?e.push(n):s.push((async()=>{e.push(await Ed(n,t))})())};Array.isArray(n.address)?n.address.forEach(i):i(n.address),s.length&&await Promise.all(s),r.address=fb(e.map((e=>e.toLowerCase())))}return{filter:r,tag:hb("event",r),type:"event"}}kl(!1,"unknown ProviderEvent","event",e)}function gb(){return(new Date).getTime()}const mb={cacheTimeout:250,pollingInterval:4e3};class yb{#Pe;#me;#xe;#_e;#Ce;#Se;#Oe;#Ie;#Te;#Ne;#Ue;#o;constructor(e,t){if(this.#o=Object.assign({},mb,t||{}),"any"===e)this.#Se=!0,this.#Ce=null;else if(e){const t=Zy.from(e);this.#Se=!1,this.#Ce=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#Se=!1,this.#Ce=null;this.#Ie=-1,this.#Oe=new Map,this.#Pe=new Map,this.#me=new Map,this.#xe=null,this.#_e=!1,this.#Te=1,this.#Ne=new Map,this.#Ue=!1}get pollingInterval(){return this.#o.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#me.values())}attachPlugin(e){if(this.#me.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#me.set(e.name,e.connect(this)),this}getPlugin(e){return this.#me.get(e)||null}get disableCcipRead(){return this.#Ue}set disableCcipRead(e){this.#Ue=!!e}async#je(e){const t=this.#o.cacheTimeout;if(t<0)return await this._perform(e);const n=hb(e.method,e);let r=this.#Oe.get(n);return r||(r=this._perform(e),this.#Oe.set(n,r),setTimeout((()=>{this.#Oe.get(n)===r&&this.#Oe.delete(n)}),t)),await r}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),s=t.toLowerCase(),i=[];for(let t=0;t<n.length;t++){const o=n[t],a=o.replace("{sender}",r).replace("{data}",s),c=new _y(a);-1===o.indexOf("{data}")&&(c.body={data:s,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:t,urls:n});let l="unknown error";const u=await c.send();try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(l=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(e){}El(u.statusCode<400||u.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:l}}),i.push(l)}El(!1,`error encountered during CCIP fetch: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:i}})}_wrapBlock(e,t){return new Zd(function(e){const t=Hy(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:qy(e))),t}(e),this)}_wrapLog(e,t){return new Xd(function(e){return Gy(e)}(e),this)}_wrapTransactionReceipt(e,t){return new ef(function(e){return Wy(e)}(e),this)}_wrapTransactionResponse(e,t){return new tf(qy(e),this)}_detectNetwork(){El(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){El(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Kl(await this.#je({method:"getBlockNumber"}),"%response");return this.#Ie>=0&&(this.#Ie=e),e}_getAddress(e){return Ed(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}return Il(e)?Il(e,32)?e:Ql(e):("bigint"==typeof e&&(e=Kl(e,"blockTag")),"number"==typeof e?e>=0?Ql(e):this.#Ie>=0?Ql(this.#Ie+e):this.getBlockNumber().then((t=>Ql(t+e))):void kl(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?fb(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,r=(e,r,s)=>{let i;switch(e.length){case 0:break;case 1:i=e[0];break;default:e.sort(),i=e}if(n&&(null!=r||null!=s))throw new Error("invalid filter");const o={};return i&&(o.address=i),t.length&&(o.topics=t),r&&(o.fromBlock=r),s&&(o.toBlock=s),n&&(o.blockHash=n),o};let s,i,o=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)o.push(this._getAddress(t));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(i=this._getBlockTag(e.toBlock)),o.filter((e=>"string"!=typeof e)).length||null!=s&&"string"!=typeof s||null!=i&&"string"!=typeof i?Promise.all([Promise.all(o),s,i]).then((e=>r(e[0],e[1],e[2]))):r(o,s,i)}_getTransactionRequest(e){const t=Yd(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const r=Ed(t[e]);ub(r)?n.push(async function(){t[e]=await r}()):t[e]=r})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);ub(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==this.#Ce){const e=this._detectNetwork().then((e=>(this.emit("network",e,null),e)),(t=>{throw this.#Ce===e&&(this.#Ce=null),t}));return this.#Ce=e,(await e).clone()}const e=this.#Ce,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#Se?(this.emit("network",n,t),this.#Ce===e&&(this.#Ce=Promise.resolve(n))):El(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n}=await ml({_block:this.#Re("latest",!1),gasPrice:(async()=>{try{return Hl(await this.#je({method:"getGasPrice"}),"%response")}catch(e){}return null})()});let r=null,s=null;const i=this._wrapBlock(t,e);return i&&i.baseFeePerGas&&(s=BigInt("1000000000"),r=i.baseFeePerGas*lb+s),new Qd(n,r,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new _y(n.url),r=await n.processFunc(t,this,e);return new Qd(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return ub(t)&&(t=await t),Hl(await this.#je({method:"estimateGas",transaction:t}),"%response")}async#Le(e,t,n){El(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=Yd(e);try{return Nl(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(e){if(!this.disableCcipRead&&vl(e)&&e.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===Rl(e.data,0,4)){const s=e.data,i=await Ed(r.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};El(jl(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Rl(e,0,32);El(Rl(n,0,12)===Rl(Pb,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Rl(n,12);try{const n=[],r=Kl(Rl(e,32,64)),s=Kl(Rl(e,r,r+32)),i=Rl(e,r+32);for(let e=0;e<s;e++){const t=bb(i,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(e){El(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=wb(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(e){El(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}El(Rl(e,100,128)===Rl(Pb,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Rl(e,96,100);try{const n=wb(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(e){El(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(Rl(e.data,4))}catch(e){El(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:s}})}El(o.sender.toLowerCase()===i.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(r,o.calldata,o.urls);El(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:e.data,errorArgs:o.errorArgs}});const c={to:i,data:Ul([o.selector,kb([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await this.#Le(c,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:e}),e}}throw e}}async#Be(e){const{value:t}=await ml({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await ml({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#Be(this.#Le(t,n,e.enableCcipRead?0:-1))}async#Fe(e,t,n){let r=this._getAddress(t),s=this._getBlockTag(n);return"string"==typeof r&&"string"==typeof s||([r,s]=await Promise.all([r,s])),await this.#Be(this.#je(Object.assign(e,{address:r,blockTag:s})))}async getBalance(e,t){return Hl(await this.#Fe({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Kl(await this.#Fe({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Nl(await this.#Fe({method:"getCode"},e,t))}async getStorage(e,t,n){const r=Hl(t,"position");return Nl(await this.#Fe({method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await ml({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=gy.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,r).replaceableTransaction(t)}async#Re(e,t){if(Il(e,32))return await this.#je({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!=typeof n&&(n=await n),await this.#je({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:r}=await ml({network:this.getNetwork(),params:this.#Re(e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await ml({network:this.getNetwork(),params:this.#je({method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await ml({network:this.getNetwork(),params:this.#je({method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await this.#je({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await ml({network:this.getNetwork(),result:this.#je({method:"getTransactionResult",hash:e})});return null==t?null:Nl(t)}async getLogs(e){let t=this._getFilter(e);ub(t)&&(t=await t);const{network:n,params:r}=await ml({network:this.getNetwork(),params:this.#je({method:"getLogs",filter:t})});return r.map((e=>this._wrapLog(e,n)))}_getProvider(e){El(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Ry.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=rg((e=Ju(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await Ry.getEnsAddress(this),r=new Uf(n,["function resolver(bytes32) view returns (address)"],this),s=await r.resolver(t);if(null==s||s===Dd)return null;const i=new Uf(s,["function name(bytes32) view returns (string)"],this),o=await i.name(t);return await this.resolveName(o)!==e?null:o}catch(e){if(wl(e,"BAD_DATA")&&"0x"===e.value)return null;if(wl(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise((async(t,s)=>{let i=null;const o=async n=>{try{const s=await this.getTransactionReceipt(e);if(null!=s&&n-s.blockNumber+1>=r)return t(s),void(i&&(clearTimeout(i),i=null))}catch(e){console.log("EEE",e)}this.once("block",o)};null!=n&&(i=setTimeout((()=>{null!=i&&(i=null,this.off("block",o),s(Al("timeout","TIMEOUT",{reason:"timeout"})))}),n)),o(await this.getBlockNumber())}))}async waitForBlock(e){El(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#Ne.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#Ne.delete(e))}_setTimeout(e,t){null==t&&(t=0);const n=this.#Te++,r=()=>{this.#Ne.delete(n),e()};if(this.paused)this.#Ne.set(n,{timer:null,func:r,time:t});else{const e=setTimeout(r,t);this.#Ne.set(n,{timer:e,func:r,time:gb()})}return n}_forEachSubscriber(e){for(const t of this.#Pe.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new db(e.type);case"block":{const e=new sb(this);return e.pollingInterval=this.pollingInterval,e}case"event":return new cb(this,e.filter);case"transaction":return new ab(this,e.hash);case"orphan":return new ob(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#Pe.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=this.#xe&&t.pause(this.#xe);break}}async#De(e,t){let n=await pb(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await pb({orphan:"drop-log",log:t[0]},this)),this.#Pe.get(n.tag)||null}async#Me(e){const t=await pb(e,this),n=t.tag;let r=this.#Pe.get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Pe.set(n,r)}return r}async on(e,t){const n=await this.#Me(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#xe&&n.subscriber.pause(this.#xe)),this}async once(e,t){const n=await this.#Me(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#xe&&n.subscriber.pause(this.#xe)),this}async emit(e,...t){const n=await this.#De(e,t);if(!n||0===n.listeners.length)return!1;const r=n.listeners.length;return n.listeners=n.listeners.filter((({listener:n,once:r})=>{const s=new sf(this,r?null:n,e);try{n.call(this,...t,s)}catch(e){}return!r})),0===n.listeners.length&&(n.started&&n.subscriber.stop(),this.#Pe.delete(n.tag)),r>0}async listenerCount(e){if(e){const t=await this.#De(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#Pe.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#De(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#Pe.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const n=await this.#De(e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),this.#Pe.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await this.#Me(e);n&&r.stop(),this.#Pe.delete(t)}else for(const[e,{started:t,subscriber:n}]of this.#Pe)t&&n.stop(),this.#Pe.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#_e}destroy(){this.removeAllListeners();for(const e of this.#Ne.keys())this._clearTimeout(e);this.#_e=!0}get paused(){return null!=this.#xe}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#Ie=-1,null!=this.#xe){if(this.#xe==!!e)return;El(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#xe=!!e;for(const e of this.#Ne.values())e.timer&&clearTimeout(e.timer),e.time=gb()-e.time}resume(){if(null!=this.#xe){this._forEachSubscriber((e=>e.resume())),this.#xe=null;for(const e of this.#Ne.values()){let t=e.time;t<0&&(t=0),e.time=gb(),setTimeout(e.func,t)}}}}function bb(e,t){try{const n=wb(e,t);if(n)return vh(n)}catch(e){}return null}function wb(e,t){if("0x"===e)return null;try{const n=Kl(Rl(e,t,t+32)),r=Kl(Rl(e,n,n+32));return Rl(e,n+32,n+32+r)}catch(e){}return null}function vb(e){const t=Jl(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Ab(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const Eb=new Uint8Array([]);function kb(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(Eb),n+=32;for(let r=0;r<e.length;r++){const s=Sl(e[r]);t[r]=vb(n),t.push(vb(s.length)),t.push(Ab(s)),n+=32+32*Math.ceil(s.length/32)}return Ul(t)}const Pb="0x0000000000000000000000000000000000000000000000000000000000000000";function xb(e,t){if(e.provider)return e.provider;El(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function _b(e,t){let n=Yd(t);if(null!=n.to&&(n.to=Ed(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),Ed(t,e)]).then((([e,t])=>(kl(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else n.from=e.getAddress();return await ml(n)}class Cb{provider;constructor(e){yl(this,{provider:e||null})}async getNonce(e){return xb(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await _b(this,e)}async populateTransaction(e){const t=xb(this,"populateTransaction"),n=await _b(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){kl(Hl(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const s=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!s?0!==n.type&&1!==n.type||!s||kl(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):kl(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();El(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(El(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):El(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2===n.type&&(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await ml(n)}async estimateGas(e){return xb(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return xb(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=xb(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=xb(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=gy.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}}class Sb{#ye;#$e;#be;#Ee;#Ge;#He;constructor(e){this.#ye=e,this.#$e=null,this.#be=this.#Ae.bind(this),this.#Ee=!1,this.#Ge=null,this.#He=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Ae(e){try{null==this.#$e&&(this.#$e=this._subscribe(this.#ye));let e=null;try{e=await this.#$e}catch(e){if(!wl(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#$e=null,void this.#ye._recoverSubscriber(this,this._recover(this.#ye));const t=await this.#ye.getNetwork();if(this.#Ge||(this.#Ge=t),this.#Ge.chainId!==t.chainId)throw new Error("chaid changed");if(this.#He)return;const n=await this.#ye.send("eth_getFilterChanges",[e]);await this._emitResults(this.#ye,n)}catch(e){console.log("@TODO",e)}this.#ye.once("block",this.#be)}#ze(){const e=this.#$e;e&&(this.#$e=null,e.then((e=>{this.#ye.send("eth_uninstallFilter",[e])})))}start(){this.#Ee||(this.#Ee=!0,this.#Ae(-2))}stop(){this.#Ee&&(this.#Ee=!1,this.#He=!0,this.#ze(),this.#ye.off("block",this.#be))}pause(e){e&&this.#ze(),this.#ye.off("block",this.#be)}resume(){this.start()}}class Ob extends Sb{#We;constructor(e,t){var n;super(e),this.#We=(n=t,JSON.parse(JSON.stringify(n)))}_recover(e){return new cb(e,this.#We)}async _subscribe(e){return await e.send("eth_newFilter",[this.#We])}async _emitResults(e,t){for(const n of t)e.emit(this.#We,e._wrapLog(n,e._network))}}class Ib extends Sb{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const Tb="bigint,boolean,function,number,string,symbol".split(/,/g);function Nb(e){if(null==e||Tb.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Nb);if("object"==typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Ub(e){return new Promise((t=>{setTimeout(t,e)}))}function jb(e){return e?e.toLowerCase():e}function Rb(e){return e&&"number"==typeof e.pollingInterval}const Lb={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Bb extends Cb{address;constructor(e,t){super(e),yl(this,{address:t=Ju(t)})}connect(e){El(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Nb(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await Ed(r,this.provider);kl(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await Ed(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,r)=>{const s=[1e3,100],i=async()=>{const r=await this.provider.getTransaction(n);null==r?this.provider._setTimeout((()=>{i()}),s.pop()||4e3):e(r.replaceableTransaction(t))};i()}))}async signTransaction(e){const t=Nb(e);if(t.from){const n=await Ed(t.from,this.provider);kl(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"==typeof e?wh(e):e;return await this.provider.send("personal_sign",[Nl(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=Nb(n),s=await Ld.resolveNames(e,t,r,(async e=>{const t=await Ed(e);return kl(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ld.getPayload(s.domain,t,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?wh(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Nl(t)])}}class Fb extends yb{#o;#qe;#Ke;#Ve;#Je;#Ge;#Qe(){if(this.#Ve)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#Ve=setTimeout((()=>{this.#Ve=null;const e=this.#Ke;for(this.#Ke=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#o.batchMaxCount;){t.push(e.shift());if(JSON.stringify(t.map((e=>e.payload))).length>this.#o.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:s}of t){if(this.destroyed){r(Al("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));continue}const t=n.filter((e=>e.id===s.id))[0];if(null!=t)"error"in t?r(this.getRpcError(s,t)):e(t.result);else{const e=Al("missing response for request","BAD_DATA",{value:n,info:{payload:s}});this.emit("error",e),r(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:n}of t)n(e)}})()}}),e)}constructor(e,t){super(e,t),this.#qe=1,this.#o=Object.assign({},Lb,t||{}),this.#Ke=[],this.#Ve=null,this.#Ge=null;{let e=null;const t=new Promise((t=>{e=t}));this.#Je={promise:t,resolve:e}}const n=this._getOption("staticNetwork");n&&(kl(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),this.#Ge=n)}_getOption(e){return this.#o[e]}get _network(){return El(this.#Ge,"network is not available yet","NETWORK_ERROR"),this.#Ge}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&Hl(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)return e;if(this.ready)return Zy.from(Hl(await this.send("eth_chainId",[])));const t={id:this.#qe++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let n;this.emit("debug",{action:"sendRpcPayload",payload:t});try{n=(await this._send(t))[0]}catch(e){throw this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Zy.from(Hl(n.result));throw this.getRpcError(t,n)}_start(){null!=this.#Je&&null!=this.#Je.resolve&&(this.#Je.resolve(),this.#Je=null,(async()=>{for(;null==this.#Ge&&!this.destroyed;)try{this.#Ge=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Al("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Ub(1e3)}this.#Qe()})())}async _waitUntilReady(){if(null!=this.#Je)return await this.#Je.promise}_getSubscriber(e){return"pending"===e.type?new Ib(this):"event"===e.type?this._getOption("polling")?new cb(this,e.filter):new Ob(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new db("orphan"):super._getSubscriber(e)}get ready(){return null==this.#Je}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=Ql(Hl(e[n],`tx.${n}`))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=Nl(e[n]))})),e.accessList&&(t.accessList=Fd(e.accessList)),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[jb(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[jb(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[jb(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[jb(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(jb):e.filter.address=jb(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return Al("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Mb(r),s=wd.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return s.info={error:r,payload:e},s}const s=JSON.stringify(function(e){const t=[];return $b(e,t),t}(r));if("string"==typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return Al("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return Al("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(s.match(/nonce/i)&&s.match(/too low/i))return Al("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return Al("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(s.match(/only replay-protected/i))return Al("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let i=!!s.match(/the method .* does not exist/i);return i||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(i=!0),i?Al("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):Al("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(Al("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#qe++,r=new Promise(((r,s)=>{this.#Ke.push({resolve:r,reject:s,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})}));return this.#Qe(),r}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new Bb(this,n[e])}const{accounts:n}=await ml({network:this.getNetwork(),accounts:t});e=Ju(e);for(const t of n)if(Ju(t)===e)return new Bb(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new Bb(this,e)))}destroy(){this.#Ve&&(clearTimeout(this.#Ve),this.#Ve=null);for(const{payload:e,reject:t}of this.#Ke)t(Al("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#Ke=[],super.destroy()}}class Db extends Fb{#Ye;constructor(e,t){super(e,t),this.#Ye=4e3}_getSubscriber(e){const t=super._getSubscriber(e);return Rb(t)&&(t.pollingInterval=this.#Ye),t}get pollingInterval(){return this.#Ye}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#Ye=e,this._forEachSubscriber((e=>{Rb(e)&&(e.pollingInterval=this.#Ye)}))}}function Mb(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&Il(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const n=Mb(e[t]);if(n)return n}return null}if("string"==typeof e)try{return Mb(JSON.parse(e))}catch(e){}return null}function $b(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const n in e)$b(e[n],t);if("string"==typeof e)try{return $b(JSON.parse(e),t)}catch(e){}}}class Gb extends Db{#ce;constructor(e,t){super(t,{batchMaxCount:1}),this.#ce=async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){kl(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#ce(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#ce("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}const Hb=new class extends o{store=new s("cached-follows");constructor(){super(),this.addAllowedEvents("follow","unfollow")}async fetchSignedUserFollows(){const{data:e,error:t}=await Ms.client.from("follows").select().eq("follower_id",Ow.userId);if(t)throw t;const n=new Set(Object.keys(this.store.getAll()));for(const t of e){const e=t.followee_id;n.has(e)||this._follow(e),n.delete(e)}for(const e of n)this._unfollow(e)}clearCache(){this.store.clear()}_follow(e){this.store.set(e,!0),this.fireEvent("follow",e)}async follow(e){const t=this.isFollowing(e);this._follow(e);const{error:n}=await Ms.client.from("follows").insert({followee_id:e});if(n)throw t||this._unfollow(e),n}_unfollow(e){this.store.delete(e),this.fireEvent("unfollow",e)}async unfollow(e){const t=this.isFollowing(e);this._unfollow(e);const{error:n}=await Ms.client.from("follows").delete().eq("follower_id",Ow.userId).eq("followee_id",e);if(n)throw t&&this._follow(e),n}isFollowing(e){return!0===this.store.get(e)}},zb={user_id:"",total_earned_trading_fees:"0",follower_count:0,following_count:0,blocked:!1,created_at:"-infinity"},Wb="*, total_earned_trading_fees::text",qb=(e,t)=>e.user_id===t.user_id&&e.wallet_address===t.wallet_address&&e.total_earned_trading_fees===t.total_earned_trading_fees&&e.display_name===t.display_name&&e.profile_image===t.profile_image&&e.x_username===t.x_username&&(e.metadata,t.metadata,!0)&&e.follower_count===t.follower_count&&e.following_count===t.following_count&&e.blocked===t.blocked;const Kb=new class extends o{store=new s("cached-user-details");constructor(){super(),this.addAllowedEvents("update")}init(){Ms.client.channel("user-details-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_details"},(e=>{"INSERT"!==e.eventType&&"UPDATE"!==e.eventType||this.refresh(e.new.user_id)})).subscribe()}cache(e,t){qb(t,this.get(e))||(this.store.set(e,t,!0),this.fireEvent("update",t))}get(e){const t=this.store.get(e);return t||{...zb,user_id:e}}async refresh(e){const{data:t,error:n}=await Ms.client.from("user_details").select(Wb).eq("user_id",e);if(n)throw n;const r=t?.[0];r&&!qb(r,this.get(e))&&this.cache(e,r)}getAndRefresh(e){const t=this.get(e);return this.refresh(e).catch((e=>console.error("Error refreshing user details:",e))),t}getByXUsername(e){return Object.values(this.store.getAll()).find((t=>t.x_username===e))}async refreshByXUsername(e){const{data:t,error:n}=await Ms.client.from("user_details").select(Wb).eq("x_username",e);if(n)throw n;const r=t?.[0];if(r){const t=this.getByXUsername(e);t&&qb(r,t)||this.cache(r.user_id,r)}}getAndRefreshByXUsername(e){const t=this.getByXUsername(e);return this.refreshByXUsername(e).catch((e=>console.error("Error refreshing user details:",e))),t}cacheUserDetails(e){for(const t of e)this.cache(t.user_id,t)}},Vb=(0,Zs.ax)({id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Jb=(0,Zs.ax)({id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0});var Qb,Yb,Zb,Xb,ew,tw,nw,rw,sw,iw,ow,aw,cw,lw,uw,hw,dw,fw,pw,gw,mw=n(9795),yw="eip155",bw="requestedChains",ww="wallet_addEthereumChain",vw=class extends oi{constructor(e){super({...e,options:{isNewChainsStale:!0,...e.options}}),ri(this,Zb),ri(this,ew),ri(this,nw),ri(this,sw),ri(this,ow),ri(this,cw),ri(this,uw),ri(this,dw),ri(this,pw),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,ri(this,Qb,void 0),ri(this,Yb,void 0),this.onAccountsChanged=e=>{0===e.length?this.emit("disconnect"):this.emit("change",{account:(0,ai.K)(e[0])})},this.onChainChanged=e=>{const t=Number(e),n=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:n}})},this.onDisconnect=()=>{ii(this,cw,lw).call(this,[]),this.emit("disconnect")},this.onDisplayUri=e=>{this.emit("message",{type:"display_uri",data:e})},this.onConnect=()=>{this.emit("connect",{})},ii(this,Zb,Xb).call(this)}async connect({chainId:e,pairingTopic:t}={}){try{let n=e;if(!n){const e=this.storage?.getItem("store"),t=e?.state?.data?.chain?.id;n=t&&!this.isChainUnsupported(t)?t:this.chains[0]?.id}if(!n)throw new Error("No chains found on connector.");const r=await this.getProvider();ii(this,sw,iw).call(this);const s=ii(this,nw,rw).call(this);if(r.session&&s&&await r.disconnect(),!r.session||s){const e=this.chains.filter((e=>e.id!==n)).map((e=>e.id));this.emit("message",{type:"connecting"}),await r.connect({pairingTopic:t,chains:[n],optionalChains:e.length?e:void 0}),ii(this,cw,lw).call(this,this.chains.map((({id:e})=>e)))}const i=await r.enable(),o=(0,ai.K)(i[0]),a=await this.getChainId();return{account:o,chain:{id:a,unsupported:this.isChainUnsupported(a)}}}catch(e){if(/user rejected/i.test(e?.message))throw new Pi(e);throw e}}async disconnect(){const e=await this.getProvider();try{await e.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}finally{ii(this,ow,aw).call(this),ii(this,cw,lw).call(this,[])}}async getAccount(){const{accounts:e}=await this.getProvider();return(0,ai.K)(e[0])}async getChainId(){const{chainId:e}=await this.getProvider();return e}async getProvider({chainId:e}={}){return ni(this,Qb)||await ii(this,Zb,Xb).call(this),e&&await this.switchChain(e),ni(this,Qb)}async getWalletClient({chainId:e}={}){const[t,n]=await Promise.all([this.getProvider({chainId:e}),this.getAccount()]),r=this.chains.find((t=>t.id===e));if(!t)throw new Error("provider is required.");return Oo({account:n,chain:r,transport:Ro(t)})}async isAuthorized(){try{const[e,t]=await Promise.all([this.getAccount(),this.getProvider()]),n=ii(this,nw,rw).call(this);if(!e)return!1;if(n&&t.session){try{await t.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(e){const t=this.chains.find((t=>t.id===e));if(!t)throw new Oi(new Error("chain not found on connector."));try{const n=await this.getProvider(),r=ii(this,dw,fw).call(this),s=ii(this,pw,gw).call(this);if(!r.includes(e)&&s.includes(ww)){await n.request({method:ww,params:[{chainId:(0,Di.eC)(t.id),blockExplorerUrls:[t.blockExplorers?.default?.url],chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:[...t.rpcUrls.default.http]}]});const r=ii(this,uw,hw).call(this);r.push(e),ii(this,cw,lw).call(this,r)}return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,Di.eC)(e)}]}),t}catch(e){if(/user rejected request/i.test("string"==typeof e?e:e?.message))throw new Pi(e);throw new Oi(e)}}};Qb=new WeakMap,Yb=new WeakMap,Zb=new WeakSet,Xb=async function(){return ni(this,Yb)||"undefined"==typeof window||si(this,Yb,ii(this,ew,tw).call(this)),ni(this,Yb)},ew=new WeakSet,tw=async function(){const{EthereumProvider:e,OPTIONAL_EVENTS:t,OPTIONAL_METHODS:r}=await n.e(979).then(n.bind(n,7979)),[s,...i]=this.chains.map((({id:e})=>e));if(s){const{projectId:n,showQrModal:o=!0,qrModalOptions:a,metadata:c,relayUrl:l}=this.options;si(this,Qb,await e.init({showQrModal:o,qrModalOptions:a,projectId:n,optionalMethods:r,optionalEvents:t,chains:[s],optionalChains:i.length?i:void 0,rpcMap:Object.fromEntries(this.chains.map((e=>[e.id,e.rpcUrls.default.http[0]]))),metadata:c,relayUrl:l}))}},nw=new WeakSet,rw=function(){if(ii(this,pw,gw).call(this).includes(ww))return!1;if(!this.options.isNewChainsStale)return!1;const e=ii(this,uw,hw).call(this),t=this.chains.map((({id:e})=>e)),n=ii(this,dw,fw).call(this);return!(n.length&&!n.some((e=>t.includes(e))))&&!t.every((t=>e.includes(t)))},sw=new WeakSet,iw=function(){ni(this,Qb)&&(ii(this,ow,aw).call(this),ni(this,Qb).on("accountsChanged",this.onAccountsChanged),ni(this,Qb).on("chainChanged",this.onChainChanged),ni(this,Qb).on("disconnect",this.onDisconnect),ni(this,Qb).on("session_delete",this.onDisconnect),ni(this,Qb).on("display_uri",this.onDisplayUri),ni(this,Qb).on("connect",this.onConnect))},ow=new WeakSet,aw=function(){ni(this,Qb)&&(ni(this,Qb).removeListener("accountsChanged",this.onAccountsChanged),ni(this,Qb).removeListener("chainChanged",this.onChainChanged),ni(this,Qb).removeListener("disconnect",this.onDisconnect),ni(this,Qb).removeListener("session_delete",this.onDisconnect),ni(this,Qb).removeListener("display_uri",this.onDisplayUri),ni(this,Qb).removeListener("connect",this.onConnect))},cw=new WeakSet,lw=function(e){this.storage?.setItem(bw,e)},uw=new WeakSet,hw=function(){return this.storage?.getItem(bw)??[]},dw=new WeakSet,fw=function(){if(!ni(this,Qb))return[];const e=ni(this,Qb).session?.namespaces;if(!e)return[];const t=(0,mw.fK)(e),n=t[yw]?.chains?.map((e=>parseInt(e.split(":")[1]||"")));return n??[]},pw=new WeakSet,gw=function(){if(!ni(this,Qb))return[];const e=ni(this,Qb).session?.namespaces;if(!e)return[];const t=(0,mw.fK)(e),n=t[yw]?.methods;return n??[]};class Aw{constructor(e,t){this.wagmi={},this.chains=[],this.namespace="eip155",this.disconnect=Zc,this.getAccount=al,this.watchAccount=ul,this.fetchBalance=ol,this.getNetwork=cl,this.watchNetwork=hl,this.switchNetwork=ll,this.fetchEnsName=fl,this.fetchEnsAvatar=dl,this.wagmi=e,this.chains=t}getWalletConnectConnector(){const e=this.wagmi.connectors.find((e=>"walletConnect"===e.id));if(!e)throw new Error("WalletConnectConnector is required");return e}async connectWalletConnectProvider(e,t){return await e.getProvider(),new Promise((n=>{e.once("message",(e=>{"display_uri"===e.type&&(t(e.data),n())}))}))}getConnectorById(e){const t=this.wagmi.connectors.find((t=>t.id===e));if(!t)throw new Error(`Connector for id ${e} was not found`);return t}getConnectors(){return this.wagmi.connectors.filter((e=>!e.id.includes("walletConnect")))}async connectWalletConnect(e,t){const n=this.getWalletConnectConnector(),r={connector:n};return t&&(r.chainId=t),Promise.all([Yc(r),this.connectWalletConnectProvider(n,e)])}async connectConnector(e,t){const n={connector:this.getConnectorById(e)};return t&&(n.chainId=t),await Yc(n)}isInjectedProviderInstalled(){return typeof window.ethereum<"u"}safeCheckInjectedProvider(e){var t;try{const n=String(e);return Boolean(null==(t=window.ethereum)?void 0:t[n])}catch(e){return console.error(e),!1}}async getConnectedChainIds(){var e,t,n;const r=null==(t=null==(e=(await this.getWalletConnectConnector().getProvider()).signer)?void 0:e.session)?void 0:t.namespaces,s=null==(n=r?.[this.namespace])?void 0:n.methods;if(null!=s&&s.includes("wallet_addEthereumChain"))return"ALL";if(r){const e=[];return Object.keys(r).forEach((t=>{t.includes(this.namespace)&&e.push(...r[t].accounts)})),e?.map((e=>e.split(":")[1]))}return"ALL"}}function Ew({projectId:e}){return function({rpc:e}){return function(t){const n=e(t);return n&&""!==n.http?{chain:{...t,rpcUrls:{...t.rpcUrls,default:{http:[n.http]}}},rpcUrls:{http:[n.http],webSocket:n.webSocket?[n.webSocket]:void 0}}:null}}({rpc:t=>{var n;return[1,3,4,5,10,42,56,69,97,100,137,280,324,420,42161,42220,43114,80001,421611,421613,1313161554,1313161555].includes(t.id)?{http:`https://rpc.walletconnect.com/v1/?chainId=eip155:${t.id}&projectId=${e}`}:{http:t.rpcUrls.default.http[0],webSocket:null==(n=t.rpcUrls.default.webSocket)?void 0:n[0]}}})}function kw({chains:e,projectId:t}){return[new vw({chains:e,options:{projectId:t,showQrModal:!1}}),new Bo({chains:e,options:{shimDisconnect:!0}})]}var Pw=n(9015);class xw{constructor(e,t){this.openModal=Pw.jb.open,this.closeModal=Pw.jb.close,this.subscribeModal=Pw.jb.subscribe,this.setTheme=Pw.ThemeCtrl.setThemeConfig,this.setDefaultChain=Pw.OptionsCtrl.setSelectedChain,this.subscribeEvents=Pw.uA.subscribe,Pw.ThemeCtrl.setThemeConfig(e),Pw.Id.setEthereumClient(t),Pw.ConfigCtrl.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.all([n.e(152),n.e(968)]).then(n.bind(n,7968));const e=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",e),Pw.OptionsCtrl.setIsUiLoaded(!0)}}}const _w=new class extends o{web3modal;_resolveConnection;connected=!1;get address(){return al().address}constructor(){super(),this.addAllowedEvents("accountChanged")}init(e){const t=[Vb,Jb],{publicClient:n}=Ic(t,[Ew({projectId:e})]),r=function(e){const t=new Jc(e);return Kc=t,t}({autoConnect:!0,connectors:kw({projectId:e,chains:t}),publicClient:n}),s=new Aw(r,t);this.web3modal=new xw({projectId:e,themeMode:"light",themeVariables:{"--w3m-accent-color":"#5585FF","--w3m-background-color":"#5585FF","--w3m-z-index":"999999"}},s),this.connected=void 0!==this.address;let i=this.address;ul((e=>{this.connected=void 0!==e.address,this.connected&&this._resolveConnection&&this._resolveConnection(),i!==e.address&&(this.fireEvent("accountChanged"),i=e.address)}))}async signMessage(e){if(!this.address)throw new Error("Wallet is not connected");return await async function(e){const t=await nl();if(!t)throw new Js;return await t.signMessage({message:e.message})}({message:e})}async connect(){return void 0!==this.address&&(this.connected=!0,this.fireEvent("accountChanged")),new Promise((e=>{this._resolveConnection=e,this.web3modal.openModal()}))}};const Cw=new class{messageForWalletLinking;init(e){this.messageForWalletLinking=e}async link(){const e=_w.address;if(!e)throw new Error("Wallet is not connected");const{data:t,error:n}=await Ms.client.functions.invoke("new-wallet-linking-nonce",{body:{walletAddress:e}});if(n)throw n;const r=await _w.signMessage(`${this.messageForWalletLinking}\n\nNonce: ${t.nonce}`),{error:s}=await Ms.client.functions.invoke("link-wallet-to-user",{body:{walletAddress:e,signedMessage:r}});if(s)throw s;Ow.userId&&Kb.refresh(Ow.userId)}};class Sw extends w{content;linkButton;constructor(){super({barrierDismissible:!0}),this.append(this.content=new g(".popup.link-wallet-popup",m("header",m("h1","Link Wallet")),m("main",m("p","To link your wallet to account, please follow the steps below:"),m("ol",m("li","Ensure your crypto wallet is connected.",m("w3m-core-button")),m("li",'Click the "Link Wallet" button below.'))),m("footer",new v({type:E.Text,tag:".cancel-button",click:()=>this.delete(),title:"Cancel"}),this.linkButton=new v({tag:".link-wallet-button",click:async(e,t)=>{try{t.disable().title="Linking...",await Cw.link(),this.delete()}catch(e){console.error(e),t.enable().title="Link Wallet"}},title:"Link Wallet"})))),this.checkWallet(),this.onDelegate(_w,"accountChanged",(()=>this.checkWallet()))}checkWallet(){_w.connected?this.linkButton.enable():this.linkButton.disable()}}const Ow=new class extends o{user;get userId(){return this.user?.id}get name(){return this.user?.user_metadata.full_name}get xUsername(){if("twitter"===this.user?.app_metadata.provider)return this.user.user_metadata.user_name}get avatarUrl(){return this.user?.user_metadata.avatar_url}get signed(){return void 0!==this.user}get walletAddress(){if(this.user)return Kb.get(this.user.id).wallet_address}get walletLinked(){return void 0!==this.walletAddress}constructor(){super(),this.addAllowedEvents("userFetched")}async fetchUserOnInit(){const{data:e,error:t}=await Ms.client.auth.getSession();if(t)throw t;this.user=e?.session?.user,this.user&&(this.fireEvent("userFetched"),this.onDelegate(Kb,"update",(e=>{e.user_id===this.user?.id&&this.fireEvent("userFetched")})),Kb.refresh(this.user.id).then((()=>{this.walletLinked||new x({title:"Wallet Link Required",message:"You must link your wallet to access all features of Igloo. Would you like to link your wallet now?",confirmTitle:"Link Wallet",cancelTitle:"Later"},(()=>{new Sw}))})),Hb.fetchSignedUserFollows())}async signIn(){await Ms.client.auth.signInWithOAuth({provider:"twitter",options:Ks.dev?{redirectTo:"http://localhost:8413/"}:void 0})}linkWallet(){new Sw}async signOut(){const{error:e}=await Ms.client.auth.signOut();if(e)throw e;Hb.clearCache(),location.reload()}async getContractSigner(){if(!this.user)throw new Error("User not signed in");if(!0!==_w.connected)throw new Error("Wallet not connected");if(!this.walletAddress)throw new Error("Wallet not linked");const e=await nl();if(!e)throw new Error("Wallet not connected");const{account:t,transport:n}=e;if(t.address!==this.walletAddress)throw new Error("Wallet address mismatch");const{chain:r}=cl();if(!r)throw new Error("Chain not found");if(r.id!==Ks.avaxChainId)throw new Error("Wrong chain");if(r&&t&&n)return new Bb(new Gb(n,{chainId:r.id,name:r.name,ensAddress:r.contracts?.ensRegistry?.address}),t.address)}};class Iw extends c{welcomeMessage="Welcome to Igloo!";logo;backButton;titleDisplay;loginButton;signedUser;settingsButton;constructor(){super(".mobile-title-bar"),this.append(this.logo=m("h1",m("img",{src:"/images/logo.png"}),{click:()=>f.go("/")}),this.backButton=m("button.back",new b("arrow_back"),{click:()=>history.back()}),this.titleDisplay=m("p"),this.loginButton=m("button.login",new b("login"),{click:()=>Ow.signIn()}),this.signedUser=m("a.signed-user",{click:()=>f.go(`/${Ow.xUsername}`)}),this.settingsButton=m("button.settings",new b("settings"),{click:()=>f.go("/settings")})),this.checkSigned(),this.onDelegate(Ow,"userFetched",(()=>this.checkSigned()))}checkSigned(){this.showLoginOrSignedUser(),this.titleDisplay.text=this.welcomeMessage=Ow.signed?"Hello, "+Ow.name+"!":"Welcome to Igloo!",Ow.signed&&this.signedUser.style({backgroundImage:`url(${Ow.avatarUrl})`})}showLogo(){this.logo.deleteClass("hidden"),this.backButton.addClass("hidden")}showBackButton(){this.logo.addClass("hidden"),this.backButton.deleteClass("hidden")}hideAllButtons(){[this.loginButton,this.signedUser,this.settingsButton].forEach((e=>e.addClass("hidden")))}showLoginOrSignedUser(){Ow.signed?this.showSignedUser():this.showLoginButton()}showLoginButton(){this.hideAllButtons(),this.loginButton.deleteClass("hidden")}showSignedUser(){this.hideAllButtons(),this.signedUser.deleteClass("hidden")}showSettingsButton(){this.hideAllButtons(),this.settingsButton.deleteClass("hidden")}set uri(e){""===e||"inbox"===e||"explore"===e||"notifications"===e||"settings"===e?(this.titleDisplay.text=""===e?this.welcomeMessage:$s.toTitleCase(e),this.showLogo(),this.showLoginOrSignedUser()):e.startsWith("post/")?(this.titleDisplay.text="Post",this.showBackButton(),this.showLoginOrSignedUser()):(this.titleDisplay.text="@"+e,this.showBackButton(),Ow.xUsername===e?this.showSettingsButton():this.showLoginOrSignedUser())}}class Tw extends c{currentActiveButton;loginButton;signedUser;constructor(){super(".nav-bar"),this.append(m("h1",m("img",{src:"/images/logo.png"}),{click:()=>f.go("/")}),m("button.home",new b("home"),{click:()=>f.go("/")}),m("button.inbox",new b("inbox"),{click:()=>f.go("/inbox")}),m("button.explore",new b("search"),{click:()=>f.go("/explore")}),m("button.notifications",new b("notifications"),{click:()=>f.go("/notifications")}),m("button.settings",new b("settings"),{click:()=>f.go("/settings")}),this.loginButton=m("button.login-button",new b("login"),{click:()=>Ow.signIn()}),this.signedUser=m("a.signed-user",{click:()=>f.go(`/${Ow.xUsername}`)})),this.checkSigned(),this.onDelegate(Ow,"userFetched",(()=>this.checkSigned()))}checkSigned(){Ow.signed?this.showSignedUser():this.showLoginButton(),Ow.signed&&this.signedUser.style({backgroundImage:`url(${Ow.avatarUrl})`})}showLoginButton(){this.loginButton.addClass("show"),this.signedUser.deleteClass("show")}showSignedUser(){this.loginButton.deleteClass("show"),this.signedUser.addClass("show")}activeButton(e){this.currentActiveButton&&this.currentActiveButton.deleteClass("active"),this.currentActiveButton=this.children.find((t=>t.hasClass(e))),this.currentActiveButton?.addClass("active")}}class Nw extends c{constructor(){super(".trend-section"),this.append(m("label.search-bar",new b("search"),m("input",{placeholder:"Search"})),m(".trend-list"))}hide(){this.addClass("hidden")}show(){this.deleteClass("hidden")}}class Uw extends Gs{static current;static append(e){Uw.current.content.append(e)}container;mobileTitleBar;navBar;content;trendSection;constructor(e,t){super(),Uw.current=this,l.append(this.container=m(".layout",this.mobileTitleBar=new Iw,this.navBar=new Tw,this.content=m("main"),this.trendSection=new Nw)),this.activeNavBarButton(t)}changeParams(e,t){this.activeNavBarButton(t)}activeNavBarButton(e){this.navBar.activeButton(""===e?"home":e),"explore"===e?this.trendSection.hide():this.trendSection.show(),this.mobileTitleBar.uri=e}close(){this.container.delete(),super.close()}}class jw extends Gs{container;constructor(e){super(),Uw.append(this.container=m(".explore-view",m("h1","Explorer")))}close(){this.container.delete(),super.close()}}var Rw;!function(e){e[e.EVERYONE=0]="EVERYONE",e[e.KEY_HOLDERS=1]="KEY_HOLDERS"}(Rw||(Rw={}));const Lw=new class extends o{store=new s("cached-posts");constructor(){super(),this.addAllowedEvents("update","delete")}init(){Ms.client.channel("posts-changes").on("postgres_changes",{event:"*",schema:"public",table:"posts"},(e=>{"INSERT"===e.eventType||"UPDATE"===e.eventType?this.refresh(e.new.id):"DELETE"===e.eventType&&this.deleteCache(e.old.id)})).subscribe()}deleteCache(e){this.store.delete(String(e)),this.fireEvent("delete",e)}cache(e,t){t?((e,t)=>e?.id===t?.id&&e?.guild_id===t?.guild_id&&e?.target===t?.target&&e?.author===t?.author&&e?.author_name===t?.author_name&&e?.author_avatar_url===t?.author_avatar_url&&e?.author_x_username===t?.author_x_username&&e?.message===t?.message&&((e,t)=>e.files?.length===t.files?.length&&(e.files?.every(((e,n)=>{const r=t.files?.[n];return e.url===r?.url&&e.thumbnailURL===r?.thumbnailURL&&e.fileName===r?.fileName&&e.fileType===r?.fileType&&e.fileSize===r?.fileSize}))??!1))(e?.rich??{},t?.rich??{})&&e?.post_ref===t?.post_ref)(t,this.get(e))||(this.store.set(String(e),t,!0),this.fireEvent("update",t)):this.deleteCache(e)}get(e){const t=this.store.get(String(e));if(t)return t}async refresh(e){const{data:t,error:n}=await Ms.client.from("posts").select().eq("id",e);if(n)throw n;const r=t?.[0];this.cache(e,r)}cachePosts(e){for(const t of e)this.cache(t.id,t)}};class Bw{static LIMIT=50;async post(e,t){const{data:n,error:r}=await Ms.client.from("posts").insert({target:e,message:t}).select().single();if(r)throw r;return n.id}async deletePost(e){const{error:t}=await Ms.client.from("posts").delete().eq("id",e);if(t)throw t}async fetchGlobalPosts(e){const{data:t,error:n}=await Ms.client.from("posts").select().lt("id",e??Number.MAX_SAFE_INTEGER).order("created_at",{ascending:!1}).limit(Bw.LIMIT);if(n)throw n;return t}async fetchUserPosts(e,t){const{data:n,error:r}=await Ms.client.from("posts").select().eq("author",e).lt("id",t??Number.MAX_SAFE_INTEGER).order("created_at",{ascending:!1}).limit(Bw.LIMIT);if(r)throw r;return n}}const Fw=new Bw;class Dw extends c{post;constructor(e){super(".post-list-item"),this.post=e,this.onDom("click",(()=>f.go(`/post/${e.id}`))),this.render(),this.onDelegate(Lw,"update",(e=>{e.id===this.post.id&&(this.post=e,this.render())})),this.onDelegate(Lw,"delete",(e=>{e===this.post.id&&this.delete()})),this.checkSigned(),this.onDelegate(Ow,"userFetched",(()=>this.checkSigned()))}render(){this.empty().append(m(".author-profile-image",{style:{backgroundImage:`url(${this.post.author_avatar_url})`},click:e=>this.goAuthorProfile(e)}),m("main",m("header",m(".author",m(".name",this.post.author_name,{click:e=>this.goAuthorProfile(e)}),this.post.author_x_username?m(".x-username",`@${this.post.author_x_username}`,{click:e=>this.goAuthorProfile(e)}):void 0),m("button.owner-menu",new b("more_vert"),{click:(e,t)=>{e.stopPropagation();const n=t.rect;new y({left:n.right-160,top:n.top,items:[{title:"Delete",click:()=>{new x({title:"Delete Post",message:"Are you sure you want to delete this post?",confirmTitle:"Delete",loadingTitle:"Deleting..."},(()=>Fw.deletePost(this.post.id)))}}]})}})),m("p",this.post.message)))}checkSigned(){this.post.author===Ow.userId&&this.addClass("owned")}goAuthorProfile(e){e.stopPropagation(),f.go(`/${this.post.author_x_username}`)}}class Mw extends c{contentFetched=!1;lastFetchedPostId;constructor(e){super(e+".post-list")}addPost(e){this.append(new Dw(e))}show(){return this.deleteClass("hidden"),this.contentFetched||(this.fetchContent(),this.contentFetched=!0),this}hide(){return this.addClass("hidden"),this}}class $w extends Mw{constructor(){super(".following-post-list")}fetchContent(){}}class Gw extends Mw{store=new s("global-post-list");isContentFromCache=!0;constructor(){super(".global-post-list");const e=this.store.get("cached-posts");if(e)for(const t of e)this.addPost(t)}async fetchContent(){const e=await Fw.fetchGlobalPosts(this.lastFetchedPostId);if(Lw.cachePosts(e),this.lastFetchedPostId=e[e.length-1]?.id,this.isContentFromCache&&(this.isContentFromCache=!1,this.store.set("cached-posts",e,!0),this.deleted||this.empty()),!this.deleted)for(const t of e)this.addPost(t)}}class Hw extends Mw{constructor(){super(".key-held-post-list")}fetchContent(){}}class zw extends w{content;targetSelect;textarea;postButton;constructor(){super({barrierDismissible:!0}),this.append(this.content=new g(".popup.post-popup",m(".signed-user",{style:{backgroundImage:`url(${Ow.avatarUrl})`}}),m(".form",m("header",this.targetSelect=m("select",m("option",{value:"0"},"Everyone"),m("option",{value:"1"},"Key Holders")),m("button",new b("close"),{click:()=>this.delete()})),m("main",this.textarea=m("textarea",{placeholder:"What's on your mind?"})),m("footer",m("button.icon-button",new b("image")),this.postButton=new v({tag:".post-button",click:()=>this.post(),title:"Post"}))))),this.textarea.domElement.focus()}async post(){this.postButton.disable().text="Posting...";try{const e=await Fw.post(parseInt(this.targetSelect.domElement.value),this.textarea.domElement.value);new k({message:"Your post has been successfully published.",action:{title:"View",click:()=>f.go(`/post/${e}`)}}),this.delete()}catch(e){console.error(e),this.postButton.enable().text="Post"}}}class Ww extends Gs{container;tabs;globalPostList;followingPostList;keyHeldPostList;postButton;constructor(e){super(),Uw.append(this.container=m(".home-view",m("main",m("h1","Home"),this.tabs=new S("home-view-tabs",[{id:"global",label:"Global"},{id:"following",label:"Following"},{id:"held",label:"Held"}]),this.globalPostList=new Gw,this.followingPostList=new $w,this.keyHeldPostList=new Hw),this.postButton=m("button.post",new b("add"),{click:()=>new zw}))),this.tabs.on("select",(e=>{[this.globalPostList,this.followingPostList,this.keyHeldPostList].forEach((e=>e.hide())),"global"===e?this.globalPostList.show():"following"===e?this.followingPostList.show():"held"===e&&this.keyHeldPostList.show()})).init(),this.checkSigned(),this.container.onDelegate(Ow,"userFetched",(()=>this.checkSigned()))}checkSigned(){Ow.signed?this.postButton.deleteClass("hidden"):this.postButton.addClass("hidden")}close(){this.container.delete(),super.close()}}class qw extends Gs{container;constructor(e){super(),Uw.append(this.container=m(".inbox-view",m("h1","Inbox")))}close(){this.container.delete(),super.close()}}class Kw extends Gs{container;constructor(e){super(),Uw.append(this.container=m(".notifications-view",m("h1","Notifications")))}close(){this.container.delete(),super.close()}}class Vw extends Gs{container;postId;constructor(e){super(),Uw.append(this.container=m(".post-view")),this.postId=parseInt(e.postId),this.render()}render(){this.container.empty().append(m("header",m("button",new b("arrow_back"),{click:()=>history.back()}),m("h1","Post")))}changeParams(e,t){this.postId=parseInt(e.postId),this.render()}close(){this.container.delete(),super.close()}}class Jw extends Gs{container;constructor(e){super(),Uw.append(this.container=m(".settings-view")),this.render(),this.container.onDelegate(Ow,"userFetched",(()=>this.render()))}render(){this.container.empty().append(m("h1","Settings"),m("main",m("section.x"),m("section.actions",Ow.signed?m("section.link-wallet",m("h2","Link Wallet"),Ow.walletLinked?m("p.linked","Linked: ",m("a",Ow.walletAddress,{href:`https://snowtrace.io/address/${Ow.walletAddress}`,target:"_blank"})):m("p","You can link your wallet to use Igloo."),m("button","Link Wallet",{click:()=>Ow.linkWallet()})):void 0,Ow.signed?m("section.logout",m("h2","Log Out"),m("p","You can log out from this device."),m("button","Log Out",{click:()=>Ow.signOut()})):m("section.login",m("h2","Log In"),m("p","You can log in to this device."),m("button","Log In",{click:()=>Ow.signIn()})))))}close(){this.container.delete(),super.close()}}const Qw={subject:"",last_fetched_key_price:"",total_trading_key_volume:"",total_earned_trading_fees:"",last_message_sent_at:"",key_holder_count:0,last_key_purchased_at:"-infinity",owned_key_count:0,created_at:"-infinity"},Yw=(e,t)=>e.subject===t.subject&&e.last_fetched_key_price===t.last_fetched_key_price&&e.total_trading_key_volume===t.total_trading_key_volume&&e.total_earned_trading_fees===t.total_earned_trading_fees&&e.is_key_price_up===t.is_key_price_up&&e.last_message===t.last_message&&e.last_message_sent_at===t.last_message_sent_at&&e.key_holder_count===t.key_holder_count&&e.last_key_purchased_at===t.last_key_purchased_at&&e.owned_key_count===t.owned_key_count;const Zw=new class extends o{store=new s("cached-subject-details");constructor(){super(),this.addAllowedEvents("update")}init(){Ms.client.channel("subject-details-changes").on("postgres_changes",{event:"*",schema:"public",table:"subject_details"},(e=>{"INSERT"!==e.eventType&&"UPDATE"!==e.eventType||this.refresh(e.new.subject)})).subscribe()}cache(e,t){Yw(t,this.get(e))||(this.store.set(e,t,!0),this.fireEvent("update",t))}get(e){const t=this.store.get(e);return t||{...Qw,subject:e}}async refresh(e){const{data:t,error:n}=await Ms.client.from("subject_details").select("*, last_fetched_key_price::text, total_trading_key_volume::text, total_earned_trading_fees::text").eq("subject",e);if(n)throw n;const r=t?.[0];r&&!Yw(r,this.get(e))&&this.cache(e,r)}getAndRefresh(e){const t=this.get(e);return this.refresh(e).catch((e=>console.error("Error refreshing subject details:",e))),t}};class Xw extends Gs{container;xUsername;constructor(e){super(),Uw.append(this.container=m(".followers-view")),this.xUsername=e.xUsername,this.render()}render(){this.container.append(m("header",m("button",new b("arrow_back"),{click:()=>history.back()}),m("h1","@"+this.xUsername)))}changeParams(e,t){this.xUsername=e.xUsername,this.render()}close(){this.container.delete(),super.close()}}class ev extends Gs{container;xUsername;constructor(e){super(),Uw.append(this.container=m(".following-view")),this.xUsername=e.xUsername,this.render()}render(){this.container.append(m("header",m("button",new b("arrow_back"),{click:()=>history.back()}),m("h1","@"+this.xUsername)))}changeParams(e,t){this.xUsername=e.xUsername,this.render()}close(){this.container.delete(),super.close()}}class tv extends Gs{container;xUsername;constructor(e){super(),Uw.append(this.container=m(".holders-view")),this.xUsername=e.xUsername,this.render()}render(){this.container.append(m("header",m("button",new b("arrow_back"),{click:()=>history.back()}),m("h1","@"+this.xUsername)))}changeParams(e,t){this.xUsername=e.xUsername,this.render()}close(){this.container.delete(),super.close()}}class nv extends Mw{userId;store=new s("user-post-list");isContentFromCache=!0;constructor(e){super(".user-post-list"),this.userId=e;const t=this.store.get(`user-${e}-cached-posts`);if(t)for(const e of t)this.addPost(e)}async fetchContent(){const e=await Fw.fetchUserPosts(this.userId,this.lastFetchedPostId);if(Lw.cachePosts(e),this.lastFetchedPostId=e[e.length-1]?.id,this.isContentFromCache&&(this.isContentFromCache=!1,this.store.set(`user-${this.userId}-cached-posts`,e,!0),this.deleted||this.empty()),!this.deleted)for(const t of e)this.addPost(t)}}class rv{static LIMIT=50;async fetchFollowers(e,t){const{data:n,error:r}=await Ms.client.from("follows").select().eq("followee_id",e).lt("followed_at",t??"infinity").order("followed_at",{ascending:!1}).limit(rv.LIMIT);if(r)throw r;const{data:s,error:i}=await Ms.client.from("user_details").select().in("user_id",n.map((e=>e.follower_id)));if(i)throw i;return{userDetailsSet:s,lastFetchedFollowedAt:n[n.length-1]?.followed_at}}async fetchFollowing(e,t){const{data:n,error:r}=await Ms.client.from("follows").select().eq("follower_id",e).lt("followed_at",t??"infinity").order("followed_at",{ascending:!1}).limit(rv.LIMIT);if(r)throw r;const{data:s,error:i}=await Ms.client.from("user_details").select().in("user_id",n.map((e=>e.followee_id)));if(i)throw i;return{userDetailsSet:s,lastFetchedFollowedAt:n[n.length-1]?.followed_at}}}const sv=new rv;class iv extends c{userDetails;constructor(e){super(".user-list-item"),this.userDetails=e,this.render(),this.onDelegate(Kb,"update",(e=>{e.user_id===this.userDetails.user_id&&(this.userDetails=e,this.render())})),this.onDom("click",(()=>f.go(`/${this.userDetails.x_username}`)))}render(){this.empty().append(m(".profile-image",{style:{backgroundImage:`url(${this.userDetails.profile_image})`}}),m(".info",m(".name",this.userDetails.display_name),this.userDetails.x_username?m(".x-username",`@${this.userDetails.x_username}`):void 0))}}class ov extends c{emptyMessage;contentFetched=!1;emptyMessageDisplay;constructor(e,t){super(e+".user-list"),this.emptyMessage=t,this.showEmptyMessage()}showEmptyMessage(){this.emptyMessageDisplay?.delete(),this.emptyMessageDisplay=m("p.empty-message",this.emptyMessage),this.emptyMessageDisplay.on("delete",(()=>this.emptyMessageDisplay=void 0)),this.append(this.emptyMessageDisplay)}addUserDetails(e){this.emptyMessageDisplay?.delete(),this.append(new iv(e))}show(){this.deleteClass("hidden"),this.contentFetched||(this.fetchContent(),this.contentFetched=!0)}hide(){this.addClass("hidden")}empty(){return super.empty(),this.showEmptyMessage(),this}}class av extends ov{userId;store=new s("follower-list");isContentFromCache=!0;lastFetchedFollowedAt;constructor(e){super(".follower-list","No followers yet"),this.userId=e;const t=this.store.get(`user-${e}-cached-followers`);if(t)for(const e of t)this.addUserDetails(e)}async fetchContent(){const e=await sv.fetchFollowers(this.userId,this.lastFetchedFollowedAt);if(Kb.cacheUserDetails(e.userDetailsSet),this.lastFetchedFollowedAt=e.lastFetchedFollowedAt,this.isContentFromCache&&(this.isContentFromCache=!1,this.store.set(`user-${this.userId}-cached-followers`,e.userDetailsSet,!0),this.deleted||this.empty()),!this.deleted)for(const t of e.userDetailsSet)this.addUserDetails(t)}}class cv extends ov{userId;store=new s("following-list");isContentFromCache=!0;lastFetchedFollowedAt;constructor(e){super(".following-list","Not following anyone yet"),this.userId=e;const t=this.store.get(`user-${e}-cached-following`);if(t)for(const e of t)this.addUserDetails(e)}async fetchContent(){const e=await sv.fetchFollowing(this.userId,this.lastFetchedFollowedAt);if(Kb.cacheUserDetails(e.userDetailsSet),this.lastFetchedFollowedAt=e.lastFetchedFollowedAt,this.isContentFromCache&&(this.isContentFromCache=!1,this.store.set(`user-${this.userId}-cached-following`,e.userDetailsSet,!0),this.deleted||this.empty()),!this.deleted)for(const t of e.userDetailsSet)this.addUserDetails(t)}}class lv extends ov{userId;constructor(e){super(".holder-list","No holders yet"),this.userId=e}async fetchContent(){}}class uv extends w{content;constructor(e){super({barrierDismissible:!0}),this.append(this.content=new g(".popup.buy-subject-key-popup",m("header",m("h1",`Buy ${e.display_name}'s Key`))))}}class hv extends c{userDetails;settingsButton;followButton;constructor(e,t){super(".user-profile-display"),this.userDetails=e,this.append(m(".profile",m(".profile-image-wrapper",m(".profile-image",{style:{backgroundImage:`url(${e.profile_image?.replace("_normal","")})`}})),m("h2",e.display_name),m("h3",m("a","@"+e.x_username,{href:`https://x.com/${e.x_username}`,target:"_blank"})),m(".socials",m("a",m("img.x-symbol",{src:"/images/x-symbol.svg"}),{href:`https://x.com/${e.x_username}`,target:"_blank"}))),m(".trading-metrics",m("section.trading-volume",m(".icon-container",new b("analytics")),m(".metric",m("h3","Volume"),m(".value","0.00",m("img.avax-symbol",{src:"/images/avax-symbol.svg"})))),m("section.earned",m(".icon-container",new b("savings")),m(".metric",m("h3","Fees Earned"),m(".value","0.00",m("img.avax-symbol",{src:"/images/avax-symbol.svg"})))),m("section.holdings",m(".icon-container",new b("account_balance_wallet")),m(".metric",m("h3","Holdings"),m(".value","0"))),m("section.price",m(".icon-container",new b("sell")),m(".metric",m("h3","Price"),m(".value","0.00",m("img.avax-symbol",{src:"/images/avax-symbol.svg"}))))),m(".action-buttons",this.followButton=m("button.follow","Follow",{click:()=>{Ow.userId?Hb.isFollowing(e.user_id)?Hb.unfollow(e.user_id):Hb.follow(e.user_id):new x({title:"Login Required",message:"You must be logged in to follow users.",confirmTitle:"Login"},(()=>Ow.signIn()))}}),m("button.buy-key"+(e.wallet_address?"":".disabled"),"Buy Key",{click:()=>{Ow.userId?Ow.walletLinked?e.wallet_address?new uv(e):new _({title:"No wallet address",message:"This user has not linked a wallet."}):new x({title:"Wallet Required",message:"You must link a wallet to buy keys.",confirmTitle:"Link Wallet"},(()=>Ow.linkWallet())):new x({title:"Login Required",message:"You must be logged in to buy keys.",confirmTitle:"Login"},(()=>Ow.signIn()))}}),this.settingsButton=m("button.settings","Settings",{click:()=>f.go("/settings")})),m(".social-metrics",t?m("section.holders",m("a",m("span.value",String(t.key_holder_count)),m("span"," Holders"),{click:()=>f.go(`/${e.x_username}/holders`)})):void 0,m("section.following",m("a",m("span.value",String(e.following_count)),m("span"," Following"),{click:()=>f.go(`/${e.x_username}/following`)})),m("section.followers",m("a",m("span.value",String(e.follower_count)),m("span"," Followers"),{click:()=>f.go(`/${e.x_username}/followers`)})))),this.checkSignedUser(),this.onDelegate(Ow,"userFetched",(()=>this.checkSignedUser())),this.checkFollowing(),this.onDelegate(Hb,["follow","unfollow"],(t=>{t===e.user_id&&this.checkFollowing()}))}checkSignedUser(){Ow.userId===this.userDetails.user_id?this.followButton.addClass("hidden"):this.settingsButton.addClass("hidden")}checkFollowing(){Hb.isFollowing(this.userDetails.user_id)?this.followButton.text="Unfollow":this.followButton.text="Follow"}}class dv extends Gs{container;tabs;xUsername;userDetails;subjectDetails;holderList;followerList;followingList;constructor(e){super(),Uw.append(this.container=m(".user-view")),this.xUsername=e.xUsername,this.userDetails=Kb.getAndRefreshByXUsername(this.xUsername),this.subjectDetails=this.userDetails?.wallet_address?Zw.getAndRefresh(this.userDetails.wallet_address):void 0,this.render(),this.container.onDelegate(Kb,"update",(e=>{e.x_username===this.xUsername&&(this.userDetails=e,this.render())})),this.container.onDelegate(Zw,"update",(e=>{e.subject===this.userDetails?.wallet_address&&(this.subjectDetails=e,this.render())}))}render(){this.container.empty(),this.userDetails?(this.container.append(m("header",m("button",new b("arrow_back"),{click:()=>history.back()}),m("h1",`${this.userDetails.display_name}'s Igloo`)),m("section.profile",new hv(this.userDetails,this.subjectDetails),m(".user-connections",this.tabs=new S("user-connections",(()=>{const e=[];return this.subjectDetails&&e.push({id:"holders",label:this.subjectDetails.key_holder_count+" Holders"}),e.push({id:"followers",label:this.userDetails.follower_count+" Followers"}),e.push({id:"following",label:this.userDetails.following_count+" Following"}),e})()),this.holderList=new lv(this.userDetails.user_id),this.followerList=new av(this.userDetails.user_id),this.followingList=new cv(this.userDetails.user_id))),new nv(this.userDetails.user_id).show()),this.tabs.on("select",(e=>{[this.holderList,this.followerList,this.followingList].forEach((e=>e.hide())),"holders"===e?this.holderList.show():"followers"===e?this.followerList.show():"following"===e&&this.followingList.show()})).init()):this.container.append(m("header",m("button",new b("arrow_back"),{click:()=>history.back()}),m("h1","User Not Found")))}changeParams(e,t){this.xUsername=e.xUsername,this.userDetails=Kb.getAndRefreshByXUsername(this.xUsername),this.subjectDetails=this.userDetails?.wallet_address?Zw.getAndRefresh(this.userDetails.wallet_address):void 0,this.render()}close(){this.container.delete(),super.close()}}async function fv(e){Ks.dev=e.dev,Ks.avaxRpc=e.avaxRpc,sessionStorage.__spa_path&&(f.goNoHistory(sessionStorage.__spa_path),sessionStorage.removeItem("__spa_path")),Ms.connect(e.supabaseUrl,e.supabaseAnonKey),[Kb,Zw,Lw].forEach((e=>e.init())),_w.init(e.walletConnectProjectId),Cw.init(e.messageForWalletLinking);const t=new P(m("img",{src:"/images/igloo-character.png"}));await Promise.all([Ow.fetchUserOnInit(),An.loadYAMLs({en:["/locales/en.yml"]})]),t.delete(),f.route("**",Uw),f.route("",Ww),f.route("inbox",qw),f.route("explore",jw),f.route("notifications",Kw),f.route("settings",Jw),f.route("post/{postId}",Vw),f.route("{xUsername}",dv,["inbox","explore","notifications","settings","post/{postId}","{xUsername}/holders","{xUsername}/following","{xUsername}/followers"]),f.route("{xUsername}/holders",tv,["post/{postId}"]),f.route("{xUsername}/following",ev,["post/{postId}"]),f.route("{xUsername}/followers",Xw,["post/{postId}"])}zs().extend(qs())},1831:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var r=n(3703);await(0,r.Z)({dev:!1,supabaseUrl:"https://diffcrvgnspbzzbqwtvt.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpZmZjcnZnbnNwYnp6YnF3dHZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY3MzU2MjIsImV4cCI6MjAxMjMxMTYyMn0.CtVuTA_yY1t6zQ4NUZJUWEp7aDG2JBpR_6SFdU3vNJg",walletConnectProjectId:"53ce7f51ed886a719bf634b25061f424",messageForWalletLinking:"Link Wallet to Igloo",avaxRpc:"https://api.avax.network/ext/bc/C/rpc",avaxChainId:43114}),t()}catch(e){t(e)}}),1)},5856:()=>{},5883:()=>{},9015:(e,t,n)=>{"use strict";n.d(t,{AccountCtrl:()=>P,Id:()=>g,ConfigCtrl:()=>A,zv:()=>f,uA:()=>y,ExplorerCtrl:()=>G,jb:()=>q,OptionsCtrl:()=>w,AV:()=>d,ThemeCtrl:()=>X,ToastCtrl:()=>te,WcConnectionCtrl:()=>z});var r=n(2478);const s=e=>"object"==typeof e&&null!==e,i=new WeakMap,o=new WeakSet,a=(e=Object.is,t=((e,t)=>new Proxy(e,t)),n=(e=>s(e)&&!o.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)),a=(e=>e.configurable&&e.enumerable&&e.writable),c=(e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}}),l=new WeakMap,u=((e,t,n=c)=>{const s=l.get(e);if((null==s?void 0:s[0])===t)return s[1];const a=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return(0,r.jc)(a,!0),l.set(e,[t,a]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(a,t))return;const s=Reflect.get(e,t),c={value:s,enumerable:!0,configurable:!0};if(o.has(s))(0,r.jc)(s,!1);else if(s instanceof Promise)delete c.value,c.get=()=>n(s);else if(i.has(s)){const[e,t]=i.get(s);c.value=u(e,t(),n)}Object.defineProperty(a,t,c)})),Object.preventExtensions(a)}),h=new WeakMap,d=[1,1],f=(c=>{if(!s(c))throw new Error("object required");const l=h.get(c);if(l)return l;let p=d[0];const g=new Set,m=(e,t=++d[0])=>{p!==t&&(p=t,g.forEach((n=>n(e,t))))};let y=d[1];const b=e=>(t,n)=>{const r=[...t];r[1]=[e,...r[1]],m(r,n)},w=new Map,v=e=>{var t;const n=w.get(e);n&&(w.delete(e),null==(t=n[1])||t.call(n))},A=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),E=(t,a,c,l,u)=>{if(t&&(e(a,l)||h.has(l)&&e(a,h.get(l))))return;v(c),s(l)&&(l=(0,r.o5)(l)||l);let d=l;if(l instanceof Promise)l.then((e=>{l.status="fulfilled",l.value=e,m(["resolve",[c],e])})).catch((e=>{l.status="rejected",l.reason=e,m(["reject",[c],e])}));else{!i.has(l)&&n(l)&&(d=f(l));const e=!o.has(d)&&i.get(d);e&&((e,t)=>{if(w.has(e))throw new Error("prop listener already exists");if(g.size){const n=t[3](b(e));w.set(e,[t,n])}else w.set(e,[t])})(c,e)}u(d),m(["set",[c],l,a])},k=t(A,{deleteProperty(e,t){const n=Reflect.get(e,t);v(t);const r=Reflect.deleteProperty(e,t);return r&&m(["delete",[t],n]),r},set(e,t,n,r){const s=Reflect.has(e,t),i=Reflect.get(e,t,r);return E(s,i,t,n,(n=>{Reflect.set(e,t,n,r)})),!0},defineProperty(e,t,n){if(a(n)){const r=Reflect.getOwnPropertyDescriptor(e,t);if(!r||a(r))return E(!!r&&"value"in r,null==r?void 0:r.value,t,n.value,(r=>{Reflect.defineProperty(e,t,{...n,value:r})})),!0}return Reflect.defineProperty(e,t,n)}});h.set(c,k);const P=[A,(e=++d[1])=>(y===e||g.size||(y=e,w.forEach((([t])=>{const n=t[1](e);n>p&&(p=n)}))),p),u,e=>{g.add(e),1===g.size&&w.forEach((([e,t],n)=>{if(t)throw new Error("remove already exists");const r=e[3](b(n));w.set(n,[e,r])}));return()=>{g.delete(e),0===g.size&&w.forEach((([e,t],n)=>{t&&(t(),w.set(n,[e]))}))}}];return i.set(k,P),Reflect.ownKeys(c).forEach((e=>{const t=Object.getOwnPropertyDescriptor(c,e);"value"in t&&(k[e]=c[e],delete t.value,delete t.writable),Object.defineProperty(A,e,t)})),k}))=>[f,i,o,e,t,n,a,c,l,u,h,d],[c]=a();function l(e={}){return c(e)}function u(e,t,n){const r=i.get(e);let s;r||console.warn("Please use proxy object");const o=[],a=r[3];let c=!1;const l=a((e=>{o.push(e),n?t(o.splice(0)):s||(s=Promise.resolve().then((()=>{s=void 0,c&&t(o.splice(0))})))}));return c=!0,()=>{c=!1,l()}}const h=l({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),d={state:h,subscribe:e=>u(h,(()=>e(h))),push(e,t){e!==h.view&&(h.view=e,t&&(h.data=t),h.history.push(e))},reset(e){h.view=e,h.history=[e]},replace(e){h.history.length>1&&(h.history[h.history.length-1]=e,h.view=e)},goBack(){if(h.history.length>1){h.history.pop();const[e]=h.history.slice(-1);h.view=e}},setData(e){h.data=e}},f={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>f.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return f.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,formatNativeUrl(e,t,n){if(f.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);let r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,n){if(!f.isHttpUrl(e))return this.formatNativeUrl(e,t,n);let r=e;r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},wait:async e=>new Promise((t=>{setTimeout(t,e)})),openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(f.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(f.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(f.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setWeb3ModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(f.W3M_VERSION,"2.7.1")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=d.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t},getSwitchNetworkRouterData(){var e;const t=null==(e=d.state.data)?void 0:e.SwitchNetwork;if(!t)throw new Error('Missing "SwitchNetwork" view data');return t},isPreferInjectedFlag:()=>typeof location<"u"&&new URLSearchParams(location.search).has(f.W3M_PREFER_INJECTED_URL_FLAG)};let p;const g={ethereumClient:void 0,setEthereumClient(e){p=e},client(){if(p)return p;throw new Error("ClientCtrl has no client set")}},m=l({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),y={state:m,subscribe:e=>u(m.events,(()=>e(function(e,t){const n=i.get(e);n||console.warn("Please use proxy object");const[r,s,o]=n;return o(r,s(),t)}(m.events[m.events.length-1])))),initialize(){m.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(m.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){m.connectedWalletId=e},click(e){if(m.enabled){const t={type:"CLICK",name:e.name,userSessionId:m.userSessionId,timestamp:Date.now(),data:e};m.events.push(t)}},track(e){if(m.enabled){const t={type:"TRACK",name:e.name,userSessionId:m.userSessionId,timestamp:Date.now(),data:e};m.events.push(t)}},view(e){if(m.enabled){const t={type:"VIEW",name:e.name,userSessionId:m.userSessionId,timestamp:Date.now(),data:e};m.events.push(t)}}},b=l({selectedChain:void 0,chains:void 0,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1}),w={state:b,subscribe:e=>u(b,(()=>e(b))),setChains(e){b.chains=e},getSelectedChain(){const e=g.client().getNetwork().chain;return e&&(b.selectedChain=e),b.selectedChain},setSelectedChain(e){b.selectedChain=e},setIsCustomDesktop(e){b.isCustomDesktop=e},setIsCustomMobile(e){b.isCustomMobile=e},setIsDataLoaded(e){b.isDataLoaded=e},setIsUiLoaded(e){b.isUiLoaded=e},setIsPreferInjected(e){b.isPreferInjected=e}},v=l({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),A={state:v,subscribe:e=>u(v,(()=>e(v))),setConfig(e){var t,n;y.initialize(),w.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),w.setIsCustomDesktop(Boolean(null==(n=e.desktopWallets)?void 0:n.length)),w.setChains(g.client().chains),w.setIsPreferInjected(g.client().isInjectedProviderInstalled()&&f.isPreferInjectedFlag()),e.defaultChain&&w.setSelectedChain(e.defaultChain),f.setWeb3ModalVersionInStorage(),Object.assign(v,e)}},E={async getIdentity(e,t){const{projectId:n}=A.state,r=`https://rpc.walletconnect.com/v1/identity/${e}?chainId=${`eip155:${t}`}&projectId=${n}`;return(await fetch(r)).json()}},k=l({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),P={state:k,subscribe:e=>u(k,(()=>e(k))),getAccount(){const e=g.client().getAccount();k.address=e.address,k.isConnected=e.isConnected},async fetchProfile(e,t){var n;try{k.profileLoading=!0,k.profileName=null,k.profileAvatar=null;const r=t??k.address,s=1,i=null==(n=w.state.chains)?void 0:n.find((e=>e.id===s));if(r&&i){try{const e=await E.getIdentity(r,s);k.profileName=e.name,k.profileAvatar=e.avatar}catch{const e=await g.client().fetchEnsName({address:r,chainId:s});if(k.profileName=e,e){const t=await g.client().fetchEnsAvatar({name:e,chainId:s});k.profileAvatar=t}}k.profileAvatar&&await e(k.profileAvatar)}}finally{k.profileLoading=!1}},async fetchBalance(e){try{const{chain:t}=g.client().getNetwork(),{tokenContracts:n}=A.state;let r;t&&n&&(r=n[t.id]),k.balanceLoading=!0;const s=e??k.address;if(s){const e=await g.client().fetchBalance({address:s,token:r});k.balance={amount:e.formatted,symbol:e.symbol}}}finally{k.balanceLoading=!1}},setAddress(e){k.address=e},setIsConnected(e){k.isConnected=e},resetBalance(){k.balance=void 0},resetAccount(){k.address=void 0,k.isConnected=!1,k.profileName=void 0,k.profileAvatar=void 0,k.balance=void 0}};var x=Object.defineProperty,_=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const I="https://explorer-api.walletconnect.com",T="w3m",N="js-2.7.1";async function U(e,t){const n=((e,t)=>{for(var n in t||(t={}))C.call(t,n)&&O(e,n,t[n]);if(_)for(var n of _(t))S.call(t,n)&&O(e,n,t[n]);return e})({sdkType:T,sdkVersion:N},t),r=new URL(e,I);return r.searchParams.append("projectId",A.state.projectId),Object.entries(n).forEach((([e,t])=>{t&&r.searchParams.append(e,String(t))})),(await fetch(r)).json()}const j={getDesktopListings:async e=>U("/w3m/v1/getDesktopListings",e),getMobileListings:async e=>U("/w3m/v1/getMobileListings",e),getInjectedListings:async e=>U("/w3m/v1/getInjectedListings",e),getAllListings:async e=>U("/w3m/v1/getAllListings",e),getWalletImageUrl:e=>`${I}/w3m/v1/getWalletImage/${e}?projectId=${A.state.projectId}&sdkType=${T}&sdkVersion=${N}`,getAssetImageUrl:e=>`${I}/w3m/v1/getAssetImage/${e}?projectId=${A.state.projectId}&sdkType=${T}&sdkVersion=${N}`};var R=Object.defineProperty,L=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const M=f.isMobile(),$=l({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),G={state:$,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=A.state;if("NONE"===e||"ALL"===t&&!e)return $.recomendedWallets;if(f.isArray(e)){const t={recommendedIds:e.join(",")},{listings:n}=await j.getAllListings(t),r=Object.values(n);r.sort(((t,n)=>e.indexOf(t.id)-e.indexOf(n.id))),$.recomendedWallets=r}else{const e=f.isArray(t),n={page:1,entries:f.RECOMMENDED_WALLET_AMOUNT,version:2,excludedIds:e?t.join(","):void 0},{listings:r}=M?await j.getMobileListings(n):await j.getDesktopListings(n);$.recomendedWallets=Object.values(r)}return $.recomendedWallets},async getWallets(e){const t=((e,t)=>{for(var n in t||(t={}))B.call(t,n)&&D(e,n,t[n]);if(L)for(var n of L(t))F.call(t,n)&&D(e,n,t[n]);return e})({},e),{explorerRecommendedWalletIds:n,explorerExcludedWalletIds:r}=A.state,{recomendedWallets:s}=$;if("ALL"===r)return $.wallets;s.length?t.excludedIds=s.map((e=>e.id)).join(","):f.isArray(n)&&(t.excludedIds=n.join(",")),f.isArray(r)&&(t.excludedIds=[t.excludedIds,r].filter(Boolean).join(","));const{page:i,search:o}=e,{listings:a,total:c}=M?await j.getMobileListings(t):await j.getDesktopListings(t),l=Object.values(a),u=o?"search":"wallets";return $[u]={listings:[...$[u].listings,...l],total:c,page:i??1},{listings:l,total:c}},async getInjectedWallets(){const{listings:e}=await j.getInjectedListings({}),t=Object.values(e);return $.injectedWallets=t,$.injectedWallets},getWalletImageUrl:e=>j.getWalletImageUrl(e),getAssetImageUrl:e=>j.getAssetImageUrl(e),resetSearch(){$.search={listings:[],total:0,page:1}}},H=l({pairingEnabled:!1,pairingUri:"",pairingError:!1}),z={state:H,subscribe:e=>u(H,(()=>e(H))),setPairingUri(e){H.pairingUri=e},setPairingError(e){H.pairingError=e},setPairingEnabled(e){H.pairingEnabled=e}},W=l({open:!1}),q={state:W,subscribe:e=>u(W,(()=>e(W))),open:async e=>new Promise((t=>{const{isUiLoaded:n,isDataLoaded:r,isPreferInjected:s,selectedChain:i}=w.state,{isConnected:o}=P.state,{enableNetworkView:a}=A.state;if(z.setPairingEnabled(!0),o||f.removeWalletConnectDeepLink(),null!=e&&e.route)d.reset(e.route);else if(o)d.reset("Account");else if(a)d.reset("SelectNetwork");else{if(s)return g.client().connectConnector("injected",i?.id).catch((e=>console.error(e))),void t();d.reset("ConnectWallet")}const{pairingUri:c}=z.state;if(n&&r&&(c||o))W.open=!0,t();else{const e=setInterval((()=>{const n=w.state,r=z.state;n.isUiLoaded&&n.isDataLoaded&&(r.pairingUri||o)&&(clearInterval(e),W.open=!0,t())}),200)}})),close(){W.open=!1}};var K=Object.defineProperty,V=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,Y=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Z=l({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),X={state:Z,subscribe:e=>u(Z,(()=>e(Z))),setThemeConfig(e){const{themeMode:t,themeVariables:n}=e;t&&(Z.themeMode=t),n&&(Z.themeVariables=((e,t)=>{for(var n in t||(t={}))J.call(t,n)&&Y(e,n,t[n]);if(V)for(var n of V(t))Q.call(t,n)&&Y(e,n,t[n]);return e})({},n))}},ee=l({open:!1,message:"",variant:"success"}),te={state:ee,subscribe:e=>u(ee,(()=>e(ee))),openToast(e,t){ee.open=!0,ee.message=e,ee.variant=t},closeToast(){ee.open=!1}}},3160:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(6867);function s(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},605:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(3160),s=n(6867);function i(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=(0,r.E)(t);let i=0;for(const t of e)n.set(t,i),i+=t.length;return(0,s.P)(n)}},2217:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(5114),s=n(6867);function i(e,t="utf8"){const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):(0,s.P)(globalThis.Buffer.from(e,"utf-8"))}},7466:(e,t,n)=>{"use strict";n.d(t,{BB:()=>i.B,mL:()=>s.m,zo:()=>r.z});var r=n(605),s=n(2217),i=n(2263)},2263:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var r=n(5114);function s(e,t="utf8"){const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},6867:(e,t,n)=>{"use strict";function r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}n.d(t,{P:()=>r})},5114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ze});var r={};n.r(r),n.d(r,{identity:()=>S});var s={};n.r(s),n.d(s,{base2:()=>O});var i={};n.r(i),n.d(i,{base8:()=>I});var o={};n.r(o),n.d(o,{base10:()=>T});var a={};n.r(a),n.d(a,{base16:()=>N,base16upper:()=>U});var c={};n.r(c),n.d(c,{base32:()=>j,base32hex:()=>F,base32hexpad:()=>M,base32hexpadupper:()=>$,base32hexupper:()=>D,base32pad:()=>L,base32padupper:()=>B,base32upper:()=>R,base32z:()=>G});var l={};n.r(l),n.d(l,{base36:()=>H,base36upper:()=>z});var u={};n.r(u),n.d(u,{base58btc:()=>W,base58flickr:()=>q});var h={};n.r(h),n.d(h,{base64:()=>K,base64pad:()=>V,base64url:()=>J,base64urlpad:()=>Q});var d={};n.r(d),n.d(d,{base256emoji:()=>ee});var f={};n.r(f),n.d(f,{sha256:()=>xe,sha512:()=>_e});var p={};n.r(p),n.d(p,{identity:()=>Se});var g={};n.r(g),n.d(g,{code:()=>Ie,decode:()=>Ne,encode:()=>Te,name:()=>Oe});var m={};n.r(m),n.d(m,{code:()=>Le,decode:()=>Fe,encode:()=>Be,name:()=>Re});var y=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(255!==n[o])throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,s=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*l+1>>>0,o=new Uint8Array(i);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=i-1;(0!==u||h<s)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");s=h,t++}if(" "!==e[t]){for(var f=i-s;f!==i&&0===o[f];)f++;for(var p=new Uint8Array(r+(i-f)),g=r;f!==i;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,s=0,i=t.length;s!==i&&0===t[s];)s++,n++;for(var o=(i-s)*u+1>>>0,l=new Uint8Array(o);s!==i;){for(var h=t[s],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,s++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error(`Non-${t} character`)}}};const b=y,w=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class v{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class A{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return k(this,e)}}class E{constructor(e){this.decoders=e}or(e){return k(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const k=(e,t)=>new E({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class P{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new v(e,t,n),this.decoder=new A(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const x=({name:e,prefix:t,encode:n,decode:r})=>new P(e,t,n,r),_=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=b(n,t);return x({prefix:e,name:t,encode:r,decode:e=>w(s(e))})},C=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>x({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],s=(1<<n)-1;let i="",o=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const s={};for(let e=0;e<t.length;++e)s[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let t=0;t<i;++t){const i=s[e[t]];if(void 0===i)throw new SyntaxError(`Non-${r} character`);c=c<<n|i,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,r,n,e)}),S=x({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),O=C({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),I=C({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),T=_({prefix:"9",name:"base10",alphabet:"0123456789"}),N=C({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),U=C({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),j=C({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),R=C({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L=C({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),B=C({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F=C({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),D=C({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),M=C({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$=C({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),G=C({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),H=_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),z=_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),W=_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),q=_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),K=C({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),V=C({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),J=C({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Q=C({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Y=Array.from(""),Z=Y.reduce(((e,t,n)=>(e[n]=t,e)),[]),X=Y.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const ee=x({prefix:"",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=Z[t]),"")},decode:function(e){const t=[];for(const n of e){const e=X[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var te=function e(t,n,r){n=n||[];var s=r=r||0;for(;t>=se;)n[r++]=255&t|ne,t/=128;for(;t&re;)n[r++]=255&t|ne,t>>>=7;return n[r]=0|t,e.bytes=r-s+1,n},ne=128,re=-128,se=Math.pow(2,31);var ie=function e(t,n){var r,s=0,i=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],s+=i<28?(r&ae)<<i:(r&ae)*Math.pow(2,i),i+=7}while(r>=oe);return e.bytes=o-n,s},oe=128,ae=127;var ce=Math.pow(2,7),le=Math.pow(2,14),ue=Math.pow(2,21),he=Math.pow(2,28),de=Math.pow(2,35),fe=Math.pow(2,42),pe=Math.pow(2,49),ge=Math.pow(2,56),me=Math.pow(2,63);const ye={encode:te,decode:ie,encodingLength:function(e){return e<ce?1:e<le?2:e<ue?3:e<he?4:e<de?5:e<fe?6:e<pe?7:e<ge?8:e<me?9:10}},be=(e,t,n=0)=>(ye.encode(e,t,n),t),we=e=>ye.encodingLength(e),ve=(e,t)=>{const n=t.byteLength,r=we(e),s=r+we(n),i=new Uint8Array(s+n);return be(e,i,0),be(n,i,r),i.set(t,s),new Ae(e,n,t,i)};class Ae{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Ee=({name:e,code:t,encode:n})=>new ke(e,t,n);class ke{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ve(this.code,t):t.then((e=>ve(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Pe=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),xe=Ee({name:"sha2-256",code:18,encode:Pe("SHA-256")}),_e=Ee({name:"sha2-512",code:19,encode:Pe("SHA-512")}),Ce=w,Se={code:0,name:"identity",encode:Ce,digest:e=>ve(0,Ce(e))},Oe="raw",Ie=85,Te=e=>w(e),Ne=e=>w(e),Ue=new TextEncoder,je=new TextDecoder,Re="json",Le=512,Be=e=>Ue.encode(JSON.stringify(e)),Fe=e=>JSON.parse(je.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const De={...r,...s,...i,...o,...a,...c,...l,...u,...h,...d};var Me=n(3160);function $e(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Ge=$e("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),He=$e("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=(0,Me.E)(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),ze={utf8:Ge,"utf-8":Ge,hex:De.base16,latin1:He,ascii:He,binary:He,...De}},4503:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}n.d(t,{T:()=>r})},6143:(e,t,n)=>{"use strict";n.d(t,{R:()=>w});var r=n(4503),s=n(6693);const i="0x82ad56cb";var o=n(2027),a=n(377),c=n(5980),l=n(7210),u=n(7799),h=n(2676),d=n(2106),f=n(6445),p=n(7469);var g=n(1163),m=n(4688),y=n(2357),b=n(7531);async function w(e,t){const{account:w=e.account,batch:v=Boolean(e.batch?.multicall),blockNumber:A,blockTag:E="latest",accessList:k,data:P,gas:x,gasPrice:_,maxFeePerGas:C,maxPriorityFeePerGas:S,nonce:O,to:I,value:T,...N}=t,U=w?(0,r.T)(w):void 0;try{(0,b.F)(t);const n=(A?(0,d.eC)(A):void 0)||E,r=e.chain?.formatters?.transactionRequest?.format||m.tG,o=r({...(0,g.K)(N,{format:r}),from:U?.address,accessList:k,data:P,gas:x,gasPrice:_,maxFeePerGas:C,maxPriorityFeePerGas:S,nonce:O,to:I,value:T});if(v&&function({request:e}){const{data:t,to:n,...r}=e;return!!t&&(!t.startsWith(i)&&(!!n&&!(Object.values(r).filter((e=>void 0!==e)).length>0)))}({request:o}))try{return await async function(e,t){const{batchSize:n=1024,wait:r=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:i,blockTag:o="latest",data:f,multicallAddress:p,to:g}=t;let m=p;if(!m){if(!e.chain)throw new a.pZ;m=(0,h.LI)({blockNumber:i,chain:e.chain,contract:"multicall3"})}const b=i?(0,d.eC)(i):void 0,w=b||o,{schedule:v}=(0,y.S)({id:`${e.uid}.${w}`,wait:r,shouldSplitBatch(e){const t=e.reduce(((e,{data:t})=>e+(t.length-2)),0);return t>2*n},fn:async t=>{const n=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),r=(0,u.R)({abi:s.F8,args:[n],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{data:r,to:m},w]});return(0,l.k)({abi:s.F8,args:[n],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:A,success:E}]=await v({data:f,to:g});if(!E)throw new c.VQ({data:A});return"0x"===A?{data:void 0}:{data:A}}(e,{...o,blockNumber:A,blockTag:E})}catch(e){if(!(e instanceof a.pZ||e instanceof a.mm))throw e}const f=await e.request({method:"eth_call",params:n?[o,n]:[o]});return"0x"===f?{data:void 0}:{data:f}}catch(r){const s=function(e){if(!(e instanceof o.G))return;const t=e.walk();return"object"==typeof t.data?t.data.data:t.data}(r),{offchainLookup:i,offchainLookupSignature:a}=await n.e(770).then(n.bind(n,9770));if(s?.slice(0,10)===a&&I)return{data:await i(e,{data:s,to:I})};throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,p.k)(e,n);return t instanceof f.cj?e:t})();return new c.cg(r,{docsPath:t,...n})}(r,{...t,account:U,chain:e.chain})}}},6693:(e,t,n)=>{"use strict";n.d(t,{$o:()=>l,F8:()=>r,X$:()=>c,du:()=>o,k3:()=>i,nZ:()=>a});const r=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],s=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],i=[...s,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],o=[...s,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],a=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],c=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],l=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}]},1746:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,Up:()=>s,hZ:()=>i});const r={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},s={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},i={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},4192:(e,t,n)=>{"use strict";n.d(t,{Bd:()=>i,Zn:()=>s,ez:()=>r});const r={gwei:9,wei:18},s={ether:-9,wei:9},i={ether:-18,gwei:-9}},7412:(e,t,n)=>{"use strict";n.d(t,{CI:()=>k,FM:()=>p,Gy:()=>A,KY:()=>w,M4:()=>h,MX:()=>b,SM:()=>v,cO:()=>a,dh:()=>E,fM:()=>o,fs:()=>d,gr:()=>u,hn:()=>P,lC:()=>g,mv:()=>m,wM:()=>x,wb:()=>l,xB:()=>c,xL:()=>y,yP:()=>f});var r=n(522),s=n(9135),i=n(2027);class o extends i.G{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class a extends i.G{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class c extends i.G{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.h)(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class l extends i.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class u extends i.G{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class h extends i.G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,s.d)(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class d extends i.G{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class f extends i.G{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class p extends i.G{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class g extends i.G{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class m extends i.G{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class y extends i.G{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class b extends i.G{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class w extends i.G{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class v extends i.G{constructor({abiItem:e,data:t,params:n,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.h)(n,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=s}}class A extends i.G{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,r.t)(e,{includeName:!0})}".`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class E extends i.G{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class k extends i.G{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class P extends i.G{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class x extends i.G{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}},6087:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(2027);class s extends r.G{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}},2027:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var r=n(8673);class s extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,r.bo)()});const n=t.cause instanceof s?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof s&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return i(this,e)}}function i(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?i(e.cause,t):t?null:e}},377:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>o,Yl:()=>i,mm:()=>s,pZ:()=>a});var r=n(2027);class s extends r.G{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class i extends r.G{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class o extends r.G{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class a extends r.G{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}},5980:(e,t,n)=>{"use strict";n.d(t,{cg:()=>m,uq:()=>y,Lu:()=>b,Dk:()=>w,VQ:()=>v});var r=n(4503),s=n(1746),i=n(6899),o=n(522),a=n(6070);function c({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map(((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?(0,a.P)(t[n]):t[n]}`)).join(", ")})`}var l=n(840),u=n(9625),h=n(7795),d=n(7412),f=n(2027),p=n(3639),g=n(8673);class m extends f.G{constructor(e,{account:t,docsPath:n,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:g}){const m=t?(0,r.T)(t):void 0,y=(0,p.xr)({from:m?.address,to:f,value:void 0!==g&&`${(0,u.d)(g)} ${s?.nativeCurrency.symbol||"ETH"}`,data:i,gas:o,gasPrice:void 0!==a&&`${(0,h.o)(a)} gwei`,maxFeePerGas:void 0!==c&&`${(0,h.o)(c)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,h.o)(l)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class y extends f.G{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:i,sender:a}){const u=(0,l.m)({abi:t,args:n,name:i}),h=u?c({abiItem:u,args:n,includeFunctionName:!1,includeName:!1}):void 0,d=u?(0,o.t)(u,{includeName:!0}):void 0,f=(0,p.xr)({address:r&&(0,g.CR)(r),function:d,args:h&&"()"!==h&&`${[...Array(i?.length??0).keys()].map((()=>" ")).join("")}${h}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=i,this.sender=a}}class b extends f.G{constructor({abi:e,data:t,functionName:n,message:r}){let a,l,u,h,f;if(t&&"0x"!==t)try{l=(0,i.p)({abi:e,data:t});const{abiItem:n,errorName:r,args:a}=l;if("Error"===r)h=a[0];else if("Panic"===r){const[e]=a;h=s.$[e]}else{const e=n?(0,o.t)(n,{includeName:!0}):void 0,t=n&&a?c({abiItem:n,args:a,includeFunctionName:!1,includeName:!1}):void 0;u=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(e){a=e}else r&&(h=r);a instanceof d.yP&&(f=a.signature,u=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]),super(h&&"execution reverted"!==h||f?[`The contract function "${n}" reverted with the following ${f?"signature":"reason"}:`,h||f].join("\n"):`The contract function "${n}" reverted.`,{cause:a,metaMessages:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.reason=h,this.signature=f}}class w extends f.G{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class v extends f.G{constructor({data:e,message:t}){super(t||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},9760:(e,t,n)=>{"use strict";n.d(t,{$:()=>i,m:()=>s});var r=n(2027);class s extends r.G{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class i extends r.G{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}},7788:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>i,J5:()=>s,M6:()=>o});var r=n(2027);class s extends r.G{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number "${s}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class i extends r.G{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class o extends r.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}},6445:(e,t,n)=>{"use strict";n.d(t,{C_:()=>h,G$:()=>a,Hh:()=>o,M_:()=>i,WF:()=>d,ZI:()=>c,cj:()=>m,cs:()=>g,dR:()=>f,pZ:()=>p,se:()=>u,vU:()=>l});var r=n(7795),s=n(2027);class i extends s.G{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class o extends s.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.o)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class a extends s.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.o)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends s.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends s.G{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends s.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class h extends s.G{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class d extends s.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class f extends s.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends s.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class g extends s.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,r.o)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${(0,r.o)(n)} gwei`:""}).`].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class m extends s.G{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}},8863:(e,t,n)=>{"use strict";n.d(t,{Gg:()=>o,W5:()=>l,bs:()=>c,c9:()=>a});var r=n(6070),s=n(2027),i=n(8673);class o extends s.G{constructor({body:e,details:t,headers:n,status:s,url:o}){super("HTTP request failed.",{details:t,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,i.Gr)(o)}`,e&&`Request body: ${(0,r.P)(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=s,this.url=o}}class a extends s.G{constructor({body:e,details:t,url:n}){super("WebSocket request failed.",{details:t,metaMessages:[`URL: ${(0,i.Gr)(n)}`,`Request body: ${(0,r.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class c extends s.G{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,i.Gr)(n)}`,`Request body: ${(0,r.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class l extends s.G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,i.Gr)(t)}`,`Request body: ${(0,r.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}},3639:(e,t,n)=>{"use strict";n.d(t,{Bh:()=>u,Yb:()=>h,j3:()=>c,mc:()=>d,mk:()=>l,xY:()=>a,xr:()=>o});var r=n(9625),s=n(7795),i=n(2027);function o(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),n=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`)).join("\n")}class a extends i.G{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class c extends i.G{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",o(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class l extends i.G{constructor(e,{account:t,docsPath:n,chain:i,data:a,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:d,to:f,value:p}){const g=o({chain:i&&`${i?.name} (id: ${i?.id})`,from:t?.address,to:f,value:void 0!==p&&`${(0,r.d)(p)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:c,gasPrice:void 0!==l&&`${(0,s.o)(l)} gwei`,maxFeePerGas:void 0!==u&&`${(0,s.o)(u)} gwei`,maxPriorityFeePerGas:void 0!==h&&`${(0,s.o)(h)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class u extends i.G{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:s}){let i="Transaction";n&&void 0!==s&&(i=`Transaction at block time "${n}" at index "${s}"`),e&&void 0!==s&&(i=`Transaction at block hash "${e}" at index "${s}"`),t&&void 0!==s&&(i=`Transaction at block number "${t}" at index "${s}"`),r&&(i=`Transaction with hash "${r}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class h extends i.G{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class d extends i.G{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}},8673:(e,t,n)=>{"use strict";n.d(t,{CR:()=>r,Gr:()=>s,bo:()=>i});const r=e=>e,s=e=>e,i=()=>"viem@1.15.3"},4450:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var r=n(7412),s=n(5775),i=n(9135),o=n(3972),a=n(1836),c=n(5946),l=n(5444);function u(e,t){if("0x"===t&&e.length>0)throw new r.wb;if((0,i.d)(t)&&(0,i.d)(t)<32)throw new r.xB({data:t,params:e,size:(0,i.d)(t)});return function({data:e,params:t}){const n=[];let s=0;for(let o=0;o<t.length;o++){if(s>=(0,i.d)(e))throw new r.xB({data:e,params:t,size:(0,i.d)(e)});const a=t[o],{consumed:c,value:l}=h({data:e,param:a,position:s});n.push(l),s+=c}return n}({data:t,params:e})}function h({data:e,param:t,position:n}){const i=(0,l.S)(t.type);if(i){const[r,s]=i;return function(e,{param:t,length:n,position:r}){if(!n){const n=(0,c.ly)((0,o.tP)(e,r,r+32,{strict:!0})),s=(0,c.ly)((0,o.tP)(e,n,n+32,{strict:!0}));let i=0;const a=[];for(let r=0;r<s;++r){const r=h({data:(0,o.tP)(e,n+32),param:t,position:i});i+=r.consumed,a.push(r.value)}return{value:a,consumed:32}}if(d(t)){const s=(0,l.S)(t.type),i=!s?.[0];let a=0;const u=[];for(let s=0;s<n;++s){const n=(0,c.ly)((0,o.tP)(e,r,r+32,{strict:!0})),l=h({data:(0,o.tP)(e,n),param:t,position:i?a:32*s});a+=l.consumed,u.push(l.value)}return{value:u,consumed:32}}let s=0;const i=[];for(let o=0;o<n;++o){const n=h({data:e,param:t,position:r+s});s+=n.consumed,i.push(n.value)}return{value:i,consumed:s}}(e,{length:r,param:{...t,type:s},position:n})}if("tuple"===t.type)return function(e,{param:t,position:n}){const r=0===t.components.length||t.components.some((({name:e})=>!e)),s=r?[]:{};let i=0;if(d(t)){const a=(0,c.ly)((0,o.tP)(e,n,n+32,{strict:!0}));for(let n=0;n<t.components.length;++n){const c=t.components[n],l=h({data:(0,o.tP)(e,a),param:c,position:i});i+=l.consumed,s[r?n:c?.name]=l.value}return{consumed:32,value:s}}for(let o=0;o<t.components.length;++o){const a=t.components[o],c=h({data:e,param:a,position:n+i});i+=c.consumed,s[r?o:a?.name]=c.value}return{consumed:i,value:s}}(e,{param:t,position:n});if("string"===t.type)return function(e,{position:t}){const n=(0,c.ly)((0,o.tP)(e,t,t+32,{strict:!0})),r=(0,c.ly)((0,o.tP)(e,n,n+32,{strict:!0}));if(0===r)return{consumed:32,value:""};const s=(0,c.rR)((0,a.f)((0,o.tP)(e,n+32,n+32+r,{strict:!0})));return{consumed:32,value:s}}(e,{position:n});if(t.type.startsWith("bytes"))return function(e,{param:t,position:n}){const[r,s]=t.type.split("bytes");if(!s){const t=(0,c.ly)((0,o.tP)(e,n,n+32,{strict:!0})),r=(0,c.ly)((0,o.tP)(e,t,t+32,{strict:!0}));if(0===r)return{consumed:32,value:"0x"};return{consumed:32,value:(0,o.tP)(e,t+32,t+32+r,{strict:!0})}}const i=(0,o.tP)(e,n,n+parseInt(s),{strict:!0});return{consumed:32,value:i}}(e,{param:t,position:n});const u=(0,o.tP)(e,n,n+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,{param:t}){const n=t.type.startsWith("int"),r=parseInt(t.type.split("int")[1]||"256");return{consumed:32,value:r>48?(0,c.y_)(e,{signed:n}):(0,c.ly)(e,{signed:n})}}(u,{param:t});if("address"===t.type)return function(e){return{consumed:32,value:(0,s.x)((0,o.tP)(e,-20))}}(u);if("bool"===t.type)return function(e){return{consumed:32,value:(0,c.XA)(e)}}(u);throw new r.CI(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function d(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(d);const n=(0,l.S)(e.type);return!(!n||!d({...e,type:n[1]}))}},6899:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var r=n(1746),s=n(7412),i=n(3972),o=n(552),a=n(4450),c=n(522);function l({abi:e,data:t}){const n=(0,i.tP)(t,0,4);if("0x"===n)throw new s.wb;const l=[...e||[],r.Up,r.hZ].find((e=>"error"===e.type&&n===(0,o.o)((0,c.t)(e))));if(!l)throw new s.yP(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:l,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,a.r)(l.inputs,(0,i.tP)(t,4)):void 0,errorName:l.name}}},7210:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(7412),s=n(4450),i=n(840);const o="/docs/contract/decodeFunctionResult";function a({abi:e,args:t,functionName:n,data:a}){let c=e[0];if(n&&(c=(0,i.m)({abi:e,args:t,name:n}),!c))throw new r.xL(n,{docsPath:o});if("function"!==c.type)throw new r.xL(void 0,{docsPath:o});if(!c.outputs)throw new r.MX(c.name,{docsPath:o});const l=(0,s.r)(c.outputs,a);return l&&l.length>1?l:l&&1===l.length?l[0]:void 0}},5444:(e,t,n)=>{"use strict";n.d(t,{E:()=>h,S:()=>p});var r=n(7412),s=n(6087),i=n(9321),o=n(7040),a=n(1769),c=n(9135),l=n(3972),u=n(2106);function h(e,t){if(e.length!==t.length)throw new r.fs({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(d({param:e[r],value:t[r]}));return n}({params:e,values:t}),s=f(n);return 0===s.length?"0x":s}function d({param:e,value:t}){const n=p(e.type);if(n){const[s,i]=n;return function(e,{length:t,param:n}){const s=null===t;if(!Array.isArray(e))throw new r.hn(e);if(!s&&e.length!==t)throw new r.gr({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const a=[];for(let t=0;t<e.length;t++){const r=d({param:n,value:e[t]});r.dynamic&&(i=!0),a.push(r)}if(s||i){const e=f(a);if(s){const t=(0,u.eC)(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?(0,o.zo)([t,e]):t}}if(i)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,o.zo)(a.map((({encoded:e})=>e)))}}(t,{length:s,param:{...e,type:i}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=d({param:i,value:e[Array.isArray(e)?s:i.name]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?f(r):(0,o.zo)(r.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!(0,i.U)(e))throw new s.b({address:e});return{dynamic:!1,encoded:(0,a.gc)(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){return{dynamic:!1,encoded:(0,a.gc)((0,u.C4)(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){return function(e,{signed:t}){return{dynamic:!1,encoded:(0,u.eC)(e,{size:32,signed:t})}}(t,{signed:e.type.startsWith("int")})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),s=(0,c.d)(e);if(!n){let t=e;return s%32!=0&&(t=(0,a.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,o.zo)([(0,a.gc)((0,u.eC)(s,{size:32})),t])}}if(s!==parseInt(n))throw new r.M4({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:(0,a.gc)(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=(0,u.$G)(e),n=Math.ceil((0,c.d)(t)/32),r=[];for(let e=0;e<n;e++)r.push((0,a.gc)((0,l.tP)(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,o.zo)([(0,a.gc)((0,u.eC)((0,c.d)(t),{size:32})),...r])}}(t);throw new r.dh(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function f(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:s}=e[n];t+=r?32:(0,c.d)(s)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push((0,u.eC)(t+s,{size:32})),r.push(a),s+=(0,c.d)(a)):n.push(a)}return(0,o.zo)([...n,...r])}function p(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},7799:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var r=n(7412),s=n(7040),i=n(552),o=n(5444),a=n(522),c=n(840);function l({abi:e,args:t,functionName:n}){let l=e[0];if(n&&(l=(0,c.m)({abi:e,args:t,name:n}),!l))throw new r.xL(n,{docsPath:"/docs/contract/encodeFunctionData"});if("function"!==l.type)throw new r.xL(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const u=(0,a.t)(l),h=(0,i.o)(u),d="inputs"in l&&l.inputs?(0,o.E)(l.inputs,t??[]):void 0;return(0,s.SM)([h,d??"0x"])}},522:(e,t,n)=>{"use strict";n.d(t,{h:()=>i,t:()=>s});var r=n(7412);function s(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new r.wM(e.type);return`${e.name}(${i(e.inputs,{includeName:t})})`}function i(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${i(e.components,{includeName:t})})${e.type.slice(5)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}},840:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(5102),s=n(4092),i=n(552),o=n(9321);function a({abi:e,args:t=[],name:n}){const o=(0,r.v)(n,{strict:!1}),a=e.filter((e=>o?"function"===e.type?(0,i.o)(e)===n:"event"===e.type&&(0,s.e)(e)===n:"name"in e&&e.name===n));if(0!==a.length){if(1===a.length)return a[0];for(const e of a){if(!("inputs"in e))continue;if(!t||0===t.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==t.length)continue;if(t.every(((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&c(t,r)})))return e}return a[0]}}function c(e,t){const n=typeof e,r=t.type;switch(r){case"address":return(0,o.U)(e);case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every(((t,n)=>c(Object.values(e)[n],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every((e=>c(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))))}}},5775:(e,t,n)=>{"use strict";n.d(t,{K:()=>c,x:()=>a});var r=n(6087),s=n(1187),i=n(4813),o=n(9321);function a(e,t){const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=(0,i.w)((0,s.qX)(n),"bytes"),o=(t?n.substring(`${t}0x`.length):n).split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&o[e]&&(o[e]=o[e].toUpperCase()),(15&r[e>>1])>=8&&o[e+1]&&(o[e+1]=o[e+1].toUpperCase());return`0x${o.join("")}`}function c(e,t){if(!(0,o.U)(e))throw new r.b({address:e});return a(e,t)}},9321:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});const r=/^0x[a-fA-F0-9]{40}$/;function s(e){return r.test(e)}},2676:(e,t,n)=>{"use strict";n.d(t,{LI:()=>o,ax:()=>i,qg:()=>s});var r=n(377);function s({chain:e,currentChainId:t}){if(!e)throw new r.Bk;if(t!==e.id)throw new r.Yl({chain:e,currentChainId:t})}function i(e,t={}){const{fees:n=e.fees,formatters:r=e.formatters,serializers:s=e.serializers}=t;return{...e,fees:n,formatters:r,serializers:s}}function o({blockNumber:e,chain:t,contract:n}){const s=t?.contracts?.[n];if(!s)throw new r.mm({chain:t,contract:{name:n}});if(e&&s.blockCreated&&s.blockCreated>e)throw new r.mm({blockNumber:e,chain:t,contract:{name:n,blockCreated:s.blockCreated}});return s.address}},7040:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e[0]?s(e):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(e)}function s(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}n.d(t,{SM:()=>s,zo:()=>r})},5102:(e,t,n)=>{"use strict";function r(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}n.d(t,{v:()=>r})},1769:(e,t,n)=>{"use strict";n.d(t,{gc:()=>i,vk:()=>s});var r=n(9760);function s(e,{dir:t,size:n=32}={}){return"string"==typeof e?i(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new r.$({size:e.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let r=0;r<n;r++){const i="right"===t;s[i?r:n-r-1]=e[i?r:e.length-r-1]}return s}(e,{dir:t,size:n})}function i(e,{dir:t,size:n=32}={}){if(null===n)return e;const s=e.replace("0x","");if(s.length>2*n)throw new r.$({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s["right"===t?"padEnd":"padStart"](2*n,"0")}`}},9135:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(5102);function s(e){return(0,r.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},3972:(e,t,n)=>{"use strict";n.d(t,{tP:()=>o});var r=n(9760),s=n(5102),i=n(9135);function o(e,t,n,{strict:r}={}){return(0,s.v)(e,{strict:!1})?function(e,t,n,{strict:r}={}){a(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;r&&c(s,t,n);return s}(e,t,n,{strict:r}):function(e,t,n,{strict:r}={}){a(e,t);const s=e.slice(t,n);r&&c(s,t,n);return s}(e,t,n,{strict:r})}function a(e,t){if("number"==typeof t&&t>0&&t>(0,i.d)(e)-1)throw new r.m({offset:t,position:"start",size:(0,i.d)(e)})}function c(e,t,n){if("number"==typeof t&&"number"==typeof n&&(0,i.d)(e)!==n-t)throw new r.m({offset:n,position:"end",size:(0,i.d)(e)})}},1836:(e,t,n)=>{"use strict";function r(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let e=0;e<n.length-1&&"0"===n["left"===t?e:n.length-e-1].toString();e++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}n.d(t,{f:()=>r})},5946:(e,t,n)=>{"use strict";n.d(t,{XA:()=>l,Yf:()=>a,ly:()=>u,rR:()=>h,y_:()=>c});var r=n(7788),s=n(9135),i=n(1836),o=n(1187);function a(e,{size:t}){if((0,s.d)(e)>t)throw new r.M6({givenSize:(0,s.d)(e),maxSize:t})}function c(e,t={}){const{signed:n}=t;t.size&&a(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2;return r<=(1n<<8n*BigInt(s)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function l(e,t={}){let n=e;if(t.size&&(a(n,{size:t.size}),n=(0,i.f)(n)),"0x00"===(0,i.f)(n))return!1;if("0x01"===(0,i.f)(n))return!0;throw new r.Cd(n)}function u(e,t={}){return Number(c(e,t))}function h(e,t={}){let n=(0,o.nr)(e);return t.size&&(a(n,{size:t.size}),n=(0,i.f)(n,{dir:"right"})),(new TextDecoder).decode(n)}},1187:(e,t,n)=>{"use strict";n.d(t,{O0:()=>l,nr:()=>d,qX:()=>f});var r=n(2027),s=n(5102),i=n(1769),o=n(5946),a=n(2106);const c=new TextEncoder;function l(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const n=(0,a.eC)(e,t);return d(n)}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);if(n[0]=Number(e),"number"==typeof t.size)return(0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{size:t.size});return n}(e,t):(0,s.v)(e)?d(e,t):f(e,t)}const u={zero:48,nine:57,A:65,F:70,a:97,f:102};function h(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function d(e,t={}){let n=e;t.size&&((0,o.Yf)(n,{size:t.size}),n=(0,i.vk)(n,{dir:"right",size:t.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,c=new Uint8Array(a);for(let e=0,t=0;e<a;e++){const n=h(s.charCodeAt(t++)),i=h(s.charCodeAt(t++));if(void 0===n||void 0===i)throw new r.G(`Invalid byte sequence ("${s[t-2]}${s[t-1]}" in "${s}").`);c[e]=16*n+i}return c}function f(e,t={}){const n=c.encode(e);return"number"==typeof t.size?((0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}},2106:(e,t,n)=>{"use strict";n.d(t,{$G:()=>d,C4:()=>c,NC:()=>a,ci:()=>l,eC:()=>u});var r=n(7788),s=n(1769),i=n(5946);const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function a(e,t={}){return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?d(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?((0,i.Yf)(n,{size:t.size}),(0,s.vk)(n,{size:t.size})):n}function l(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=o[e[t]];const r=`0x${n}`;return"number"==typeof t.size?((0,i.Yf)(r,{size:t.size}),(0,s.vk)(r,{dir:"right",size:t.size})):r}function u(e,t={}){const{signed:n,size:i}=t,o=BigInt(e);let a;i?a=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c="bigint"==typeof a&&n?-a-1n:0;if(a&&o>a||o<c){const t="bigint"==typeof e?"n":"";throw new r.J5({max:a?`${a}${t}`:void 0,min:`${c}${t}`,signed:n,size:i,value:`${e}${t}`})}const l=`0x${(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16)}`;return i?(0,s.vk)(l,{size:i}):l}const h=new TextEncoder;function d(e,t={}){return l(h.encode(e),t)}},7469:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(2027),s=n(6445);function i(e,t){const n=(e.details||"").toLowerCase(),i=e.walk((e=>e.code===s.M_.code));return i instanceof r.G?new s.M_({cause:e,message:i.details}):s.M_.nodeMessage.test(n)?new s.M_({cause:e,message:e.details}):s.Hh.nodeMessage.test(n)?new s.Hh({cause:e,maxFeePerGas:t?.maxFeePerGas}):s.G$.nodeMessage.test(n)?new s.G$({cause:e,maxFeePerGas:t?.maxFeePerGas}):s.ZI.nodeMessage.test(n)?new s.ZI({cause:e,nonce:t?.nonce}):s.vU.nodeMessage.test(n)?new s.vU({cause:e,nonce:t?.nonce}):s.se.nodeMessage.test(n)?new s.se({cause:e,nonce:t?.nonce}):s.C_.nodeMessage.test(n)?new s.C_({cause:e}):s.WF.nodeMessage.test(n)?new s.WF({cause:e,gas:t?.gas}):s.dR.nodeMessage.test(n)?new s.dR({cause:e,gas:t?.gas}):s.pZ.nodeMessage.test(n)?new s.pZ({cause:e}):s.cs.nodeMessage.test(n)?new s.cs({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new s.cj({cause:e})}},1163:(e,t,n)=>{"use strict";function r(e,{format:t}){if(!t)return{};return Object.keys(t({})).reduce(((t,n)=>(e?.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}n.d(t,{K:()=>r})},4688:(e,t,n)=>{"use strict";n.d(t,{tG:()=>i});var r=n(2106);const s={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function i(e){return{...e,gas:void 0!==e.gas?(0,r.eC)(e.gas):void 0,gasPrice:void 0!==e.gasPrice?(0,r.eC)(e.gasPrice):void 0,maxFeePerGas:void 0!==e.maxFeePerGas?(0,r.eC)(e.maxFeePerGas):void 0,maxPriorityFeePerGas:void 0!==e.maxPriorityFeePerGas?(0,r.eC)(e.maxPriorityFeePerGas):void 0,nonce:void 0!==e.nonce?(0,r.eC)(e.nonce):void 0,type:void 0!==e.type?s[e.type]:void 0,value:void 0!==e.value?(0,r.eC)(e.value):void 0}}},4092:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(1187),s=n(4154);var i=n(4813);const o=e=>{return t=(e=>(0,s.r)(e))(e),(0,i.w)((0,r.O0)(t));var t}},552:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(3972),s=n(1187),i=n(4154),o=n(4813);const a=e=>{return(0,r.tP)((t=(0,i.r)(e),(0,o.w)((0,s.O0)(t))),0,4);var t}},4154:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(522);const s=/((function|event)\s)?(.*)(\((.*)\))/;function i(e){const t=e.match(s),n=t?.[2]||void 0,r=t?.[3];return{type:n,name:r,params:t?.[5]||void 0}}const o=e=>{if("string"==typeof e){const t=i(e).name,n=function(e){const t=i(e).params,n=t?.split(",").map((e=>e.trim().split(" ")));return n?.map((e=>({type:e[0],name:"indexed"===e[1]?e[2]:e[1],..."indexed"===e[1]?{indexed:!0}:{}})))}(e)||[];return`${t}(${n.map((({type:e})=>e)).join(",")})`}return(0,r.t)(e)}},4813:(e,t,n)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function s(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function o(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}n.d(t,{w:()=>B});const a=BigInt(2**32-1),c=BigInt(32);function l(e,t=!1){return t?{h:Number(e&a),l:Number(e>>c&a)}:{h:0|Number(e>>c&a),l:0|Number(e&a)}}function u(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=l(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const h=(e,t,n)=>e<<n|t>>>32-n,d=(e,t,n)=>t<<n|e>>>32-n,f=(e,t,n)=>t<<n-32|e>>>64-n,p=(e,t,n)=>e<<n-32|t>>>64-n;const g=e=>e instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function m(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!g(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class y{clone(){return this._cloneInto()}}const[b,w,v]=[[],[],[]],A=BigInt(0),E=BigInt(1),k=BigInt(2),P=BigInt(7),x=BigInt(256),_=BigInt(113);for(let e=0,t=E,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],b.push(2*(5*r+n)),w.push((e+1)*(e+2)/2%64);let s=A;for(let e=0;e<7;e++)t=(t<<E^(t>>P)*_)%x,t&k&&(s^=E<<(E<<BigInt(e))-E);v.push(s)}const[C,S]=u(v,!0),O=(e,t,n)=>n>32?f(e,t,n):h(e,t,n),I=(e,t,n)=>n>32?p(e,t,n):d(e,t,n);class T extends y{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,r(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,i=n[s],o=n[s+1],a=O(i,o,1)^n[r],c=I(i,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=w[n],i=O(t,s,r),o=I(t,s,r),a=b[n];t=e[a],s=e[a+1],e[a]=i,e[a+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=C[r],e[1]^=S[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){i(this);const{blockLen:t,state:n}=this,r=(e=m(e)).length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let t=0;t<i;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!=(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){i(this,!1),s(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return r(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(o(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new T(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const N=(e,t,n)=>function(e){const t=t=>e().update(m(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new T(t,e,n))),U=N(1,136,32);var j=n(5102),R=n(1187),L=n(2106);function B(e,t){const n=t||"hex",r=U((0,j.v)(e,{strict:!1})?(0,R.O0)(e):e);return"bytes"===n?r:(0,L.NC)(r)}},2357:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});const r=new Map;function s({fn:e,id:t,shouldSplitBatch:n,wait:s=0}){const i=async()=>{const t=a();o();const n=t.map((({args:e})=>e));0!==n.length&&e(n).then((e=>{t.forEach((({pendingPromise:t},n)=>t.resolve?.([e[n],e])))})).catch((e=>{t.forEach((({pendingPromise:t})=>t.reject?.(e)))}))},o=()=>r.delete(t),a=()=>r.get(t)||[],c=e=>r.set(t,[...a(),e]);return{flush:o,async schedule(e){const t={},r=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),o=n?.([...a().map((({args:e})=>e)),e]);o&&i();return a().length>0?(c({args:e,pendingPromise:t}),r):(c({args:e,pendingPromise:t}),setTimeout(i,s),r)}}}},6070:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});const r=(e,t,n)=>JSON.stringify(e,((e,n)=>{const r="bigint"==typeof n?n.toString():n;return"function"==typeof t?t(e,r):r}),n)},7531:(e,t,n)=>{"use strict";n.d(t,{F:()=>c});var r=n(4503),s=n(6087),i=n(6445),o=n(3639),a=n(9321);function c(e){const{account:t,gasPrice:n,maxFeePerGas:c,maxPriorityFeePerGas:l,to:u}=e,h=t?(0,r.T)(t):void 0;if(h&&!(0,a.U)(h.address))throw new s.b({address:h.address});if(u&&!(0,a.U)(u))throw new s.b({address:u});if(void 0!==n&&(void 0!==c||void 0!==l))throw new o.xY;if(c&&c>2n**256n-1n)throw new i.Hh({maxFeePerGas:c});if(l&&c&&l>c)throw new i.cs({maxFeePerGas:c,maxPriorityFeePerGas:l})}},9625:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(4192),s=n(5229);function i(e,t="wei"){return(0,s.b)(e,r.ez[t])}},7795:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(4192),s=n(5229);function i(e,t="wei"){return(0,s.b)(e,r.Zn[t])}},5229:(e,t,n)=>{"use strict";function r(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}n.d(t,{b:()=>r})},9050:e=>{"use strict";e.exports={version:"1.0.34"}}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=a,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},l.a=(s,i,o)=>{var a;o&&((a=[]).d=-1);var c,l,u,h=new Set,d=s.exports,f=new Promise(((e,t)=>{u=t,l=e}));f[t]=d,f[e]=e=>(a&&e(a),h.forEach(e),f.catch((e=>{}))),s.exports=f,i((s=>{var i;c=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var i=[];i.d=0,s.then((e=>{o[t]=e,r(i)}),(e=>{o[n]=e,r(i)}));var o={};return o[e]=e=>e(i),o}}var a={};return a[e]=e=>{},a[t]=s,a})))(s);var o=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(i=()=>t(o)).r=0;var n=e=>e!==a&&!h.has(e)&&(h.add(e),e&&!e.d&&(i.r++,e.push(i)));c.map((t=>t[e](n)))}));return i.r?l:o()}),(e=>(e?u(f[n]=e):l(d),r(a)))),a&&a.d<0&&(a.d=0)},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);l.r(n);var r={};s=s||[null,i({}),i([]),i(i)];for(var o=2&t&&e;"object"==typeof o&&!~s.indexOf(o);o=i(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,l.d(n,r),n},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>e+".js",l.miniCssF=e=>{},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},l.l=(e,t,n,r)=>{if(o[e])o[e].push(t);else{var s,i;if(void 0!==n)for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var u=a[c];if(u.getAttribute("src")==e){s=u;break}}s||(i=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=e),o[e]=[t];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(d);var r=o[e];if(delete o[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),i&&document.head.appendChild(s)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={296:0};l.f.j=(t,n)=>{var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((n,s)=>r=e[t]=[n,s]));n.push(r[2]=s);var i=l.p+l.u(t),o=new Error;l.l(i,(n=>{if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,r[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,[i,o,a]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in o)l.o(o,r)&&(l.m[r]=o[r]);if(a)a(l)}for(t&&t(n);c<i.length;c++)s=i[c],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();l(1831)})();