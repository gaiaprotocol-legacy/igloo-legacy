(()=>{var e,t,n,r,s,i,o,a={8138:(e,t,n)=>{"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},7038:e=>{var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},5843:e=>{var t=function(e){null==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,e.constructor==Array?this.init_by_array(e,e.length):this.init_seed(e)};t.prototype.init_seed=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},t.prototype.init_by_array=function(e,t){var n,r,s;for(this.init_seed(19650218),n=1,r=0,s=this.N>t?this.N:t;s;s--){var i=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1664525*((4294901760&i)>>>16)<<16)+1664525*(65535&i))+e[r]+r,this.mt[n]>>>=0,r++,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),r>=t&&(r=0)}for(s=this.N-1;s;s--){i=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1566083941*((4294901760&i)>>>16)<<16)+1566083941*(65535&i))-n,this.mt[n]>>>=0,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1)}this.mt[0]=2147483648},t.prototype.random_int=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_seed(5489),n=0;n<this.N-this.M;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^e>>>1^t[1&e];for(;n<this.N-1;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},t.prototype.random_int31=function(){return this.random_int()>>>1},t.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},t.prototype.random=function(){return this.random_int()*(1/4294967296)},t.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},t.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)},e.exports=t},6081:(e,t,n)=>{var r;if("object"==typeof globalThis)r=globalThis;else try{r=n(7038)}catch(e){}finally{if(r||"undefined"==typeof window||(r=window),!r)throw new Error("Could not determine global this")}var s=r.WebSocket||r.MozWebSocket,i=n(5373);function o(e,t){return t?new s(e,t):new s(e)}s&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return s[e]}})})),e.exports={w3cwebsocket:s?o:null,version:i}},5373:(e,t,n)=>{e.exports=n(9050).version},8099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7117);function s(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function l(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function u(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),u(e/4294967296>>>0,t,n),u(e>>>0,t,n+4),t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),h(e>>>0,t,n),h(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=s,t.writeInt16BE=s,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=o,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=l,t.writeUint32BE=u,t.writeInt32BE=u,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=o(e,t),r=o(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=l(e,t);return 4294967296*l(e,t+4)+n},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=f,t.writeInt64LE=f,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,s=1,i=e/8+n-1;i>=n;i--)r+=t[i]*s,s*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,s=1,i=n;i<n+e/8;i++)r+=t[i]*s,s*=256;return r},t.writeUintBE=function(e,t,n,s){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===s&&(s=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,o=e/8+s-1;o>=s;o--)n[o]=t/i&255,i*=256;return n},t.writeUintLE=function(e,t,n,s){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===s&&(s=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,o=s;o<s+e/8;o++)n[o]=t/i&255,i*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},5439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),s=n(7309),i=20;function o(e,t,n){for(var s=1634760805,o=857760878,a=2036477234,c=1797285236,l=n[3]<<24|n[2]<<16|n[1]<<8|n[0],u=n[7]<<24|n[6]<<16|n[5]<<8|n[4],h=n[11]<<24|n[10]<<16|n[9]<<8|n[8],d=n[15]<<24|n[14]<<16|n[13]<<8|n[12],f=n[19]<<24|n[18]<<16|n[17]<<8|n[16],p=n[23]<<24|n[22]<<16|n[21]<<8|n[20],m=n[27]<<24|n[26]<<16|n[25]<<8|n[24],g=n[31]<<24|n[30]<<16|n[29]<<8|n[28],b=t[3]<<24|t[2]<<16|t[1]<<8|t[0],y=t[7]<<24|t[6]<<16|t[5]<<8|t[4],v=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],_=s,E=o,k=a,S=c,P=l,O=u,x=h,C=d,T=f,I=p,A=m,j=g,N=b,$=y,M=v,U=w,L=0;L<i;L+=2)P=(P^=T=T+(N=(N^=_=_+P|0)>>>16|N<<16)|0)>>>20|P<<12,O=(O^=I=I+($=($^=E=E+O|0)>>>16|$<<16)|0)>>>20|O<<12,x=(x^=A=A+(M=(M^=k=k+x|0)>>>16|M<<16)|0)>>>20|x<<12,C=(C^=j=j+(U=(U^=S=S+C|0)>>>16|U<<16)|0)>>>20|C<<12,x=(x^=A=A+(M=(M^=k=k+x|0)>>>24|M<<8)|0)>>>25|x<<7,C=(C^=j=j+(U=(U^=S=S+C|0)>>>24|U<<8)|0)>>>25|C<<7,O=(O^=I=I+($=($^=E=E+O|0)>>>24|$<<8)|0)>>>25|O<<7,P=(P^=T=T+(N=(N^=_=_+P|0)>>>24|N<<8)|0)>>>25|P<<7,O=(O^=A=A+(U=(U^=_=_+O|0)>>>16|U<<16)|0)>>>20|O<<12,x=(x^=j=j+(N=(N^=E=E+x|0)>>>16|N<<16)|0)>>>20|x<<12,C=(C^=T=T+($=($^=k=k+C|0)>>>16|$<<16)|0)>>>20|C<<12,P=(P^=I=I+(M=(M^=S=S+P|0)>>>16|M<<16)|0)>>>20|P<<12,C=(C^=T=T+($=($^=k=k+C|0)>>>24|$<<8)|0)>>>25|C<<7,P=(P^=I=I+(M=(M^=S=S+P|0)>>>24|M<<8)|0)>>>25|P<<7,x=(x^=j=j+(N=(N^=E=E+x|0)>>>24|N<<8)|0)>>>25|x<<7,O=(O^=A=A+(U=(U^=_=_+O|0)>>>24|U<<8)|0)>>>25|O<<7;r.writeUint32LE(_+s|0,e,0),r.writeUint32LE(E+o|0,e,4),r.writeUint32LE(k+a|0,e,8),r.writeUint32LE(S+c|0,e,12),r.writeUint32LE(P+l|0,e,16),r.writeUint32LE(O+u|0,e,20),r.writeUint32LE(x+h|0,e,24),r.writeUint32LE(C+d|0,e,28),r.writeUint32LE(T+f|0,e,32),r.writeUint32LE(I+p|0,e,36),r.writeUint32LE(A+m|0,e,40),r.writeUint32LE(j+g|0,e,44),r.writeUint32LE(N+b|0,e,48),r.writeUint32LE($+y|0,e,52),r.writeUint32LE(M+v|0,e,56),r.writeUint32LE(U+w|0,e,60)}function a(e,t,n,r,i){if(void 0===i&&(i=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var a,l;if(0===i){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");l=(a=new Uint8Array(16)).length-t.length,a.set(t,l)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");a=t,l=i}for(var u=new Uint8Array(64),h=0;h<n.length;h+=64){o(u,a,e);for(var d=h;d<h+64&&d<n.length;d++)r[d]=n[d]^u[d-h];c(a,0,l)}return s.wipe(u),0===i&&s.wipe(a),r}function c(e,t,n){for(var r=1;n--;)r=r+(255&e[t])|0,e[t]=255&r,r>>>=8,t++;if(r>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=a,t.stream=function(e,t,n,r){return void 0===r&&(r=0),s.wipe(n),a(e,t,n,n,r)}},5501:(e,t,n)=>{"use strict";var r=n(5439),s=n(3027),i=n(7309),o=n(8099),a=n(4153);t.Cv=32,t.WH=12,t.pg=16;var c=new Uint8Array(16),l=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,s){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var a=new Uint8Array(32);r.stream(this._key,o,a,4);var c,l=t.length+this.tagLength;if(s){if(s.length!==l)throw new Error("ChaCha20Poly1305: incorrect destination length");c=s}else c=new Uint8Array(l);return r.streamXOR(this._key,o,t,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),n),i.wipe(o),c},e.prototype.open=function(e,t,n,s){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(e,o.length-e.length);var c=new Uint8Array(32);r.stream(this._key,o,c,4);var l=new Uint8Array(this.tagLength);if(this._authenticate(l,c,t.subarray(0,t.length-this.tagLength),n),!a.equal(l,t.subarray(t.length-this.tagLength,t.length)))return null;var u,h=t.length-this.tagLength;if(s){if(s.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");u=s}else u=new Uint8Array(h);return r.streamXOR(this._key,o,t.subarray(0,t.length-this.tagLength),u,4),i.wipe(o),u},e.prototype.clean=function(){return i.wipe(this._key),this},e.prototype._authenticate=function(e,t,n,r){var a=new s.Poly1305(t);r&&(a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16))),a.update(n),n.length%16>0&&a.update(c.subarray(n.length%16));var l=new Uint8Array(8);r&&o.writeUint64LE(r.length,l),a.update(l),o.writeUint64LE(n.length,l),a.update(l);for(var u=a.digest(),h=0;h<u.length;h++)e[h]=u[h];a.clean(),i.wipe(u),i.wipe(l)},e}();t.OK=l},4153:(e,t)=>{"use strict";function n(e,t){if(e.length!==t.length)return 0;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 1&n-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,n){return~(e-1)&t|e-1&n},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=n,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==n(e,t)}},9984:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},512:(e,t,n)=>{"use strict";var r=n(5629),s=n(7309),i=function(){function e(e,t,n,s){void 0===n&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=s;var i=r.hmac(this._hash,n,t);this._hmac=new r.HMAC(e,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),s.wipe(this._buffer),s.wipe(this._counter),this._bufpos=0},e}();t.t=i},5629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9984),s=n(4153),i=n(7309),o=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var s=0;s<n.length;s++)n[s]^=54;this._inner.update(n);for(s=0;s<n.length;s++)n[s]^=106;this._outer.update(n),r.isSerializableHash(this._inner)&&r.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),i.wipe(n)}return e.prototype.reset=function(){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){r.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),r.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=o,t.hmac=function(e,t,n){var r=new o(e,t);r.update(n);var s=r.digest();return r.clean(),s},t.equal=s.equal},7117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},3027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4153),s=n(7309);t.DIGEST_LENGTH=16;var i=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=8191&n;var r=e[2]|e[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var s=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|s<<6);var i=e[6]|e[7]<<8;this._r[3]=8191&(s>>>7|i<<9);var o=e[8]|e[9]<<8;this._r[4]=255&(i>>>4|o<<12),this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(o>>>14|a<<2);var c=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var l=e[14]|e[15]<<8;this._r[8]=8191&(c>>>8|l<<8),this._r[9]=l>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,n){for(var r=this._fin?0:2048,s=this._h[0],i=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],l=this._h[5],u=this._h[6],h=this._h[7],d=this._h[8],f=this._h[9],p=this._r[0],m=this._r[1],g=this._r[2],b=this._r[3],y=this._r[4],v=this._r[5],w=this._r[6],_=this._r[7],E=this._r[8],k=this._r[9];n>=16;){var S=e[t+0]|e[t+1]<<8;s+=8191&S;var P=e[t+2]|e[t+3]<<8;i+=8191&(S>>>13|P<<3);var O=e[t+4]|e[t+5]<<8;o+=8191&(P>>>10|O<<6);var x=e[t+6]|e[t+7]<<8;a+=8191&(O>>>7|x<<9);var C=e[t+8]|e[t+9]<<8;c+=8191&(x>>>4|C<<12),l+=C>>>1&8191;var T=e[t+10]|e[t+11]<<8;u+=8191&(C>>>14|T<<2);var I=e[t+12]|e[t+13]<<8;h+=8191&(T>>>11|I<<5);var A=e[t+14]|e[t+15]<<8,j=0,N=j;N+=s*p,N+=i*(5*k),N+=o*(5*E),N+=a*(5*_),j=(N+=c*(5*w))>>>13,N&=8191,N+=l*(5*v),N+=u*(5*y),N+=h*(5*b),N+=(d+=8191&(I>>>8|A<<8))*(5*g);var $=j+=(N+=(f+=A>>>5|r)*(5*m))>>>13;$+=s*m,$+=i*p,$+=o*(5*k),$+=a*(5*E),j=($+=c*(5*_))>>>13,$&=8191,$+=l*(5*w),$+=u*(5*v),$+=h*(5*y),$+=d*(5*b),j+=($+=f*(5*g))>>>13,$&=8191;var M=j;M+=s*g,M+=i*m,M+=o*p,M+=a*(5*k),j=(M+=c*(5*E))>>>13,M&=8191,M+=l*(5*_),M+=u*(5*w),M+=h*(5*v),M+=d*(5*y);var U=j+=(M+=f*(5*b))>>>13;U+=s*b,U+=i*g,U+=o*m,U+=a*p,j=(U+=c*(5*k))>>>13,U&=8191,U+=l*(5*E),U+=u*(5*_),U+=h*(5*w),U+=d*(5*v);var L=j+=(U+=f*(5*y))>>>13;L+=s*y,L+=i*b,L+=o*g,L+=a*m,j=(L+=c*p)>>>13,L&=8191,L+=l*(5*k),L+=u*(5*E),L+=h*(5*_),L+=d*(5*w);var R=j+=(L+=f*(5*v))>>>13;R+=s*v,R+=i*y,R+=o*b,R+=a*g,j=(R+=c*m)>>>13,R&=8191,R+=l*p,R+=u*(5*k),R+=h*(5*E),R+=d*(5*_);var D=j+=(R+=f*(5*w))>>>13;D+=s*w,D+=i*v,D+=o*y,D+=a*b,j=(D+=c*g)>>>13,D&=8191,D+=l*m,D+=u*p,D+=h*(5*k),D+=d*(5*E);var F=j+=(D+=f*(5*_))>>>13;F+=s*_,F+=i*w,F+=o*v,F+=a*y,j=(F+=c*b)>>>13,F&=8191,F+=l*g,F+=u*m,F+=h*p,F+=d*(5*k);var B=j+=(F+=f*(5*E))>>>13;B+=s*E,B+=i*_,B+=o*w,B+=a*v,j=(B+=c*y)>>>13,B&=8191,B+=l*b,B+=u*g,B+=h*m,B+=d*p;var G=j+=(B+=f*(5*k))>>>13;G+=s*k,G+=i*E,G+=o*_,G+=a*w,j=(G+=c*v)>>>13,G&=8191,G+=l*y,G+=u*b,G+=h*g,G+=d*m,s=N=8191&(j=(j=((j+=(G+=f*p)>>>13)<<2)+j|0)+(N&=8191)|0),i=$+=j>>>=13,o=M&=8191,a=U&=8191,c=L&=8191,l=R&=8191,u=D&=8191,h=F&=8191,d=B&=8191,f=G&=8191,t+=16,n-=16}this._h[0]=s,this._h[1]=i,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=l,this._h[6]=u,this._h[7]=h,this._h[8]=d,this._h[9]=f},e.prototype.finish=function(e,t){void 0===t&&(t=0);var n,r,s,i,o=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=n,n=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,o[0]=this._h[0]+5,n=o[0]>>>13,o[0]&=8191,i=1;i<10;i++)o[i]=this._h[i]+n,n=o[i]>>>13,o[i]&=8191;for(o[9]-=8192,r=(1^n)-1,i=0;i<10;i++)o[i]&=r;for(r=~r,i=0;i<10;i++)this._h[i]=this._h[i]&r|o[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),s=this._h[0]+this._pad[0],this._h[0]=65535&s,i=1;i<8;i++)s=(this._h[i]+this._pad[i]|0)+(s>>>16)|0,this._h[i]=65535&s;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,n=0,r=e.length;if(this._leftover){(t=16-this._leftover)>r&&(t=r);for(var s=0;s<t;s++)this._buffer[this._leftover+s]=e[n+s];if(r-=t,n+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(t=r-r%16,this._blocks(e,n,t),n+=t,r-=t),r){for(s=0;s<r;s++)this._buffer[this._leftover+s]=e[n+s];this._leftover+=r}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return s.wipe(this._buffer),s.wipe(this._r),s.wipe(this._h),s.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=i,t.oneTimeAuth=function(e,t){var n=new i(e);n.update(t);var r=n.digest();return n.clean(),r},t.equal=function(e,n){return e.length===t.DIGEST_LENGTH&&n.length===t.DIGEST_LENGTH&&r.equal(e,n)}},1416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const r=n(6008),s=n(8099),i=n(7309);function o(e,n=t.defaultRandomSource){return n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=o,t.randomUint32=function(e=t.defaultRandomSource){const n=o(4,e),r=(0,s.readUint32LE)(n);return(0,i.wipe)(n),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,n=a,r=t.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let s="";const c=n.length,l=256-256%c;for(;e>0;){const t=o(Math.ceil(256*e/l),r);for(let r=0;r<t.length&&e>0;r++){const i=t[r];i<l&&(s+=n.charAt(i%c),e--)}(0,i.wipe)(t)}return s}t.randomString=c,t.randomStringForEntropy=function(e,n=a,r=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},5455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}},8871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(7309);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let e=0;e<n.length;e++)n[e]=t[e];return(0,r.wipe)(t),n}}},6008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(5455),s=n(8871);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new s.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},3294:(e,t,n)=>{"use strict";var r=n(8099),s=n(7309);t.k=32,t.cn=64;var i=function(){function e(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){s.wipe(this._buffer),s.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=a(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,s=t/536870912|0,i=t<<3,o=t%64<56?64:128;this._buffer[n]=128;for(var c=n+1;c<o-8;c++)this._buffer[c]=0;r.writeUint32BE(s,this._buffer,o-8),r.writeUint32BE(i,this._buffer,o-4),a(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/4;c++)r.writeUint32BE(this._state[c],e,4*c);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){s.wipe(e.state),e.buffer&&s.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.mE=i;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,n,s,i){for(;i>=64;){for(var a=t[0],c=t[1],l=t[2],u=t[3],h=t[4],d=t[5],f=t[6],p=t[7],m=0;m<16;m++){var g=s+4*m;e[m]=r.readUint32BE(n,g)}for(m=16;m<64;m++){var b=e[m-2],y=(b>>>17|b<<15)^(b>>>19|b<<13)^b>>>10,v=((b=e[m-15])>>>7|b<<25)^(b>>>18|b<<14)^b>>>3;e[m]=(y+e[m-7]|0)+(v+e[m-16]|0)}for(m=0;m<64;m++){y=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&f)|0)+(p+(o[m]+e[m]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&l^c&l)|0;p=f,f=d,d=h,h=u+y|0,u=l,l=c,c=a,a=y+v|0}t[0]+=a,t[1]+=c,t[2]+=l,t[3]+=u,t[4]+=h,t[5]+=d,t[6]+=f,t[7]+=p,s+=64,i-=64}return s}t.vp=function(e){var t=new i;t.update(e);var n=t.digest();return t.clean(),n}},7309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},7664:(e,t,n)=>{"use strict";t.gi=t.Au=t.KS=t.kz=void 0;const r=n(1416),s=n(7309);function i(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.kz=32,t.KS=32;const o=new Uint8Array(32);o[0]=9;const a=i([56129,1]);function c(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function l(e,t,n){const r=~(n-1);for(let n=0;n<16;n++){const s=r&(e[n]^t[n]);e[n]^=s,t[n]^=s}}function u(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function h(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function d(e,t,n){let r,s,i=0,o=0,a=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,b=0,y=0,v=0,w=0,_=0,E=0,k=0,S=0,P=0,O=0,x=0,C=0,T=0,I=0,A=0,j=0,N=0,$=0,M=0,U=n[0],L=n[1],R=n[2],D=n[3],F=n[4],B=n[5],G=n[6],W=n[7],z=n[8],q=n[9],H=n[10],K=n[11],V=n[12],J=n[13],Y=n[14],X=n[15];r=t[0],i+=r*U,o+=r*L,a+=r*R,c+=r*D,l+=r*F,u+=r*B,h+=r*G,d+=r*W,f+=r*z,p+=r*q,m+=r*H,g+=r*K,b+=r*V,y+=r*J,v+=r*Y,w+=r*X,r=t[1],o+=r*U,a+=r*L,c+=r*R,l+=r*D,u+=r*F,h+=r*B,d+=r*G,f+=r*W,p+=r*z,m+=r*q,g+=r*H,b+=r*K,y+=r*V,v+=r*J,w+=r*Y,_+=r*X,r=t[2],a+=r*U,c+=r*L,l+=r*R,u+=r*D,h+=r*F,d+=r*B,f+=r*G,p+=r*W,m+=r*z,g+=r*q,b+=r*H,y+=r*K,v+=r*V,w+=r*J,_+=r*Y,E+=r*X,r=t[3],c+=r*U,l+=r*L,u+=r*R,h+=r*D,d+=r*F,f+=r*B,p+=r*G,m+=r*W,g+=r*z,b+=r*q,y+=r*H,v+=r*K,w+=r*V,_+=r*J,E+=r*Y,k+=r*X,r=t[4],l+=r*U,u+=r*L,h+=r*R,d+=r*D,f+=r*F,p+=r*B,m+=r*G,g+=r*W,b+=r*z,y+=r*q,v+=r*H,w+=r*K,_+=r*V,E+=r*J,k+=r*Y,S+=r*X,r=t[5],u+=r*U,h+=r*L,d+=r*R,f+=r*D,p+=r*F,m+=r*B,g+=r*G,b+=r*W,y+=r*z,v+=r*q,w+=r*H,_+=r*K,E+=r*V,k+=r*J,S+=r*Y,P+=r*X,r=t[6],h+=r*U,d+=r*L,f+=r*R,p+=r*D,m+=r*F,g+=r*B,b+=r*G,y+=r*W,v+=r*z,w+=r*q,_+=r*H,E+=r*K,k+=r*V,S+=r*J,P+=r*Y,O+=r*X,r=t[7],d+=r*U,f+=r*L,p+=r*R,m+=r*D,g+=r*F,b+=r*B,y+=r*G,v+=r*W,w+=r*z,_+=r*q,E+=r*H,k+=r*K,S+=r*V,P+=r*J,O+=r*Y,x+=r*X,r=t[8],f+=r*U,p+=r*L,m+=r*R,g+=r*D,b+=r*F,y+=r*B,v+=r*G,w+=r*W,_+=r*z,E+=r*q,k+=r*H,S+=r*K,P+=r*V,O+=r*J,x+=r*Y,C+=r*X,r=t[9],p+=r*U,m+=r*L,g+=r*R,b+=r*D,y+=r*F,v+=r*B,w+=r*G,_+=r*W,E+=r*z,k+=r*q,S+=r*H,P+=r*K,O+=r*V,x+=r*J,C+=r*Y,T+=r*X,r=t[10],m+=r*U,g+=r*L,b+=r*R,y+=r*D,v+=r*F,w+=r*B,_+=r*G,E+=r*W,k+=r*z,S+=r*q,P+=r*H,O+=r*K,x+=r*V,C+=r*J,T+=r*Y,I+=r*X,r=t[11],g+=r*U,b+=r*L,y+=r*R,v+=r*D,w+=r*F,_+=r*B,E+=r*G,k+=r*W,S+=r*z,P+=r*q,O+=r*H,x+=r*K,C+=r*V,T+=r*J,I+=r*Y,A+=r*X,r=t[12],b+=r*U,y+=r*L,v+=r*R,w+=r*D,_+=r*F,E+=r*B,k+=r*G,S+=r*W,P+=r*z,O+=r*q,x+=r*H,C+=r*K,T+=r*V,I+=r*J,A+=r*Y,j+=r*X,r=t[13],y+=r*U,v+=r*L,w+=r*R,_+=r*D,E+=r*F,k+=r*B,S+=r*G,P+=r*W,O+=r*z,x+=r*q,C+=r*H,T+=r*K,I+=r*V,A+=r*J,j+=r*Y,N+=r*X,r=t[14],v+=r*U,w+=r*L,_+=r*R,E+=r*D,k+=r*F,S+=r*B,P+=r*G,O+=r*W,x+=r*z,C+=r*q,T+=r*H,I+=r*K,A+=r*V,j+=r*J,N+=r*Y,$+=r*X,r=t[15],w+=r*U,_+=r*L,E+=r*R,k+=r*D,S+=r*F,P+=r*B,O+=r*G,x+=r*W,C+=r*z,T+=r*q,I+=r*H,A+=r*K,j+=r*V,N+=r*J,$+=r*Y,M+=r*X,i+=38*_,o+=38*E,a+=38*k,c+=38*S,l+=38*P,u+=38*O,h+=38*x,d+=38*C,f+=38*T,p+=38*I,m+=38*A,g+=38*j,b+=38*N,y+=38*$,v+=38*M,s=1,r=i+s+65535,s=Math.floor(r/65536),i=r-65536*s,r=o+s+65535,s=Math.floor(r/65536),o=r-65536*s,r=a+s+65535,s=Math.floor(r/65536),a=r-65536*s,r=c+s+65535,s=Math.floor(r/65536),c=r-65536*s,r=l+s+65535,s=Math.floor(r/65536),l=r-65536*s,r=u+s+65535,s=Math.floor(r/65536),u=r-65536*s,r=h+s+65535,s=Math.floor(r/65536),h=r-65536*s,r=d+s+65535,s=Math.floor(r/65536),d=r-65536*s,r=f+s+65535,s=Math.floor(r/65536),f=r-65536*s,r=p+s+65535,s=Math.floor(r/65536),p=r-65536*s,r=m+s+65535,s=Math.floor(r/65536),m=r-65536*s,r=g+s+65535,s=Math.floor(r/65536),g=r-65536*s,r=b+s+65535,s=Math.floor(r/65536),b=r-65536*s,r=y+s+65535,s=Math.floor(r/65536),y=r-65536*s,r=v+s+65535,s=Math.floor(r/65536),v=r-65536*s,r=w+s+65535,s=Math.floor(r/65536),w=r-65536*s,i+=s-1+37*(s-1),s=1,r=i+s+65535,s=Math.floor(r/65536),i=r-65536*s,r=o+s+65535,s=Math.floor(r/65536),o=r-65536*s,r=a+s+65535,s=Math.floor(r/65536),a=r-65536*s,r=c+s+65535,s=Math.floor(r/65536),c=r-65536*s,r=l+s+65535,s=Math.floor(r/65536),l=r-65536*s,r=u+s+65535,s=Math.floor(r/65536),u=r-65536*s,r=h+s+65535,s=Math.floor(r/65536),h=r-65536*s,r=d+s+65535,s=Math.floor(r/65536),d=r-65536*s,r=f+s+65535,s=Math.floor(r/65536),f=r-65536*s,r=p+s+65535,s=Math.floor(r/65536),p=r-65536*s,r=m+s+65535,s=Math.floor(r/65536),m=r-65536*s,r=g+s+65535,s=Math.floor(r/65536),g=r-65536*s,r=b+s+65535,s=Math.floor(r/65536),b=r-65536*s,r=y+s+65535,s=Math.floor(r/65536),y=r-65536*s,r=v+s+65535,s=Math.floor(r/65536),v=r-65536*s,r=w+s+65535,s=Math.floor(r/65536),w=r-65536*s,i+=s-1+37*(s-1),e[0]=i,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=b,e[13]=y,e[14]=v,e[15]=w}function f(e,t){d(e,t,t)}function p(e,t){const n=new Uint8Array(32),r=new Float64Array(80),s=i(),o=i(),p=i(),m=i(),g=i(),b=i();for(let t=0;t<31;t++)n[t]=e[t];n[31]=127&e[31]|64,n[0]&=248,function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(r,t);for(let e=0;e<16;e++)o[e]=r[e];s[0]=m[0]=1;for(let e=254;e>=0;--e){const t=n[e>>>3]>>>(7&e)&1;l(s,o,t),l(p,m,t),u(g,s,p),h(s,s,p),u(p,o,m),h(o,o,m),f(m,g),f(b,s),d(s,p,s),d(p,o,g),u(g,s,p),h(s,s,p),f(o,s),h(p,m,b),d(s,p,a),u(s,s,m),d(p,p,s),d(s,m,b),d(m,o,r),f(o,g),l(s,o,t),l(p,m,t)}for(let e=0;e<16;e++)r[e+16]=s[e],r[e+32]=p[e],r[e+48]=o[e],r[e+64]=m[e];const y=r.subarray(32),v=r.subarray(16);!function(e,t){const n=i();for(let e=0;e<16;e++)n[e]=t[e];for(let e=253;e>=0;e--)f(n,n),2!==e&&4!==e&&d(n,n,t);for(let t=0;t<16;t++)e[t]=n[t]}(y,y),d(v,v,y);const w=new Uint8Array(32);return function(e,t){const n=i(),r=i();for(let e=0;e<16;e++)r[e]=t[e];c(r),c(r),c(r);for(let e=0;e<2;e++){n[0]=r[0]-65517;for(let e=1;e<15;e++)n[e]=r[e]-65535-(n[e-1]>>16&1),n[e-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,l(r,n,1-e)}for(let t=0;t<16;t++)e[2*t]=255&r[t],e[2*t+1]=r[t]>>8}(w,v),w}function m(e){return p(e,o)}function g(e){if(e.length!==t.KS)throw new Error(`x25519: seed must be ${t.KS} bytes`);const n=new Uint8Array(e);return{publicKey:m(n),secretKey:n}}t.Au=function(e){const t=(0,r.randomBytes)(32,e),n=g(t);return(0,s.wipe)(t),n},t.gi=function(e,n,r=!1){if(e.length!==t.kz)throw new Error("X25519: incorrect secret key length");if(n.length!==t.kz)throw new Error("X25519: incorrect public key length");const s=p(e,n);if(r){let e=0;for(let t=0;t<s.length;t++)e|=s[t];if(0===e)throw new Error("X25519: invalid shared key")}return s}},1882:()=>{},6900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);r.__exportStar(n(6869),t),r.__exportStar(n(8033),t)},6869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},8033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},6736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);r.__exportStar(n(4273),t),r.__exportStar(n(7001),t),r.__exportStar(n(2939),t),r.__exportStar(n(6900),t)},2939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(4).__exportStar(n(8766),t)},8766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},3207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(6900);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},3873:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}},4273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);r.__exportStar(n(3873),t),r.__exportStar(n(3207),t)},7001:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(void 0!==t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if(void 0===t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},4:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>_,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>P,__classPrivateFieldSet:()=>O,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>s,__generator:()=>h,__importDefault:()=>S,__importStar:()=>k,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>m,__rest:()=>o,__spread:()=>g,__spreadArrays:()=>b,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},i.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function a(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function b(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=s[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:s?s(t):t}:s}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,s,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},9795:(e,t,n)=>{"use strict";n.d(t,{AW:()=>$,O6:()=>Gt,rV:()=>R,gn:()=>Oe,H1:()=>we,hF:()=>_e,WG:()=>V,pe:()=>Y,m$:()=>q,vB:()=>X,HI:()=>J,E0:()=>Ce,Gq:()=>Se,$0:()=>ge,Z4:()=>ke,Bv:()=>We,Au:()=>W,jd:()=>z,gu:()=>A,D:()=>pe,Z7:()=>ot,cO:()=>Ne,_H:()=>je,fc:()=>et,D6:()=>at,Hh:()=>Ie,Ym:()=>H,rj:()=>K,jU:()=>de,gp:()=>tt,rF:()=>Ut,Bw:()=>xe,UG:()=>ue,Gg:()=>Dt,xW:()=>gt,b$:()=>he,Ih:()=>ft,h1:()=>bt,Q8:()=>ee,o8:()=>ut,qt:()=>ct,Dd:()=>yt,$t:()=>Tt,nf:()=>jt,Q0:()=>xt,in:()=>St,p8:()=>Nt,sI:()=>Mt,al:()=>$t,L5:()=>lt,EJ:()=>Ct,Z2:()=>Pt,PM:()=>Ot,hH:()=>It,ON:()=>Rt,n:()=>kt,JT:()=>At,M_:()=>ht,jv:()=>mt,KC:()=>ye,eG:()=>Te,fK:()=>rt,IP:()=>ve,DQ:()=>I,iP:()=>Pe,M:()=>nt,he:()=>Be,uw:()=>Ft,Ll:()=>Z,EN:()=>Q});var r=n(5501),s=n(512),i=n(1416),o=n(3294),a=n(7664),c=n(7466),l=n(4155),u=function(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},h=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},d=function(e){this.version=e,this.type="node",this.name="node",this.os=l.platform},f=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},p=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},m=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},g=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,b=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],v=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function w(e){return e?E(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new m:"undefined"!=typeof navigator?E(navigator.userAgent):void 0!==l&&l.version?new d(l.version.slice(1)):null}function _(e){return""!==e&&y.reduce((function(t,n){var r=n[0],s=n[1];if(t)return t;var i=s.exec(e);return!!i&&[r,i]}),!1)}function E(e){var t=_(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new p;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<b&&(s=u(u([],s,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(b-s.length),!0)):s=[];var i=s.join("."),o=function(e){for(var t=0,n=v.length;t<n;t++){var r=v[t],s=r[0];if(r[1].exec(e))return s}return null}(e),a=g.exec(e);return a&&a[1]?new f(n,i,o,a[1]):new h(n,i,o)}var k=n(6736),S=n(2873),P=n(5755),O=n(6151);n(1882);const x={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var C=n(4155);const T=":";function I(e){const[t,n]=e.split(T);return{namespace:t,reference:n}}function A(e,t=[]){const n=[];return Object.keys(e).forEach((r=>{if(t.length&&!t.includes(r))return;const s=e[r];n.push(...s.accounts)})),n}function j(e,t){return e.includes(":")?[e]:t.chains||[]}const N="base10",$="base16",M="base64pad",U="utf8",L=0,R=1,D=0,F=1,B=12,G=32;function W(){const e=a.Au();return{privateKey:(0,c.BB)(e.secretKey,$),publicKey:(0,c.BB)(e.publicKey,$)}}function z(){const e=(0,i.randomBytes)(G);return(0,c.BB)(e,$)}function q(e,t){const n=a.gi((0,c.mL)(e,$),(0,c.mL)(t,$),!0),r=new s.t(o.mE,n).expand(G);return(0,c.BB)(r,$)}function H(e){const t=(0,o.vp)((0,c.mL)(e,$));return(0,c.BB)(t,$)}function K(e){const t=(0,o.vp)((0,c.mL)(e,U));return(0,c.BB)(t,$)}function V(e){return Number((0,c.BB)(e,N))}function J(e){const t=function(e){return(0,c.mL)(`${e}`,N)}(typeof e.type<"u"?e.type:L);if(V(t)===R&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?(0,c.mL)(e.senderPublicKey,$):void 0,s=typeof e.iv<"u"?(0,c.mL)(e.iv,$):(0,i.randomBytes)(B);return function(e){if(V(e.type)===R){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,c.BB)((0,c.zo)([e.type,e.senderPublicKey,e.iv,e.sealed]),M)}return(0,c.BB)((0,c.zo)([e.type,e.iv,e.sealed]),M)}({type:t,sealed:new r.OK((0,c.mL)(e.symKey,$)).seal(s,(0,c.mL)(e.message,U)),iv:s,senderPublicKey:n})}function Y(e){const t=new r.OK((0,c.mL)(e.symKey,$)),{sealed:n,iv:s}=X(e.encoded),i=t.open(s,n);if(null===i)throw new Error("Failed to decrypt");return(0,c.BB)(i,U)}function X(e){const t=(0,c.mL)(e,M),n=t.slice(D,F),r=F;if(V(n)===R){const e=r+G,s=e+B,i=t.slice(r,e),o=t.slice(e,s);return{type:n,sealed:t.slice(s),iv:o,senderPublicKey:i}}const s=r+B,i=t.slice(r,s);return{type:n,sealed:t.slice(s),iv:i}}function Z(e,t){const n=X(e);return Q({type:V(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,c.BB)(n.senderPublicKey,$):void 0,receiverPublicKey:t?.receiverPublicKey})}function Q(e){const t=e?.type||L;if(t===R){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function ee(e){return e.type===R&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var te=Object.defineProperty,ne=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,ie=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oe=(e,t)=>{for(var n in t||(t={}))re.call(t,n)&&ie(e,n,t[n]);if(ne)for(var n of ne(t))se.call(t,n)&&ie(e,n,t[n]);return e};const ae="ReactNative",ce={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},le="js";function ue(){return typeof C<"u"&&typeof C.versions<"u"&&typeof C.versions.node<"u"}function he(){return!(0,S.getDocument)()&&!!(0,S.getNavigator)()&&navigator.product===ae}function de(){return!ue()&&!!(0,S.getNavigator)()}function fe(){return he()?ce.reactNative:ue()?ce.node:de()?ce.browser:ce.unknown}function pe(){return(0,P.D)()||{name:"",description:"",url:"",icons:[""]}}function me(e,t,r){const s=function(){if(fe()===ce.reactNative&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){const{OS:e,Version:t}=n.g.Platform;return[e,t].join("-")}const e=w();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),i=function(){var e;const t=fe();return t===ce.browser?[t,(null==(e=(0,S.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[le,r].join("-"),s,i].join("/")}function ge({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o}){const a=n.split("?"),c={auth:s,ua:me(e,t,r),projectId:i,useOnCloseEvent:o||void 0},l=function(e,t){let n=O.parse(e);return n=oe(oe({},n),t),O.stringify(n)}(a[1]||"",c);return a[0]+"?"+l}function be(e,t){return e.filter((e=>t.includes(e))).length===e.length}function ye(e){return Object.fromEntries(e.entries())}function ve(e){return new Map(Object.entries(e))}function we(e=k.FIVE_MINUTES,t){const n=(0,k.toMiliseconds)(e||k.FIVE_MINUTES);let r,s,i;return{resolve:e=>{i&&r&&(clearTimeout(i),r(e))},reject:e=>{i&&s&&(clearTimeout(i),s(e))},done:()=>new Promise(((e,o)=>{i=setTimeout((()=>{o(new Error(t))}),n),r=e,s=o}))}}function _e(e,t,n){return new Promise((async(r,s)=>{const i=setTimeout((()=>s(new Error(n))),t);try{r(await e)}catch(e){s(e)}clearTimeout(i)}))}function Ee(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function ke(e){return Ee("topic",e)}function Se(e){return Ee("id",e)}function Pe(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}function Oe(e,t){return(0,k.fromMiliseconds)((t||Date.now())+(0,k.toMiliseconds)(e))}function xe(e){return Date.now()>=(0,k.toMiliseconds)(e)}function Ce(e,t){return`${e}${t?`:${t}`:""}`}function Te(e=[],t=[]){return[...new Set([...e,...t])]}async function Ie({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;const s="string"==typeof r?JSON.parse(r):r;let i=s?.href;if("string"!=typeof i)return;i.endsWith("/")&&(i=i.slice(0,-1));const o=`${i}/wc?requestId=${e}&sessionTopic=${t}`,a=fe();a===ce.browser?o.startsWith("https://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):a===ce.reactNative&&typeof(null==n.g?void 0:n.g.Linking)<"u"&&await n.g.Linking.openURL(o)}catch(e){console.error(e)}}const Ae="irn";function je(e){return e?.relay||{protocol:Ae}}function Ne(e){const t=x[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var $e=Object.defineProperty,Me=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,Re=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,De=(e,t)=>{for(var n in t||(t={}))Ue.call(t,n)&&Re(e,n,t[n]);if(Me)for(var n of Me(t))Le.call(t,n)&&Re(e,n,t[n]);return e};function Fe(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach((t=>{if(t.startsWith(r)){const s=t.replace(r,""),i=e[t];n[s]=i}})),n}function Be(e){const t=e.indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),s=e.substring(t+1,n).split("@"),i=typeof n<"u"?e.substring(n):"",o=O.parse(i);return{protocol:r,topic:Ge(s[0]),version:parseInt(s[1],10),symKey:o.symKey,relay:Fe(o)}}function Ge(e){return e.startsWith("//")?e.substring(2):e}function We(e){return`${e.protocol}:${e.topic}@${e.version}?`+O.stringify(De({symKey:e.symKey},function(e,t="-"){const n={};return Object.keys(e).forEach((r=>{const s="relay"+t+r;e[r]&&(n[s]=e[r])})),n}(e.relay)))}var ze=Object.defineProperty,qe=Object.defineProperties,He=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,Ye=(e,t,n)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xe=(e,t)=>{for(var n in t||(t={}))Ve.call(t,n)&&Ye(e,n,t[n]);if(Ke)for(var n of Ke(t))Je.call(t,n)&&Ye(e,n,t[n]);return e},Ze=(e,t)=>qe(e,He(t));function Qe(e){const t=[];return e.forEach((e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)})),t}function et(e,t){const n=St(e,t);if(n)throw new Error(n.message);const r={};for(const[t,n]of Object.entries(e))r[t]={methods:n.methods,events:n.events,chains:n.accounts.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))};return r}function tt(e){return e.includes(":")}function nt(e){return tt(e)?e.split(":")[0]:e}function rt(e){var t,n,r;const s={};if(!lt(e))return s;for(const[i,o]of Object.entries(e)){const e=tt(i)?[i]:o.chains,a=o.methods||[],c=o.events||[],l=nt(i);s[l]=Ze(Xe({},s[l]),{chains:Te(e,null==(t=s[l])?void 0:t.chains),methods:Te(a,null==(n=s[l])?void 0:n.methods),events:Te(c,null==(r=s[l])?void 0:r.events)})}return s}const st={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},it={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ot(e,t){const{message:n,code:r}=it[e];return{message:t?`${n} ${t}`:n,code:r}}function at(e,t){const{message:n,code:r}=st[e];return{message:t?`${n} ${t}`:n,code:r}}function ct(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function lt(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function ut(e){return typeof e>"u"}function ht(e,t){return!(!t||!ut(e))||"string"==typeof e&&!!e.trim().length}function dt(e,t){return!(!t||!ut(e))||"number"==typeof e&&!isNaN(e)}function ft(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),s=Object.keys(n);let i=!0;return!!be(s,r)&&(r.forEach((t=>{const{accounts:r,methods:s,events:o}=e.namespaces[t],a=Qe(r),c=n[t];be(j(t,c),a)&&be(c.methods,s)&&be(c.events,o)||(i=!1)})),i)}function pt(e){return!(!ht(e,!1)||!e.includes(":"))&&2===e.split(":").length}function mt(e){if(ht(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function gt(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}function bt(e){return e?.topic}function yt(e,t){let n=null;return ht(e?.publicKey,!1)||(n=ot("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function vt(e){let t=!0;return ct(e)?e.length&&(t=e.every((e=>ht(e,!1)))):t=!1,t}function wt(e,t,n){let r=null;return Object.entries(e).forEach((([e,s])=>{if(r)return;const i=function(e,t,n){let r=null;return ct(t)&&t.length?t.forEach((e=>{r||pt(e)||(r=at("UNSUPPORTED_CHAINS",`${n}, chain ${e} should be a string and conform to "namespace:chainId" format`))})):pt(e)||(r=at("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(e,j(e,s),`${t} ${n}`);i&&(r=i)})),r}function _t(e,t){let n=null;return ct(e)?e.forEach((e=>{n||function(e){if(ht(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&pt(e)}}return!1}(e)||(n=at("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))})):n=at("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Et(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=function(e,t){let n=null;return vt(e?.methods)?vt(e?.events)||(n=at("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=at("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}(e,`${t}, namespace`);r&&(n=r)})),n}function kt(e,t,n){let r=null;if(e&&lt(e)){const s=Et(e,t);s&&(r=s);const i=wt(e,t,n);i&&(r=i)}else r=ot("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function St(e,t){let n=null;if(e&&lt(e)){const r=Et(e,t);r&&(n=r);const s=function(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=_t(e?.accounts,`${t} namespace`);r&&(n=r)})),n}(e,t);s&&(n=s)}else n=ot("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function Pt(e){return ht(e.protocol,!0)}function Ot(e,t){let n=!1;return t&&!e?n=!0:e&&ct(e)&&e.length&&e.forEach((e=>{n=Pt(e)})),n}function xt(e){return"number"==typeof e}function Ct(e){return typeof e<"u"&&null!==typeof e}function Tt(e){return!!(e&&"object"==typeof e&&e.code&&dt(e.code,!1)&&e.message&&ht(e.message,!1))}function It(e){return!(ut(e)||!ht(e.method,!1))}function At(e){return!(ut(e)||ut(e.result)&&ut(e.error)||!dt(e.id,!1)||!ht(e.jsonrpc,!1))}function jt(e){return!(ut(e)||!ht(e.name,!1))}function Nt(e,t){return!(!pt(t)||!function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...Qe(e.accounts))})),t}(e).includes(t))}function $t(e,t,n){return!!ht(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{Qe(e.accounts).includes(t)&&n.push(...e.methods)})),n}(e,t).includes(n)}function Mt(e,t,n){return!!ht(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{Qe(e.accounts).includes(t)&&n.push(...e.events)})),n}(e,t).includes(n)}function Ut(e,t,n){let r=null;const s=function(e){const t={};return Object.keys(e).forEach((n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach((r=>{t[r]={methods:e[n].methods,events:e[n].events}}))})),t}(e),i=function(e){const t={};return Object.keys(e).forEach((n=>{if(n.includes(":"))t[n]=e[n];else{const r=Qe(e[n].accounts);r?.forEach((r=>{t[r]={accounts:e[n].accounts.filter((e=>e.includes(`${r}:`))),methods:e[n].methods,events:e[n].events}}))}})),t}(t),o=Object.keys(s),a=Object.keys(i),c=Lt(Object.keys(e)),l=Lt(Object.keys(t)),u=c.filter((e=>!l.includes(e)));return u.length&&(r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(t).toString()}`)),be(o,a)||(r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(t).forEach((e=>{if(!e.includes(":")||r)return;const s=Qe(t[e].accounts);s.includes(e)||(r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${s.toString()}`))})),o.forEach((e=>{r||(be(s[e].methods,i[e].methods)?be(s[e].events,i[e].events)||(r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${e}`)):r=ot("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${e}`))})),r}function Lt(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function Rt(e,t){return dt(e,!1)&&e<=t.max&&e>=t.min}function Dt(){const e=fe();return new Promise((t=>{switch(e){case ce.browser:t(de()&&navigator?.onLine);break;case ce.reactNative:t(async function(){if(he()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo){const e=await(null==n.g?void 0:n.g.NetInfo.fetch());return e?.isConnected}return!0}());break;case ce.node:default:t(!0)}}))}function Ft(e){switch(fe()){case ce.browser:!function(e){de()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case ce.reactNative:!function(e){he()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&n.g?.NetInfo.addEventListener((t=>e(t?.isConnected)))}(e);case ce.node:}}const Bt={};class Gt{static get(e){return Bt[e]}static set(e,t){Bt[e]=t}static delete(e){delete Bt[e]}}},6151:(e,t,n)=>{"use strict";const r=n(610),s=n(4020),i=n(500),o=n(2806),a=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?s(e):e}function h(e){return Array.isArray(e)?e.sort():"object"==typeof e?h(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const s="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!s&&u(n,e).includes(e.arrayFormatSeparator);n=i?u(n,e):n;const o=s||i?n.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===n?n:u(n,e);r[t]=o};case"bracket-separator":return(t,n,r)=>{const s=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!s)return void(r[t]=n?u(n,e):n);const i=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>u(t,e)));void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const s of e.split("&")){if(""===s)continue;let[e,o]=i(t.decode?s.replace(/\+/g," "):s,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:u(o,t),n(u(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=h(n):e[t]=n,e}),Object.create(null))}t.extract=f,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const s=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[l(t,e),"[",s,"]"].join("")]:[...n,[l(t,e),"[",l(s,e),"]=",l(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[l(t,e),"[]"].join("")]:[...n,[l(t,e),"[]=",l(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[l(t,e),":list="].join("")]:[...n,[l(t,e),":list=",l(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?r:(s=null===s?"":s,0===r.length?[[l(n,e),t,l(s,e)].join("")]:[[r,l(s,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,l(t,e)]:[...n,[l(t,e),"=",l(r,e)].join("")]}}(t),s={};for(const t of Object.keys(e))n(t)||(s[t]=e[t]);const i=Object.keys(s);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const s=e[n];return void 0===s?"":null===s?l(n,t):Array.isArray(s)?0===s.length&&"bracket-separator"===t.arrayFormat?l(n,t)+"[]":s.reduce(r(n),[]).join("&"):l(n,t)+"="+l(s,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:m(f(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0,[a]:!0},n);const r=d(e.url).split("?")[0]||"",s=t.extract(e.url),i=t.parse(s,{sort:!1}),o=Object.assign(i,e.query);let c=t.stringify(o,n);c&&(c=`?${c}`);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u=`#${n[a]?l(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${r}${c}${u}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[a]:!1},r);const{url:s,query:i,fragmentIdentifier:c}=t.parseUrl(e,r);return t.stringifyUrl({url:s,query:o(i,n),fragmentIdentifier:c},r)},t.exclude=(e,n,r)=>{const s=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,s,r)}},2873:(e,t)=>{"use strict";function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},5755:(e,t,n)=>{"use strict";t.D=void 0;const r=n(2873);t.D=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(e){return null}function n(...t){const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const r=n[e],s=["itemprop","property","name"].map((e=>r.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(s.length&&s){const e=r.getAttribute("content");if(e)return e}}return""}const s=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const s=n[e],i=s.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const e=s.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:s}}},7484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",s="second",i="minute",o="hour",a="day",c="week",l="month",u="quarter",h="year",d="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},b=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:b,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+b(r,2,"0")+":"+b(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(r,l),i=n-s<0,o=t.clone().add(r+(i?-1:1),l);return+(-(r+(n-s)/(i?s-o:o-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:h,w:c,d:a,D:d,h:o,m:i,s,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",w={};w[v]=g;var _="$isDayjsObject",E=function(e){return e instanceof O||!(!e||!e[_])},k=function e(t,n,r){var s;if(!t)return v;if("string"==typeof t){var i=t.toLowerCase();w[i]&&(s=i),n&&(w[i]=n,s=i);var o=t.split("-");if(!s&&o.length>1)return e(o[0])}else{var a=t.name;w[a]=t,s=a}return!r&&s&&(v=s),s||!r&&v},S=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new O(n)},P=y;P.l=k,P.i=E,P.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var O=function(){function g(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[_]=!0}var b=g.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(P.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var s=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return P},b.isValid=function(){return!(this.$d.toString()===f)},b.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},b.isAfter=function(e,t){return S(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<S(e)},b.$g=function(e,t,n){return P.u(e)?this[t]:this.set(n,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var n=this,r=!!P.u(t)||t,u=P.p(e),f=function(e,t){var s=P.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?s:s.endOf(a)},p=function(e,t){return P.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case h:return r?f(1,0):f(31,11);case l:return r?f(1,g):f(0,g+1);case c:var v=this.$locale().weekStart||0,w=(m<v?m+7:m)-v;return f(r?b-w:b+(6-w),g);case a:case d:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case s:return p(y+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var n,c=P.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[a]=u+"Date",n[d]=u+"Date",n[l]=u+"Month",n[h]=u+"FullYear",n[o]=u+"Hours",n[i]=u+"Minutes",n[s]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],p=c===a?this.$D+(t-this.$W):t;if(c===l||c===h){var m=this.clone().set(d,1);m.$d[f](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[P.p(e)]()},b.add=function(r,u){var d,f=this;r=Number(r);var p=P.p(u),m=function(e){var t=S(f);return P.w(t.date(t.date()+Math.round(e*r)),f)};if(p===l)return this.set(l,this.$M+r);if(p===h)return this.set(h,this.$y+r);if(p===a)return m(1);if(p===c)return m(7);var g=(d={},d[i]=t,d[o]=n,d[s]=e,d)[p]||1,b=this.$d.getTime()+r*g;return P.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",s=P.z(this),i=this.$H,o=this.$m,a=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,h=function(e,n,s,i){return e&&(e[n]||e(t,r))||s[n].slice(0,i)},d=function(e){return P.s(i%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return P.s(t.$y,4,"0");case"M":return a+1;case"MM":return P.s(a+1,2,"0");case"MMM":return h(n.monthsShort,a,l,3);case"MMMM":return h(l,a);case"D":return t.$D;case"DD":return P.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,c,2);case"ddd":return h(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(i);case"HH":return P.s(i,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return p(i,o,!0);case"A":return p(i,o,!1);case"m":return String(o);case"mm":return P.s(o,2,"0");case"s":return String(t.$s);case"ss":return P.s(t.$s,2,"0");case"SSS":return P.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(r,d,f){var p,m=this,g=P.p(d),b=S(r),y=(b.utcOffset()-this.utcOffset())*t,v=this-b,w=function(){return P.m(m,b)};switch(g){case h:p=w()/12;break;case l:p=w();break;case u:p=w()/3;break;case c:p=(v-y)/6048e5;break;case a:p=(v-y)/864e5;break;case o:p=v/n;break;case i:p=v/t;break;case s:p=v/e;break;default:p=v}return f?p:P.a(p)},b.daysInMonth=function(){return this.endOf(l).$D},b.$locale=function(){return w[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=k(e,t,!0);return r&&(n.$L=r),n},b.clone=function(){return P.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},g}(),x=O.prototype;return S.prototype=x,[["$ms",r],["$s",s],["$m",i],["$H",o],["$W",a],["$M",l],["$y",h],["$D",d]].forEach((function(e){x[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,O,S),e.$i=!0),S},S.locale=k,S.isDayjs=E,S.unix=function(e){return S(1e3*e)},S.en=w[v],S.Ls=w,S.p={},S}()},4110:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,s){return r.fromToBase(e,t,n,s)}n.en.relativeTime=s,r.fromToBase=function(t,r,i,o,a){for(var c,l,u,h=i.$locale().relativeTime||s,d=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=d.length,p=0;p<f;p+=1){var m=d[p];m.d&&(c=o?n(t).diff(i,m.d,!0):i.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(c));if(u=c>0,g<=m.r||!m.r){g<=1&&p>0&&(m=d[p-1]);var b=h[m.l];a&&(g=a(""+g)),l="string"==typeof b?b.replace("%d",g):b(g,r,m.l,u);break}}if(r)return l;var y=u?h.future:h.past;return"function"==typeof y?y(l):y.replace("%s",l)},r.to=function(e,t){return i(e,t,this,!0)},r.from=function(e,t){return i(e,t,this)};var o=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(o(this),e)},r.fromNow=function(e){return this.from(o(this),e)}}}()},4020:e=>{"use strict";var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),r=new RegExp("("+t+")+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(n),s(r))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=s(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var s=i(n[0]);s!==n[0]&&(t[n[0]]=s)}n=r.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},6729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new s(r,i||e,o),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,s=[];if(0===this._eventsCount)return s;for(r in e=this._events)t.call(e,r)&&s.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,o=new Array(i);s<i;s++)o[s]=r[s].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,s,i,o){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,s),!0;case 5:return u.fn.call(u.context,t,r,s,i),!0;case 6:return u.fn.call(u.context,t,r,s,i,o),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,s);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,s){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||s&&!a.once||r&&a.context!==r||o(this,i);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||s&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[i]=1===l.length?l[0]:l:o(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},2806:e=>{"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),s=Array.isArray(t),i=0;i<r.length;i++){var o=r[i],a=e[o];(s?-1!==t.indexOf(o):t(o,a,e))&&(n[o]=a)}return n}},4155:e=>{var t,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,c=[],l=!1,u=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=o(h);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},6600:(e,t,n)=>{"use strict";n.d(t,{jc:()=>c,o5:()=>a});Symbol();const r=Symbol();const s=Object.getPrototypeOf,i=new WeakMap,o=e=>e&&(i.has(e)?i.get(e):s(e)===Object.prototype||s(e)===Array.prototype),a=e=>o(e)&&e[r]||null,c=(e,t=!0)=>{i.set(e,t)}},500:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},610:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},2478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>fu});class r{static parseWithUndefined(e){if(null!==e)return JSON.parse(e,((e,t)=>null===t?void 0:t))}}class s{name;constructor(e){this.name=e}selectStorage(e){return e?localStorage:sessionStorage}getKey(e){return`${this.name}/${e}`}set(e,t,n=!1){this.selectStorage(!n).removeItem(this.getKey(e));const r=this.selectStorage(n);try{r.setItem(this.getKey(e),JSON.stringify(t))}catch(e){if(!(e instanceof DOMException)||22!==e.code&&1014!==e.code&&"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name)throw e;r.clear(),location.reload()}}get(e,t){let n=sessionStorage.getItem(this.getKey(e))||localStorage.getItem(this.getKey(e));return null===n?t:r.parseWithUndefined(n)}checkPermanently(e){return null!==localStorage.getItem(this.getKey(e))}delete(e){sessionStorage.removeItem(this.getKey(e)),localStorage.removeItem(this.getKey(e))}}class i{static pull(e,...t){const n=new Set(t);for(let t=e.length-1;t>=0;t--)n.has(e[t])&&e.splice(t,1)}static insert(e,t,n){e.splice(t,0,n)}static shuffle(e){let t=e.length;for(;0!==t;){const n=Math.floor(Math.random()*t);t-=1,[e[t],e[n]]=[e[n],e[t]]}return e}static checkSame(e,t){if(e.length!==t.length)return!1;const n=new Set(t);for(const t of e)if(!n.has(t))return!1;return!0}}class o{static NEXT_ID=0;id=o.NEXT_ID++;allowedEvents=["delete"];eventMap={};delegateEvents=[];deleted=!1;addAllowedEvents(...e){this.allowedEvents.push(...e)}addEventHandler(e,t){if(!this.allowedEvents.includes(e))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${e}`);void 0===this.eventMap[e]&&(this.eventMap[e]=[]),this.eventMap[e].push(t)}removeDelegateEvents(e){for(const[t,n]of Object.entries(e.events))for(const r of n)e.delegate.off(t,r);i.pull(this.delegateEvents,e)}on(e,t){if(Array.isArray(e))for(const n of e)this.addEventHandler(n,t);else this.addEventHandler(e,t);return this}once(e,t){const n=(...r)=>{this.off(e,n),t(...r)};this.addEventHandler(e,n)}off(e,t){void 0!==this.eventMap?.[e]&&(i.pull(this.eventMap[e],t),0===this.eventMap[e].length&&delete this.eventMap[e])}async fireEvent(e,...t){if(!this.allowedEvents.includes(e))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${e}`);const n=[],r=[];if(void 0!==this.eventMap[e])for(const s of[...this.eventMap[e]]){const e=s(...t);e instanceof Promise?r.push(e):n.push(e)}return n.concat(await Promise.all(r))}onDelegate(e,t,n){let r=this.delegateEvents.find((t=>t.delegate===e));void 0===r&&(r={delegate:e,events:{}},this.delegateEvents.push(r)),void 0===r.events[t]&&(r.events[t]=[]),r.events[t].push(n),e.on(t,n)}offDelegate(e){const t=this.delegateEvents.find((t=>t.delegate===e));void 0!==t&&this.removeDelegateEvents(t)}offAll(){this.eventMap={};for(const e of this.delegateEvents)this.removeDelegateEvents(e);this.delegateEvents=[]}delete(){for(const e of this.delegateEvents)this.removeDelegateEvents(e);this.delegateEvents=void 0,this.fireEvent("delete"),this.allowedEvents=void 0,this.eventMap=void 0,this.deleted=!0}}class a extends o{parent;children=[];append(...e){for(const t of e)void 0!==t&&t.appendTo(this);return this}appendTo(e,t){return this.parent===e&&void 0!==t&&this.parent.children.indexOf(this)<t&&(t-=1),this.removeFromParent(),void 0!==t&&t<e.children.length?e.children.splice(t,0,this):e.children.push(this),this.parent=e,this}removeFromParent(){void 0!==this.parent&&(i.pull(this.parent.children,this),this.parent=void 0)}empty(){for(;this.children.length>0;)this.children[0].delete();return this}checkChild(e){const t=[...this.children];for(;t.length>0;){const n=t.pop();if(n===e)return!0;t.push(...n.children)}return!1}delete(){super.delete(),this.removeFromParent(),this.empty(),this.children=void 0}}class c extends a{static NUMBER_STYLE_KEY=["zIndex","opacity","flexGrow","flexShrink","gridGap","order","zoom"];static keyframesCount=0;static createElement(e){let t;const n=e.indexOf("#");if(-1!==n){t=e.substring(n+1),e=e.substring(0,n);const r=t.indexOf(".");-1!==r&&(e+=t.substring(r),t=t.substring(0,r))}let r;const s=e.indexOf(".");-1!==s&&(r=e.substring(s+1).replace(/\./g," "),e=e.substring(0,s)),""===e&&(e="div");const i=document.createElement(e);return void 0!==t&&(i.id=t),void 0!==r&&(i.className=r),i}children=[];domEventMap={};windowEventMap={};domElement;constructor(e,...t){super(),this.addAllowedEvents("visible"),e instanceof HTMLElement?this.domElement=e:this.domElement=c.createElement(e),this.append(...t)}style(e){for(const[t,n]of Object.entries(e))void 0===n?this.domElement.style[t]=null:"number"==typeof n&&!0!==c.NUMBER_STYLE_KEY.includes(t)?this.domElement.style[t]=`${n}px`:this.domElement.style[t]=n;return this}get rect(){return this.domElement.getBoundingClientRect()}get innerScrollPosition(){let e=0,t=0;if(this.domElement!==document.body){let n=this.domElement.parentNode;for(;n!==document.body&&null!==n;)n instanceof HTMLElement&&(e+=n.scrollLeft,t+=n.scrollTop),n=n.parentNode}return{left:e,top:t}}onDom(e,t){void 0===this.domEventMap[e]&&(this.domEventMap[e]=[]);const n=e=>t(e,this);this.domEventMap[e].push({eventHandler:t,domEventHandler:n}),this.domElement.addEventListener(e,n)}onWindow(e,t){void 0===this.windowEventMap[e]&&(this.windowEventMap[e]=[]);const n=e=>t(e,this);this.windowEventMap[e].push({eventHandler:t,domEventHandler:n}),window.addEventListener(e,n)}offDom(e,t){const n=this.domEventMap[e];if(void 0!==n){const r=n.find((e=>e.eventHandler===t));void 0!==r&&(this.domElement.removeEventListener(e,r.domEventHandler),i.pull(n,r),0===n.length&&delete this.domEventMap[e])}}fireDomEvent(e){this.domElement.dispatchEvent(new Event(e))}appendText(e){if("TEXTAREA"===this.domElement.tagName)this.domElement.append(e);else{const t=new DocumentFragment,n=e.split("\n");for(const[e,r]of n.entries())e>0&&t.append(document.createElement("br")),t.append(r);this.domElement.append(t)}return this}set text(e){this.empty().appendText(e)}append(...e){for(const t of e)if(void 0!==t)if("string"==typeof t)this.appendText(t);else if(t instanceof c)t.appendTo(this);else for(const[e,n]of Object.entries(t))"function"==typeof n?this.onDom(e,n):"style"===e&&"object"==typeof n?this.style(n):void 0===n?this.domElement.removeAttribute(e):this.domElement.setAttribute(e,String(n));return this}checkVisible(){return void 0!==this.parent&&(this.parent.domElement===document.body||this.parent.checkVisible())}fireVisible(){this.fireEvent("visible");for(const e of this.children)e.fireVisible()}appendTo(e,t){void 0!==t&&t<e.children.length?e.domElement.insertBefore(this.domElement,e.children[t].domElement):e.domElement.append(this.domElement);const n=super.appendTo(e,t);return!0===this.checkVisible()&&this.fireVisible(),n}empty(){for(super.empty();this.domElement.firstChild;)this.domElement.removeChild(this.domElement.firstChild);return this}addClass(e){this.domElement.classList.add(e)}deleteClass(e){this.domElement.classList.remove(e)}hasClass(e){return this.domElement.classList.contains(e)}toggleClass(e){this.domElement.classList.toggle(e)}clone(){return new c(this.domElement.cloneNode(!0))}delete(){this.domElement.remove(),this.domEventMap=void 0;for(const[e,t]of Object.entries(this.windowEventMap))for(const n of t)window.removeEventListener(e,n.domEventHandler);this.windowEventMap=void 0,super.delete()}animate({keyframes:e,duration:t=.5,timingFunction:n="ease",delay:r=0,iterationCount:s=1,direction:i="normal",onEnd:o=(()=>{})}){const a="__KEYFRAMES_"+c.keyframesCount++;let l="",u={};for(const[t,n]of Object.entries(e)){l+=`${t}{`;for(let[e,t]of Object.entries(n))"number"!=typeof t||["zIndex","opacity"].includes(e)||(t+="px"),l+=`${e.replace(/([A-Z])/g,"-$1").toLowerCase()}:${t};`;l+="}","from"===t||"0%"===t?u={...u,...n}:"to"!==t&&"100%"!==t||(u={...u,...n})}const h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode(`@keyframes ${a}{${l}}`)),document.head.appendChild(h),u={...u,animation:`${a} ${t}s ${n} ${r}s ${s} ${i}`},this.style(u),1===s&&setTimeout((()=>{this.deleted||o(),h.remove()}),1e3*t)}}const l=new class extends c{constructor(){super(document.body)}};const u=new class{paramRegex=/{(.+)}/;match(e,t,n){for(let r=0;r<t.length;r++){const s=t[r];let i=e[r];if("**"===s)return!0;const o=this.paramRegex.exec(s);if(!s.startsWith("{")){const e=s.indexOf("{");if(i.substring(0,e)!==s.substring(0,e))return!1;i=i.substring(e)}if(i&&o)n&&(n[o[1]]=i);else if("*"!==s&&s!==i)return!1;if(r===e.length-1&&r<t.length-1&&""!==t[t.length-1])return!1}return!0}parse(e,t,n){const r=e.split("/"),s=t.split("/");return this.match(r,s,n)}},h=e=>decodeURIComponent(e.endsWith("/")?e.slice(0,-1).substring(1):e.substring(1)),d=(e,t,n,r)=>t.some((t=>u.match(e,t.split("/"),r)))&&!n.some((t=>u.match(e,t.split("/"))));const f=new class extends o{routes=[];redirects=[];openingViews=[];forwarding=!1;constructor(){super(),this.addAllowedEvents("go"),window.addEventListener("popstate",(e=>{if(!0===this.forwarding)this.forwarding=!1;else{const t=l.children.findLast((e=>e.hasClass("popup-background")));t?(this.forwarding=!0,window.history.forward(),t.delete()):this.check(e.state??void 0)}}))}closeAllPopup(){for(const e of l.children)e.hasClass("popup-background")&&e.delete()}check(e){const t=h(location.pathname),n=t.split("/");let r=!1;const s=[];for(const{patterns:t,excludes:r,to:s}of this.redirects){const i=e?{...e}:{};if(d(n,t,r,i)){let e=s;for(const[t,n]of Object.entries(i))e=e.replace(new RegExp(`{${t}}`,"g"),n??"");return void this.goNoHistory(`/${e}`)}}for(const{patterns:o,excludes:a,viewType:c}of this.routes){const l=e?{...e}:{},u=this.openingViews.find((e=>e instanceof c));d(n,o,a,l)?void 0===u?(this.openingViews.push(new c(l,t)),r=!0):u.changeParams(l,t):void 0!==u&&(s.push(u),i.pull(this.openingViews,u))}for(const e of s.reverse())e.close();!0===r&&this.fireEvent("go")}route(e,t,n=[]){"string"==typeof e&&(e=[e]),this.routes.push({patterns:e,excludes:n,viewType:t});const r=h(location.pathname),s=r.split("/"),i={};d(s,e,n,i)&&this.openingViews.push(new t(i,r))}redirect(e,t,n=[]){"string"==typeof e&&(e=[e]),this.redirects.push({patterns:e,excludes:n,to:t});const r=h(location.pathname).split("/"),s={};if(d(r,e,n,s)){let e=t;for(const[t,n]of Object.entries(s))e=e.replace(new RegExp(`{${t}}`,"g"),n??"");this.goNoHistory(`/${e}`)}}go(e,t){location.pathname!==e&&(history.pushState(void 0,"",e),this.check(t),window.scrollTo(0,0))}goNoHistory(e,t){location.pathname!==e&&(history.replaceState(void 0,"",e),this.check(t),window.scrollTo(0,0))}waitAndGo(e,t){setTimeout((()=>this.go(e,t)))}refresh(){for(const e of this.openingViews.reverse())e.close();this.openingViews=[];const e=h(location.pathname),t=e.split("/");for(const{patterns:n,excludes:r,viewType:s}of this.routes){const i={};d(t,n,r,i)&&this.openingViews.push(new s(i,e))}}};const p=new class{store=new s("__BROWSER_INFO_STORE");normalizeLanguage(e){return-1!==e.indexOf("-")&&"zh-TC"!==e&&"zh-SC"!==e&&(e=e.substring(0,e.indexOf("-"))),e}get language(){let e=this.store.get("lang")||navigator.language;return this.normalizeLanguage(e)}set language(e){this.store.set("lang",this.normalizeLanguage(e))}changeLanguage(e){if(!e)throw new Error("Invalid language code.");this.language=e,f.refresh()}get isPhoneSize(){return window.innerWidth<=859}};class m extends c{constructor(e,...t){super(e+".component"),this.append(...t)}}n(5843);class g extends m{constructor(e){super("span.material-icon.material-symbols-outlined"),this.text=e}}class b extends c{constructor(e){super(".popup-background"),this.onDom("click",(t=>{!0===e.barrierDismissible&&t.target===this.domElement&&this.delete()})),l.append(this)}}const y=(e,...t)=>new c(c.createElement(e),...t);class v extends m{titleContainer;titleText;constructor(e){super("button"+(void 0!==e.type?"."+e.type:".contained")+(e.tag??"")),void 0!==e.icon&&this.append(e.icon),void 0!==e.title&&this.append(this.titleContainer=y("span.title",this.titleText=e.title)),void 0!==e.href&&(this.domElement.href=e.href,this.domElement.target="_blank"),!0===e.disabled&&this.disable(),void 0!==e.click&&this.onDom("click",(t=>{!0!==this.hasClass("disabled")&&e.click(t,this)}))}set title(e){void 0!==this.titleContainer?this.titleContainer.text=e:this.append(this.titleContainer=y("span.title",e)),this.titleText=e}disable(){return this.addClass("disabled"),this}enable(){return this.deleteClass("disabled"),this}}var w;!function(e){e.Contained="contained",e.Outlined="outlined",e.Text="text"}(w||(w={}));const _=w;class E extends m{constructor(e){super(".snackbar"),this.append(y("main",y("p",e.message),e.action?new v({tag:".action",type:_.Text,title:e.action.title,click:()=>{e.action?.click(),this.delete()}}):void 0,y("button.close",new g("close"),{click:()=>this.delete()}))),l.append(this),setTimeout((()=>this.delete()),5e3)}}class k extends m{constructor(e){super(".splash-screen"),this.append(e),this.appendTo(l)}}class S extends m{_id;constructor(e,t){super("li.tab"),this._id=e,this.append(t)}set active(e){e?this.addClass("active"):this.deleteClass("active")}}class P extends m{children=[];store;constructor(e,t){super("ul.tabs"),this.addAllowedEvents("select"),this.store=new s(`tabs-${e}`);for(const e of t){const t=new S(e.id,e.label);t.onDom("click",(()=>this.select(e.id))),this.append(t)}}init(){if(this.store.get("selected"))this.select(this.store.get("selected"));else{const e=this.children[0]?._id;e&&this.select(e)}}select(e){for(const t of this.children)t.active=t._id===e;this.store.set("selected",e,!0),this.fireEvent("select",e)}}function O(e){return null==e}var x=function(e,t){var n,r,s,i;if(t)for(n=0,r=(i=Object.keys(t)).length;n<r;n+=1)e[s=i[n]]=t[s];return e},C={isNothing:O,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:O(e)?[]:[e]},repeat:function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:x};function T(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function I(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=T(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I.prototype.toString=function(e){return this.name+": "+T(this,e)};var A=I;function j(e,t,n,r,s){var i="",o="",a=Math.floor(s/2)-1;return r-t>a&&(t=r-a+(i=" ... ").length),n-r>a&&(n=r+a-(o=" ...").length),{str:i+e.slice(t,n).replace(/\t/g,"→")+o,pos:r-t+i.length}}function N(e,t){return C.repeat(" ",t-e.length)+e}var $=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,s=[0],i=[],o=-1;n=r.exec(e.buffer);)i.push(n.index),s.push(n.index+n[0].length),e.position<=n.index&&o<0&&(o=s.length-2);o<0&&(o=s.length-1);var a,c,l="",u=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+u+3);for(a=1;a<=t.linesBefore&&!(o-a<0);a++)c=j(e.buffer,s[o-a],i[o-a],e.position-(s[o]-s[o-a]),h),l=C.repeat(" ",t.indent)+N((e.line-a+1).toString(),u)+" | "+c.str+"\n"+l;for(c=j(e.buffer,s[o],i[o],e.position,h),l+=C.repeat(" ",t.indent)+N((e.line+1).toString(),u)+" | "+c.str+"\n",l+=C.repeat("-",t.indent+u+3+c.pos)+"^\n",a=1;a<=t.linesAfter&&!(o+a>=i.length);a++)c=j(e.buffer,s[o+a],i[o+a],e.position-(s[o]-s[o+a]),h),l+=C.repeat(" ",t.indent)+N((e.line+a+1).toString(),u)+" | "+c.str+"\n";return l.replace(/\n$/,"")},M=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],U=["scalar","sequence","mapping"];var L=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===M.indexOf(t))throw new A('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(t.styleAliases||null),-1===U.indexOf(this.kind))throw new A('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function R(e,t){var n=[];return e[t].forEach((function(e){var t=n.length;n.forEach((function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)})),n[t]=e})),n}function D(e){return this.extend(e)}D.prototype.extend=function(e){var t=[],n=[];if(e instanceof L)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new A("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof L))throw new A("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new A("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new A("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(e){if(!(e instanceof L))throw new A("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var r=Object.create(D.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=R(r,"implicit"),r.compiledExplicit=R(r,"explicit"),r.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var F=D,B=new L("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),G=new L("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),W=new L("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),z=new F({explicit:[B,G,W]});var q=new L("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var H=new L("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function K(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function V(e){return 48<=e&&e<=55}function J(e){return 48<=e&&e<=57}var Y=new L("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n=e.length,r=0,s=!1;if(!n)return!1;if("-"!==(t=e[r])&&"+"!==t||(t=e[++r]),"0"===t){if(r+1===n)return!0;if("b"===(t=e[++r])){for(r++;r<n;r++)if("_"!==(t=e[r])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!K(e.charCodeAt(r)))return!1;s=!0}return s&&"_"!==t}if("o"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!V(e.charCodeAt(r)))return!1;s=!0}return s&&"_"!==t}}if("_"===t)return!1;for(;r<n;r++)if("_"!==(t=e[r])){if(!J(e.charCodeAt(r)))return!1;s=!0}return!(!s||"_"===t)},construct:function(e){var t,n=e,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!C.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),X=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var Z=/^[-+]?[0-9]+e/;var Q=new L("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!X.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||C.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(C.isNegativeZero(e))return"-0.0";return n=e.toString(10),Z.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),ee=z.extend({implicit:[q,H,Y,Q]}),te=ee,ne=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),re=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var se=new L("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==ne.exec(e)||null!==re.exec(e))},construct:function(e){var t,n,r,s,i,o,a,c,l=0,u=null;if(null===(t=ne.exec(e))&&(t=re.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(n,r,s));if(i=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),c=new Date(Date.UTC(n,r,s,i,o,a,l)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(e){return e.toISOString()}});var ie=new L("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var ae=new L("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,s=e.length,i=oe;for(n=0;n<s;n++)if(!((t=i.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),s=r.length,i=oe,o=0,a=[];for(t=0;t<s;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)),o=o<<6|i.indexOf(r.charAt(t));return 0===(n=s%4*6)?(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)):18===n?(a.push(o>>10&255),a.push(o>>2&255)):12===n&&a.push(o>>4&255),new Uint8Array(a)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,r="",s=0,i=e.length,o=oe;for(t=0;t<i;t++)t%3==0&&t&&(r+=o[s>>18&63],r+=o[s>>12&63],r+=o[s>>6&63],r+=o[63&s]),s=(s<<8)+e[t];return 0===(n=i%3)?(r+=o[s>>18&63],r+=o[s>>12&63],r+=o[s>>6&63],r+=o[63&s]):2===n?(r+=o[s>>10&63],r+=o[s>>4&63],r+=o[s<<2&63],r+=o[64]):1===n&&(r+=o[s>>2&63],r+=o[s<<4&63],r+=o[64],r+=o[64]),r}}),ce=Object.prototype.hasOwnProperty,le=Object.prototype.toString;var ue=new L("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,s,i,o=[],a=e;for(t=0,n=a.length;t<n;t+=1){if(r=a[t],i=!1,"[object Object]"!==le.call(r))return!1;for(s in r)if(ce.call(r,s)){if(i)return!1;i=!0}if(!i)return!1;if(-1!==o.indexOf(s))return!1;o.push(s)}return!0},construct:function(e){return null!==e?e:[]}}),he=Object.prototype.toString;var de=new L("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,s,i,o=e;for(i=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(r=o[t],"[object Object]"!==he.call(r))return!1;if(1!==(s=Object.keys(r)).length)return!1;i[t]=[s[0],r[s[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,s,i,o=e;for(i=new Array(o.length),t=0,n=o.length;t<n;t+=1)r=o[t],s=Object.keys(r),i[t]=[s[0],r[s[0]]];return i}}),fe=Object.prototype.hasOwnProperty;var pe=new L("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(fe.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),me=te.extend({implicit:[se,ie],explicit:[ae,ue,de,pe]}),ge=Object.prototype.hasOwnProperty,be=1,ye=2,ve=3,we=4,_e=1,Ee=2,ke=3,Se=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Pe=/[\x85\u2028\u2029]/,Oe=/[,\[\]\{\}]/,xe=/^(?:!|!!|![a-z\-]+!)$/i,Ce=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Te(e){return Object.prototype.toString.call(e)}function Ie(e){return 10===e||13===e}function Ae(e){return 9===e||32===e}function je(e){return 9===e||32===e||10===e||13===e}function Ne(e){return 44===e||91===e||93===e||123===e||125===e}function $e(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function Me(e){return 120===e?2:117===e?4:85===e?8:0}function Ue(e){return 48<=e&&e<=57?e-48:-1}function Le(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function Re(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var De=new Array(256),Fe=new Array(256),Be=0;Be<256;Be++)De[Be]=Le(Be)?1:0,Fe[Be]=Le(Be);function Ge(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||me,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function We(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=$(n),new A(t,n)}function ze(e,t){throw We(e,t)}function qe(e,t){e.onWarning&&e.onWarning.call(null,We(e,t))}var He={YAML:function(e,t,n){var r,s,i;null!==e.version&&ze(e,"duplication of %YAML directive"),1!==n.length&&ze(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&ze(e,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),i=parseInt(r[2],10),1!==s&&ze(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&qe(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,s;2!==n.length&&ze(e,"TAG directive accepts exactly two arguments"),r=n[0],s=n[1],xe.test(r)||ze(e,"ill-formed tag handle (first argument) of the TAG directive"),ge.call(e.tagMap,r)&&ze(e,'there is a previously declared suffix for "'+r+'" tag handle'),Ce.test(s)||ze(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch(t){ze(e,"tag prefix is malformed: "+s)}e.tagMap[r]=s}};function Ke(e,t,n,r){var s,i,o,a;if(t<n){if(a=e.input.slice(t,n),r)for(s=0,i=a.length;s<i;s+=1)9===(o=a.charCodeAt(s))||32<=o&&o<=1114111||ze(e,"expected valid JSON character");else Se.test(a)&&ze(e,"the stream contains non-printable characters");e.result+=a}}function Ve(e,t,n,r){var s,i,o,a;for(C.isObject(n)||ze(e,"cannot merge mappings; the provided source object is unacceptable"),o=0,a=(s=Object.keys(n)).length;o<a;o+=1)i=s[o],ge.call(t,i)||(t[i]=n[i],r[i]=!0)}function Je(e,t,n,r,s,i,o,a,c){var l,u;if(Array.isArray(s))for(l=0,u=(s=Array.prototype.slice.call(s)).length;l<u;l+=1)Array.isArray(s[l])&&ze(e,"nested arrays are not supported inside keys"),"object"==typeof s&&"[object Object]"===Te(s[l])&&(s[l]="[object Object]");if("object"==typeof s&&"[object Object]"===Te(s)&&(s="[object Object]"),s=String(s),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(i))for(l=0,u=i.length;l<u;l+=1)Ve(e,t,i[l],n);else Ve(e,t,i,n);else e.json||ge.call(n,s)||!ge.call(t,s)||(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,ze(e,"duplicated mapping key")),"__proto__"===s?Object.defineProperty(t,s,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[s]=i,delete n[s];return t}function Ye(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):ze(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Xe(e,t,n){for(var r=0,s=e.input.charCodeAt(e.position);0!==s;){for(;Ae(s);)9===s&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(t&&35===s)do{s=e.input.charCodeAt(++e.position)}while(10!==s&&13!==s&&0!==s);if(!Ie(s))break;for(Ye(e),s=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&qe(e,"deficient indentation"),r}function Ze(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!je(t)))}function Qe(e,t){1===t?e.result+=" ":t>1&&(e.result+=C.repeat("\n",t-1))}function et(e,t){var n,r,s=e.tag,i=e.anchor,o=[],a=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,ze(e,"tab characters must not be used in indentation")),45===r)&&je(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,Xe(e,!0,-1)&&e.lineIndent<=t)o.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,rt(e,t,ve,!1,!0),o.push(e.result),Xe(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)ze(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=s,e.anchor=i,e.kind="sequence",e.result=o,!0)}function tt(e){var t,n,r,s,i=!1,o=!1;if(33!==(s=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&ze(e,"duplication of a tag property"),60===(s=e.input.charCodeAt(++e.position))?(i=!0,s=e.input.charCodeAt(++e.position)):33===s?(o=!0,n="!!",s=e.input.charCodeAt(++e.position)):n="!",t=e.position,i){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&62!==s);e.position<e.length?(r=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):ze(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==s&&!je(s);)33===s&&(o?ze(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),xe.test(n)||ze(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),Oe.test(r)&&ze(e,"tag suffix cannot contain flow indicator characters")}r&&!Ce.test(r)&&ze(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(t){ze(e,"tag name is malformed: "+r)}return i?e.tag=r:ge.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:ze(e,'undeclared tag handle "'+n+'"'),!0}function nt(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&ze(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!je(n)&&!Ne(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ze(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function rt(e,t,n,r,s){var i,o,a,c,l,u,h,d,f,p=1,m=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=o=a=we===n||ve===n,r&&Xe(e,!0,-1)&&(m=!0,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)),1===p)for(;tt(e)||nt(e);)Xe(e,!0,-1)?(m=!0,a=i,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)):a=!1;if(a&&(a=m||s),1!==p&&we!==n||(d=be===n||ye===n?t:t+1,f=e.position-e.lineStart,1===p?a&&(et(e,f)||function(e,t,n){var r,s,i,o,a,c,l,u=e.tag,h=e.anchor,d={},f=Object.create(null),p=null,m=null,g=null,b=!1,y=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),l=e.input.charCodeAt(e.position);0!==l;){if(b||-1===e.firstTabInLine||(e.position=e.firstTabInLine,ze(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),i=e.line,63!==l&&58!==l||!je(r)){if(o=e.line,a=e.lineStart,c=e.position,!rt(e,n,ye,!1,!0))break;if(e.line===i){for(l=e.input.charCodeAt(e.position);Ae(l);)l=e.input.charCodeAt(++e.position);if(58===l)je(l=e.input.charCodeAt(++e.position))||ze(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Je(e,d,f,p,m,null,o,a,c),p=m=g=null),y=!0,b=!1,s=!1,p=e.tag,m=e.result;else{if(!y)return e.tag=u,e.anchor=h,!0;ze(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=u,e.anchor=h,!0;ze(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(b&&(Je(e,d,f,p,m,null,o,a,c),p=m=g=null),y=!0,b=!0,s=!0):b?(b=!1,s=!0):ze(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,l=r;if((e.line===i||e.lineIndent>t)&&(b&&(o=e.line,a=e.lineStart,c=e.position),rt(e,t,we,!0,s)&&(b?m=e.result:g=e.result),b||(Je(e,d,f,p,m,g,o,a,c),p=m=g=null),Xe(e,!0,-1),l=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==l)ze(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Je(e,d,f,p,m,null,o,a,c),y&&(e.tag=u,e.anchor=h,e.kind="mapping",e.result=d),y}(e,f,d))||function(e,t){var n,r,s,i,o,a,c,l,u,h,d,f,p=!0,m=e.tag,g=e.anchor,b=Object.create(null);if(91===(f=e.input.charCodeAt(e.position)))o=93,l=!1,i=[];else{if(123!==f)return!1;o=125,l=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),f=e.input.charCodeAt(++e.position);0!==f;){if(Xe(e,!0,t),(f=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=m,e.anchor=g,e.kind=l?"mapping":"sequence",e.result=i,!0;p?44===f&&ze(e,"expected the node content, but found ','"):ze(e,"missed comma between flow collection entries"),d=null,a=c=!1,63===f&&je(e.input.charCodeAt(e.position+1))&&(a=c=!0,e.position++,Xe(e,!0,t)),n=e.line,r=e.lineStart,s=e.position,rt(e,t,be,!1,!0),h=e.tag,u=e.result,Xe(e,!0,t),f=e.input.charCodeAt(e.position),!c&&e.line!==n||58!==f||(a=!0,f=e.input.charCodeAt(++e.position),Xe(e,!0,t),rt(e,t,be,!1,!0),d=e.result),l?Je(e,i,b,h,u,d,n,r,s):a?i.push(Je(e,null,b,h,u,d,n,r,s)):i.push(u),Xe(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(p=!0,f=e.input.charCodeAt(++e.position)):p=!1}ze(e,"unexpected end of the stream within a flow collection")}(e,d)?g=!0:(o&&function(e,t){var n,r,s,i,o=_e,a=!1,c=!1,l=t,u=0,h=!1;if(124===(i=e.input.charCodeAt(e.position)))r=!1;else{if(62!==i)return!1;r=!0}for(e.kind="scalar",e.result="";0!==i;)if(43===(i=e.input.charCodeAt(++e.position))||45===i)_e===o?o=43===i?ke:Ee:ze(e,"repeat of a chomping mode identifier");else{if(!((s=Ue(i))>=0))break;0===s?ze(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?ze(e,"repeat of an indentation width identifier"):(l=t+s-1,c=!0)}if(Ae(i)){do{i=e.input.charCodeAt(++e.position)}while(Ae(i));if(35===i)do{i=e.input.charCodeAt(++e.position)}while(!Ie(i)&&0!==i)}for(;0!==i;){for(Ye(e),e.lineIndent=0,i=e.input.charCodeAt(e.position);(!c||e.lineIndent<l)&&32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>l&&(l=e.lineIndent),Ie(i))u++;else{if(e.lineIndent<l){o===ke?e.result+=C.repeat("\n",a?1+u:u):o===_e&&a&&(e.result+="\n");break}for(r?Ae(i)?(h=!0,e.result+=C.repeat("\n",a?1+u:u)):h?(h=!1,e.result+=C.repeat("\n",u+1)):0===u?a&&(e.result+=" "):e.result+=C.repeat("\n",u):e.result+=C.repeat("\n",a?1+u:u),a=!0,c=!0,u=0,n=e.position;!Ie(i)&&0!==i;)i=e.input.charCodeAt(++e.position);Ke(e,n,e.position,!1)}}return!0}(e,d)||function(e,t){var n,r,s;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=s=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(Ke(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,s=e.position}else Ie(n)?(Ke(e,r,s,!0),Qe(e,Xe(e,!1,t)),r=s=e.position):e.position===e.lineStart&&Ze(e)?ze(e,"unexpected end of the document within a single quoted scalar"):(e.position++,s=e.position);ze(e,"unexpected end of the stream within a single quoted scalar")}(e,d)||function(e,t){var n,r,s,i,o,a;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return Ke(e,n,e.position,!0),e.position++,!0;if(92===a){if(Ke(e,n,e.position,!0),Ie(a=e.input.charCodeAt(++e.position)))Xe(e,!1,t);else if(a<256&&De[a])e.result+=Fe[a],e.position++;else if((o=Me(a))>0){for(s=o,i=0;s>0;s--)(o=$e(a=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+o:ze(e,"expected hexadecimal character");e.result+=Re(i),e.position++}else ze(e,"unknown escape sequence");n=r=e.position}else Ie(a)?(Ke(e,n,r,!0),Qe(e,Xe(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Ze(e)?ze(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}ze(e,"unexpected end of the stream within a double quoted scalar")}(e,d)?g=!0:!function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!je(r)&&!Ne(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ze(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),ge.call(e.anchorMap,n)||ze(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Xe(e,!0,-1),!0}(e)?function(e,t,n){var r,s,i,o,a,c,l,u,h=e.kind,d=e.result;if(je(u=e.input.charCodeAt(e.position))||Ne(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(je(r=e.input.charCodeAt(e.position+1))||n&&Ne(r)))return!1;for(e.kind="scalar",e.result="",s=i=e.position,o=!1;0!==u;){if(58===u){if(je(r=e.input.charCodeAt(e.position+1))||n&&Ne(r))break}else if(35===u){if(je(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Ze(e)||n&&Ne(u))break;if(Ie(u)){if(a=e.line,c=e.lineStart,l=e.lineIndent,Xe(e,!1,-1),e.lineIndent>=t){o=!0,u=e.input.charCodeAt(e.position);continue}e.position=i,e.line=a,e.lineStart=c,e.lineIndent=l;break}}o&&(Ke(e,s,i,!1),Qe(e,e.line-a),s=i=e.position,o=!1),Ae(u)||(i=e.position+1),u=e.input.charCodeAt(++e.position)}return Ke(e,s,i,!1),!!e.result||(e.kind=h,e.result=d,!1)}(e,d,be===n)&&(g=!0,null===e.tag&&(e.tag="?")):(g=!0,null===e.tag&&null===e.anchor||ze(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===p&&(g=a&&et(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&ze(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,l=e.implicitTypes.length;c<l;c+=1)if((h=e.implicitTypes[c]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(ge.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,c=0,l=(u=e.typeMap.multi[e.kind||"fallback"]).length;c<l;c+=1)if(e.tag.slice(0,u[c].tag.length)===u[c].tag){h=u[c];break}h||ze(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&ze(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):ze(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function st(e){var t,n,r,s,i=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(s=e.input.charCodeAt(e.position))&&(Xe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(o=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!je(s);)s=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&ze(e,"directive name must not be less than one character in length");0!==s;){for(;Ae(s);)s=e.input.charCodeAt(++e.position);if(35===s){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&!Ie(s));break}if(Ie(s))break;for(t=e.position;0!==s&&!je(s);)s=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==s&&Ye(e),ge.call(He,n)?He[n](e,n,r):qe(e,'unknown document directive "'+n+'"')}Xe(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Xe(e,!0,-1)):o&&ze(e,"directives end mark is expected"),rt(e,e.lineIndent-1,we,!1,!0),Xe(e,!0,-1),e.checkLineBreaks&&Pe.test(e.input.slice(i,e.position))&&qe(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ze(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Xe(e,!0,-1)):e.position<e.length-1&&ze(e,"end of the stream or a document separator is expected")}function it(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new Ge(e,t),r=e.indexOf("\0");for(-1!==r&&(n.position=r,ze(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)st(n);return n.documents}var ot=function(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var r=it(e,n);if("function"!=typeof t)return r;for(var s=0,i=r.length;s<i;s+=1)t(r[s])},at={loadAll:ot,load:function(e,t){var n=it(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new A("expected a single document in the stream, but found more")}}},ct=Object.prototype.toString,lt=Object.prototype.hasOwnProperty,ut=65279,ht=9,dt=10,ft=13,pt=32,mt=33,gt=34,bt=35,yt=37,vt=38,wt=39,_t=42,Et=44,kt=45,St=58,Pt=61,Ot=62,xt=63,Ct=64,Tt=91,It=93,At=96,jt=123,Nt=124,$t=125,Mt={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Ut=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Lt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Rt(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else{if(!(e<=4294967295))throw new A("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+C.repeat("0",r-t.length)+t}var Dt=1,Ft=2;function Bt(e){this.schema=e.schema||me,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=C.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,s,i,o,a,c;if(null===t)return{};for(n={},s=0,i=(r=Object.keys(t)).length;s<i;s+=1)o=r[s],a=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(c=e.compiledTypeMap.fallback[o])&&lt.call(c.styleAliases,a)&&(a=c.styleAliases[a]),n[o]=a;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?Ft:Dt,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Gt(e,t){for(var n,r=C.repeat(" ",t),s=0,i=-1,o="",a=e.length;s<a;)-1===(i=e.indexOf("\n",s))?(n=e.slice(s),s=a):(n=e.slice(s,i+1),s=i+1),n.length&&"\n"!==n&&(o+=r),o+=n;return o}function Wt(e,t){return"\n"+C.repeat(" ",e.indent*t)}function zt(e){return e===pt||e===ht}function qt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==ut||65536<=e&&e<=1114111}function Ht(e){return qt(e)&&e!==ut&&e!==ft&&e!==dt}function Kt(e,t,n){var r=Ht(e),s=r&&!zt(e);return(n?r:r&&e!==Et&&e!==Tt&&e!==It&&e!==jt&&e!==$t)&&e!==bt&&!(t===St&&!s)||Ht(t)&&!zt(t)&&e===bt||t===St&&s}function Vt(e,t){var n,r=e.charCodeAt(t);return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}function Jt(e){return/^\n* /.test(e)}var Yt=1,Xt=2,Zt=3,Qt=4,en=5;function tn(e,t,n,r,s,i,o,a){var c,l=0,u=null,h=!1,d=!1,f=-1!==r,p=-1,m=function(e){return qt(e)&&e!==ut&&!zt(e)&&e!==kt&&e!==xt&&e!==St&&e!==Et&&e!==Tt&&e!==It&&e!==jt&&e!==$t&&e!==bt&&e!==vt&&e!==_t&&e!==mt&&e!==Nt&&e!==Pt&&e!==Ot&&e!==wt&&e!==gt&&e!==yt&&e!==Ct&&e!==At}(Vt(e,0))&&function(e){return!zt(e)&&e!==St}(Vt(e,e.length-1));if(t||o)for(c=0;c<e.length;l>=65536?c+=2:c++){if(!qt(l=Vt(e,c)))return en;m=m&&Kt(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if((l=Vt(e,c))===dt)h=!0,f&&(d=d||c-p-1>r&&" "!==e[p+1],p=c);else if(!qt(l))return en;m=m&&Kt(l,u,a),u=l}d=d||f&&c-p-1>r&&" "!==e[p+1]}return h||d?n>9&&Jt(e)?en:o?i===Ft?en:Xt:d?Qt:Zt:!m||o||s(e)?i===Ft?en:Xt:Yt}function nn(e,t,n,r,s){e.dump=function(){if(0===t.length)return e.quotingType===Ft?'""':"''";if(!e.noCompatMode&&(-1!==Ut.indexOf(t)||Lt.test(t)))return e.quotingType===Ft?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,n),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),a=r||e.flowLevel>-1&&n>=e.flowLevel;switch(tn(t,a,e.indent,o,(function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!r,s)){case Yt:return t;case Xt:return"'"+t.replace(/'/g,"''")+"'";case Zt:return"|"+rn(t,e.indent)+sn(Gt(t,i));case Qt:return">"+rn(t,e.indent)+sn(Gt(function(e,t){var n,r,s=/(\n+)([^\n]*)/g,i=(a=e.indexOf("\n"),a=-1!==a?a:e.length,s.lastIndex=a,on(e.slice(0,a),t)),o="\n"===e[0]||" "===e[0];var a;for(;r=s.exec(e);){var c=r[1],l=r[2];n=" "===l[0],i+=c+(o||n||""===l?"":"\n")+on(l,t),o=n}return i}(t,o),i));case en:return'"'+function(e){for(var t,n="",r=0,s=0;s<e.length;r>=65536?s+=2:s++)r=Vt(e,s),!(t=Mt[r])&&qt(r)?(n+=e[s],r>=65536&&(n+=e[s+1])):n+=t||Rt(r);return n}(t)+'"';default:throw new A("impossible error: invalid scalar style")}}()}function rn(e,t){var n=Jt(e)?String(t):"",r="\n"===e[e.length-1];return n+(r&&("\n"===e[e.length-2]||"\n"===e)?"+":r?"":"-")+"\n"}function sn(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function on(e,t){if(""===e||" "===e[0])return e;for(var n,r,s=/ [^ ]/g,i=0,o=0,a=0,c="";n=s.exec(e);)(a=n.index)-i>t&&(r=o>i?o:a,c+="\n"+e.slice(i,r),i=r+1),o=a;return c+="\n",e.length-i>t&&o>i?c+=e.slice(i,o)+"\n"+e.slice(o+1):c+=e.slice(i),c.slice(1)}function an(e,t,n,r){var s,i,o,a="",c=e.tag;for(s=0,i=n.length;s<i;s+=1)o=n[s],e.replacer&&(o=e.replacer.call(n,String(s),o)),(ln(e,t+1,o,!0,!0,!1,!0)||void 0===o&&ln(e,t+1,null,!0,!0,!1,!0))&&(r&&""===a||(a+=Wt(e,t)),e.dump&&dt===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=c,e.dump=a||"[]"}function cn(e,t,n){var r,s,i,o,a,c;for(i=0,o=(s=n?e.explicitTypes:e.implicitTypes).length;i<o;i+=1)if(((a=s[i]).instanceOf||a.predicate)&&(!a.instanceOf||"object"==typeof t&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(n?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,"[object Function]"===ct.call(a.represent))r=a.represent(t,c);else{if(!lt.call(a.represent,c))throw new A("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');r=a.represent[c](t,c)}e.dump=r}return!0}return!1}function ln(e,t,n,r,s,i,o){e.tag=null,e.dump=n,cn(e,n,!1)||cn(e,n,!0);var a,c=ct.call(e.dump),l=r;r&&(r=e.flowLevel<0||e.flowLevel>t);var u,h,d="[object Object]"===c||"[object Array]"===c;if(d&&(h=-1!==(u=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(s=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(d&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===c)r&&0!==Object.keys(e.dump).length?(!function(e,t,n,r){var s,i,o,a,c,l,u="",h=e.tag,d=Object.keys(n);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new A("sortKeys must be a boolean or a function");for(s=0,i=d.length;s<i;s+=1)l="",r&&""===u||(l+=Wt(e,t)),a=n[o=d[s]],e.replacer&&(a=e.replacer.call(n,o,a)),ln(e,t+1,o,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&dt===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,c&&(l+=Wt(e,t)),ln(e,t+1,a,!0,c)&&(e.dump&&dt===e.dump.charCodeAt(0)?l+=":":l+=": ",u+=l+=e.dump));e.tag=h,e.dump=u||"{}"}(e,t,e.dump,s),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var r,s,i,o,a,c="",l=e.tag,u=Object.keys(n);for(r=0,s=u.length;r<s;r+=1)a="",""!==c&&(a+=", "),e.condenseFlow&&(a+='"'),o=n[i=u[r]],e.replacer&&(o=e.replacer.call(n,i,o)),ln(e,t,i,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ln(e,t,o,!1,!1)&&(c+=a+=e.dump));e.tag=l,e.dump="{"+c+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===c)r&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?an(e,t-1,e.dump,s):an(e,t,e.dump,s),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var r,s,i,o="",a=e.tag;for(r=0,s=n.length;r<s;r+=1)i=n[r],e.replacer&&(i=e.replacer.call(n,String(r),i)),(ln(e,t,i,!1,!1)||void 0===i&&ln(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else{if("[object String]"!==c){if("[object Undefined]"===c)return!1;if(e.skipInvalid)return!1;throw new A("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&nn(e,e.dump,t,i,l)}null!==e.tag&&"?"!==e.tag&&(a=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),a="!"===e.tag[0]?"!"+a:"tag:yaml.org,2002:"===a.slice(0,18)?"!!"+a.slice(18):"!<"+a+">",e.dump=a+" "+e.dump)}return!0}function un(e,t){var n,r,s=[],i=[];for(hn(e,s,i),n=0,r=i.length;n<r;n+=1)t.duplicates.push(s[i[n]]);t.usedDuplicates=new Array(r)}function hn(e,t,n){var r,s,i;if(null!==e&&"object"==typeof e)if(-1!==(s=t.indexOf(e)))-1===n.indexOf(s)&&n.push(s);else if(t.push(e),Array.isArray(e))for(s=0,i=e.length;s<i;s+=1)hn(e[s],t,n);else for(s=0,i=(r=Object.keys(e)).length;s<i;s+=1)hn(e[r[s]],t,n)}function dn(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}const fn={Type:L,Schema:F,FAILSAFE_SCHEMA:z,JSON_SCHEMA:ee,CORE_SCHEMA:te,DEFAULT_SCHEMA:me,load:at.load,loadAll:at.loadAll,dump:{dump:function(e,t){var n=new Bt(t=t||{});n.noRefs||un(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),ln(n,0,r,!0,!0)?n.dump+"\n":""}}.dump,YAMLException:A,types:{binary:ae,float:Q,map:W,null:q,pairs:de,set:pe,timestamp:se,bool:H,int:Y,merge:ie,omap:ue,seq:G,str:B},safeLoad:dn("safeLoad","load"),safeLoadAll:dn("safeLoadAll","loadAll"),safeDump:dn("safeDump","dump")},pn=JSON.parse('{"confirm_button":{"en":"Confirm","ko":"확인","es":"Confirmar","fr":"Confirmer","de":"Bestätigen","it":"Conferma","pt":"Confirmar","ru":"Подтвердить","zh-CN":"确认","zh-TW":"確認","ja":"確認"}}'),mn=()=>{let e="",t="";return 2===p.language.length?e=p.language.toLowerCase():(e=p.language.substring(0,2).toLowerCase(),t=p.language.substring(3).toLowerCase()),{language:e,locale:t}},gn=(e,t={},n="en")=>{const r="string"==typeof e?pn[e]:e;if(void 0!==r){let e=r[p.language];if(void 0===e){const{language:t,locale:n}=mn();e=r[t],"object"==typeof e&&(e=void 0!==e[n]?e[n]:e[Object.keys(e)[0]])}if(void 0===e){const t=r[n];e=void 0!==t?t:r[Object.keys(r)[0]]}if(void 0!==e&&"object"==typeof e&&(e=e[Object.keys(e)[0]]),void 0!==e)for(const[n,r]of Object.entries(t)){const t=new RegExp(`{${n}}`,"g");e=e.replace(t,String(r))}return void 0===e?"":e}return console.error(`${e} not exists.`),""};gn.loadYAML=(e,t)=>{const n=fn.load(t);for(const[t,r]of Object.entries(n))void 0===pn[t]&&(pn[t]={}),pn[t][e]=r},gn.loadYAMLs=async e=>{const t=[];for(const[n,r]of Object.entries(e))for(const e of r)t.push((async()=>{const t=fn.load(await(await fetch(e)).text());if(void 0!==t)for(const[e,r]of Object.entries(t))void 0===pn[e]&&(pn[e]={}),pn[e][n]=r})());await Promise.all(t)},gn.getMessages=e=>pn[e],gn.getLangMessages=(e,t="en")=>{const{language:n,locale:r}=mn(),s="string"==typeof e?pn[e]:e;if(void 0!==s){let e=s[p.language];if(void 0===e&&(e=s[n],void 0!==e&&"object"==typeof e&&(e=void 0!==e[r]?e[r]:e[Object.keys(e)[0]])),void 0===e){const n=s[t];e=void 0!==n?n:s[Object.keys(s)[0]]}return void 0!==e&&"object"==typeof e&&(e=e[Object.keys(e)[0]]),{[n]:void 0===e?"":e}}return console.error(`${e} not exists.`),{[n]:""}};const bn=gn;class yn extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class vn extends yn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wn extends yn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _n extends yn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var En=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class kn{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,8138,23)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return En(this,void 0,void 0,(function*(){try{const{headers:r,method:s,body:i}=t;let o,a={};i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",o=i):"string"==typeof i?(a["Content-Type"]="text/plain",o=i):"undefined"!=typeof FormData&&i instanceof FormData?o=i:(a["Content-Type"]="application/json",o=JSON.stringify(i)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:o}).catch((e=>{throw new vn(e)})),l=c.headers.get("x-relay-error");if(l&&"true"===l)throw new wn(c);if(!c.ok)throw new _n(c);let u,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return u="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"multipart/form-data"===h?yield c.formData():yield c.text(),{data:u,error:null}}catch(e){return{data:null,error:e}}}))}}var Sn=n(8138),Pn=n.n(Sn);class On{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=Pn():this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let s=null,i=null,o=null,a=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),l=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&l&&l.length>1&&(o=parseInt(l[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,a=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,a=200,c="OK")}catch(n){404===e.status&&""===t?(a=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null==s?void 0:s.details)||void 0===r?void 0:r.includes("Results contain 0 rows"))&&(s=null,a=200,c="OK"),s&&this.shouldThrowOnError)throw s}return{error:s,data:i,count:o,status:a,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}}class xn extends On{select(e){let t=!1;const n=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r}={}){const s=r?`${r}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const n=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:n}={}){const r=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),a=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${a}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Cn extends xn{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=t.map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t}={}){const n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}class Tn{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let s=!1;const i=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e))).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Cn({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new Cn({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){const i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new Cn({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Cn({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new Cn({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const In={"X-Client-Info":"postgrest-js/1.8.4"};class An{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},In),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new Tn(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new An(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,count:r}={}){let s;const i=new URL(`${this.url}/rpc/${e}`);let o;n?(s="HEAD",Object.entries(t).forEach((([e,t])=>{i.searchParams.append(e,`${t}`)}))):(s="POST",o=t);const a=Object.assign({},this.headers);return r&&(a.Prefer=`count=${r}`),new Cn({method:s,url:i,headers:a,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}}var jn=n(6081);const Nn={"X-Client-Info":"realtime-js/2.7.4"};var $n,Mn,Un,Ln,Rn,Dn,Fn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}($n||($n={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Mn||(Mn={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Un||(Un={})),function(e){e.websocket="websocket"}(Ln||(Ln={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Rn||(Rn={}));class Bn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class Gn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i+=r;const a=n.decode(e.slice(i,i+s));i+=s;return{ref:null,topic:o,event:a,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class Wn{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0;"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Dn||(Dn={}));class zn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zn.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=zn.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=zn.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const s=this.cloneDeep(e),i=this.transformState(t),o={},a={};return this.map(s,((e,t)=>{i[e]||(a[e]=t)})),this.map(i,((e,t)=>{const n=s[e];if(n){const r=t.map((e=>e.presence_ref)),s=n.map((e=>e.presence_ref)),i=t.filter((e=>s.indexOf(e.presence_ref)<0)),c=n.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(o[e]=i),c.length>0&&(a[e]=c)}else o[e]=t})),this.syncDiff(s,{joins:o,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,((t,r)=>{var s;const i=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map((e=>e.presence_ref)),r=i.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,i,r)})),this.map(i,((t,n)=>{let s=e[t];if(!s)return;const i=n.map((e=>e.presence_ref));s=s.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=s,r(t,s,n),0===s.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Fn||(Fn={}));const qn=(e,t,n={})=>{var r;const s=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((n,r)=>(n[r]=Hn(r,e,t,s),n)),{})},Hn=(e,t,n,r)=>{const s=t.find((t=>t.name===e)),i=null==s?void 0:s.type,o=n[e];return i&&!r.includes(i)?Kn(i,o):Vn(o)},Kn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Zn(t,n)}switch(e){case Fn.bool:return Jn(t);case Fn.float4:case Fn.float8:case Fn.int2:case Fn.int4:case Fn.int8:case Fn.numeric:case Fn.oid:return Yn(t);case Fn.json:case Fn.jsonb:return Xn(t);case Fn.timestamp:return Qn(t);case Fn.abstime:case Fn.date:case Fn.daterange:case Fn.int4range:case Fn.int8range:case Fn.money:case Fn.reltime:case Fn.text:case Fn.time:case Fn.timestamptz:case Fn.timetz:case Fn.tsrange:case Fn.tstzrange:default:return Vn(t)}},Vn=e=>e,Jn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Yn=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Xn=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Zn=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(e){r=s?s.split(","):[]}return r.map((e=>Kn(t,e)))}return e},Qn=e=>"string"==typeof e?e.replace(" ","T"):e;var er,tr,nr,rr=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(er||(er={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"}(tr||(tr={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(nr||(nr={}));class sr{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Wn(this,Un.join,this.params,this.timeout),this.rejoinTimer=new Bn((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())})),this._on(Un.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new zn(this)}subscribe(e,t=this.timeout){var n,r;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i}}=this.params;this._onError((t=>e&&e("CHANNEL_ERROR",t))),this._onClose((()=>e&&e("CLOSED")));const o={},a={broadcast:s,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[]};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(({postgres_changes:t})=>{var n;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==t){const r=this.bindings.postgres_changes,s=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,i=[];for(let n=0;n<s;n++){const s=r[n],{filter:{event:o,schema:a,table:c,filter:l}}=s,u=t&&t[n];if(!u||u.event!==o||u.schema!==a||u.table!==c||u.filter!==l)return this.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")})).receive("error",(t=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{e&&e("TIMED_OUT")}))}return this}presenceState(){return this.presence.state}track(e,t={}){return rr(this,void 0,void 0,(function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}))}untrack(e={}){return rr(this,void 0,void 0,(function*(){return yield this.send({type:"presence",event:"untrack"},e)}))}on(e,t,n){return this._on(e,t,n)}send(e,t={}){return new Promise((n=>{var r,s,i;const o=this._push(e.type,e,t.timeout||this.timeout);o.rateLimited&&n("rate limited"),"broadcast"!==e.type||(null===(i=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",(()=>n("ok"))),o.receive("timeout",(()=>n("timed out")))}))}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Mn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new Wn(this,Un.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Wn(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const i=e.toLocaleLowerCase(),{close:o,error:a,leave:c,join:l}=Un;if(n&&[o,a,c,l].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(u,n))):null===(s=this.bindings[i])||void 0===s||s.filter((e=>{var n,r,s,o,a,c;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(c=null==t?void 0:t.event)||void 0===c?void 0:c.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&sr.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Un.close,{},e)}_onError(e){this._on(Un.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=qn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=qn(e.columns,e.old_record)),t}}var ir=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const or=()=>{};class ar{constructor(e,t){var n,r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Nn,this.params={},this.timeout=1e4,this.transport=jn.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=or,this.conn=null,this.sendBuffer=[],this.serializer=new Gn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${Ln.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.eventsPerSecond;s&&(this.eventsPerSecondLimitMs=Math.floor(1e3/s));const i=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey;i&&(this.accessToken=i),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bn((()=>ir(this,void 0,void 0,(function*(){this.disconnect(),this.connect()}))),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return ir(this,void 0,void 0,(function*(){const t=yield e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}))}removeAllChannels(){return ir(this,void 0,void 0,(function*(){const e=yield Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}))}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return Rn.Connecting;case $n.open:return Rn.Open;case $n.closing:return Rn.Closing;default:return Rn.Closed}}isConnected(){return this.connectionState()===Rn.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();const n=new sr(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:r,ref:s}=e;let i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};if(this.log("push",`${t} ${n} (${s})`,r),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(n)){if(this._throttle(i)())return"rate limited"}else i();else this.sendBuffer.push(i)}setAuth(e){this.accessToken=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Un.access_token,{access_token:e})}))}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:s}=e;(s&&s===this.pendingHeartbeatRef||n===(null==r?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${s&&"("+s+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,s))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(Un.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(e(),t>0&&(this.inThrottle=!0,setTimeout((()=>{this.inThrottle=!1}),t)),!1)}}class cr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lr(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class ur extends cr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hr extends cr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var dr=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const fr=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,8138,23)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)};var pr=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gr=(e,t)=>pr(void 0,void 0,void 0,(function*(){const r=yield dr(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.t.bind(n,8138,23))).Response:Response}));e instanceof r?e.json().then((n=>{t(new ur(mr(n),e.status||500))})).catch((e=>{t(new hr(mr(e),e))})):t(new hr(mr(e),e))})),br=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};function yr(e,t,n,r,s,i){return pr(this,void 0,void 0,(function*(){return new Promise(((o,a)=>{e(n,br(t,r,s,i)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()})).then((e=>o(e))).catch((e=>gr(e,a)))}))}))}function vr(e,t,n,r){return pr(this,void 0,void 0,(function*(){return yr(e,"GET",t,n,r)}))}function wr(e,t,n,r,s){return pr(this,void 0,void 0,(function*(){return yr(e,"POST",t,r,s,n)}))}function _r(e,t,n,r,s){return pr(this,void 0,void 0,(function*(){return yr(e,"DELETE",t,r,s,n)}))}var Er=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const kr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pr{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=fr(r)}uploadOrUpdate(e,t,n,r){return Er(this,void 0,void 0,(function*(){try{let s;const i=Object.assign(Object.assign({},Sr),r),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),s.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl)):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType);const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),l=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:o},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));if(l.ok)return{data:{path:a},error:null};return{data:null,error:yield l.json()}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}upload(e,t,n){return Er(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return Er(this,void 0,void 0,(function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Sr.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:i});if(a.ok)return{data:{path:s},error:null};return{data:null,error:yield a.json()}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}createSignedUploadUrl(e){return Er(this,void 0,void 0,(function*(){try{let t=this._getFinalPath(e);const n=yield wr(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+n.url),s=r.searchParams.get("token");if(!s)throw new cr("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:s},error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}update(e,t,n){return Er(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t){return Er(this,void 0,void 0,(function*(){try{return{data:yield wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}copy(e,t){return Er(this,void 0,void 0,(function*(){try{return{data:{path:(yield wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}createSignedUrl(e,t,n){return Er(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),s=yield wr(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}createSignedUrls(e,t,n){return Er(this,void 0,void 0,(function*(){try{const r=yield wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null}))),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}download(e,t){return Er(this,void 0,void 0,(function*(){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield vr(this.fetch,`${this.url}/${n}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}remove(e){return Er(this,void 0,void 0,(function*(){try{return{data:yield _r(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}list(e,t,n){return Er(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},kr),t),{prefix:e||""});return{data:yield wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Or={"X-Client-Info":"storage-js/2.5.4"};var xr=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class Cr{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Or),t),this.fetch=fr(n)}listBuckets(){return xr(this,void 0,void 0,(function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}getBucket(e){return xr(this,void 0,void 0,(function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}createBucket(e,t={public:!1}){return xr(this,void 0,void 0,(function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}updateBucket(e,t){return xr(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,s){return pr(this,void 0,void 0,(function*(){return yr(e,"PUT",t,r,s,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}emptyBucket(e){return xr(this,void 0,void 0,(function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}deleteBucket(e){return xr(this,void 0,void 0,(function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(lr(e))return{data:null,error:e};throw e}}))}}class Tr extends Cr{constructor(e,t={},n){super(e,t,n)}from(e){return new Pr(this.url,this.headers,e,this.fetch)}}let Ir="";Ir="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Ar={"X-Client-Info":`supabase-js-${Ir}/2.36.0`};var jr=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Nr=e=>{let t;return t=e||("undefined"==typeof fetch?Pn():fetch),(...e)=>t(...e)},$r=(e,t,n)=>{const r=Nr(n),s="undefined"==typeof Headers?Sn.Headers:Headers;return(n,i)=>jr(void 0,void 0,void 0,(function*(){var o;const a=null!==(o=yield t())&&void 0!==o?o:e;let c=new s(null==i?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},i),{headers:c}))}))};const Mr=()=>"undefined"!=typeof document,Ur={tested:!1,writable:!1},Lr=()=>{if(!Mr())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(Ur.tested)return Ur.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ur.tested=!0,Ur.writable=!0}catch(e){Ur.tested=!0,Ur.writable=!1}return Ur.writable};function Rr(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(e){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}const Dr=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,8138,23)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},Fr=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Br=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Gr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return n}},Wr=async(e,t)=>{await e.removeItem(t)};class zr{constructor(){this.promise=new zr.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function qr(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,s,i,o,a,c,l="",u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)i=t.indexOf(e.charAt(u++)),o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),n=i<<2|o>>4,r=(15&o)<<4|a>>2,s=(3&a)<<6|c,l+=String.fromCharCode(n),64!=a&&0!=r&&(l+=String.fromCharCode(r)),64!=c&&0!=s&&(l+=String.fromCharCode(s));return l}(n))}function Hr(e){return("0"+e.toString(16)).substr(-2)}function Kr(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Hr).join("")}async function Vr(e){if("undefined"==typeof crypto)return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return function(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(t)}zr.promiseConstructor=Promise;class Jr extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function Yr(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Xr extends Jr{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zr extends Jr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Qr extends Jr{constructor(e,t,n){super(e),this.name=t,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class es extends Qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class ts extends Qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class ns extends Qr{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class rs extends Qr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ss extends Qr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class is extends Qr{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function os(e){return Yr(e)&&"AuthRetryableFetchError"===e.name}var as=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ls=[502,503,504];async function us(e){if(!Fr(e))throw new is(cs(e),0);if(ls.includes(e.status))throw new is(cs(e),e.status);let t;try{t=await e.json()}catch(e){throw new Zr(cs(e),e)}throw new Xr(cs(t),e.status||500)}const hs=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ds(e,t,n,r){var s;const i=Object.assign({},null==r?void 0:r.headers);(null==r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const o=null!==(s=null==r?void 0:r.query)&&void 0!==s?s:{};(null==r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await async function(e,t,n,r,s,i){const o=hs(t,r,s,i);let a;try{a=await e(n,o)}catch(e){throw console.error(e),new is(cs(e),0)}a.ok||await us(a);if(null==r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(e){await us(e)}}(e,t,n+a,{headers:i,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(c):{data:Object.assign({},c),error:null}}function fs(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ps(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ms(e){return{data:e,error:null}}function gs(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=as(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},user:Object.assign({},o)},error:null}}function bs(e){return e}var ys=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class vs{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Dr(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await ds(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await ds(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ps})}catch(e){if(Yr(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{const{options:t}=e,n=ys(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await ds(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:gs,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(Yr(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await ds(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ps})}catch(e){if(Yr(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,n,r,s,i,o,a;try{const c={nextPage:null,lastPage:0,total:0},l=await ds(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:bs});if(l.error)throw l.error;const u=await l.json(),h=null!==(i=l.headers.get("x-total-count"))&&void 0!==i?i:0,d=null!==(a=null===(o=l.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);c[`${n}Page`]=t})),c.total=parseInt(h)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(e){if(Yr(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await ds(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ps})}catch(e){if(Yr(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await ds(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ps})}catch(e){if(Yr(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await ds(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ps})}catch(e){if(Yr(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{const{data:t,error:n}=await ds(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{return{data:await ds(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(Yr(e))return{data:null,error:e};throw e}}}const ws="2.54.0",_s={"X-Client-Info":`gotrue-js/${ws}`},Es={getItem:e=>Lr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Lr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Lr()&&globalThis.localStorage.removeItem(e)}};function ks(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}globalThis&&Lr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class Ss extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Ps={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_s,flowType:"implicit",debug:!1},Os=3e4;async function xs(e,t,n){return await n()}class Cs{constructor(e){var t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cs.nextInstanceID,Cs.nextInstanceID+=1,this.instanceID>0&&Mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ps),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new vs({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Dr(n.fetch),this.lock=n.lock||xs,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Lr()?this.storage=Es:(this.memoryStorage={},this.storage=ks(this.memoryStorage)):(this.memoryStorage={},this.storage=ks(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(t=this.broadcastChannel)||void 0===t||t.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ws}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){try{const e=!!Mr()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:r,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",s),await this._saveSession(r),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Yr(e)?{error:e}:{error:new Zr("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,n,r;try{let s;if(await this._removeSession(),"email"in e){const{email:n,password:r,options:i}=e;let o=null,a=null;if("pkce"===this.flowType){const e=Kr();await Br(this.storage,`${this.storageKey}-code-verifier`,e),o=await Vr(e),a=e===o?"plain":"s256"}s=await ds(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:a},xform:fs})}else{if(!("phone"in e))throw new ns("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;s=await ds(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null==o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null==o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:fs})}}const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const a=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(await this._removeSession(),"email"in e){const{email:n,password:r,options:s}=e;t=await ds(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:fs})}else{if(!("phone"in e))throw new ns("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await ds(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:fs})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:r}):{data:{user:null,session:null},error:new ts}}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,n,r,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await Gr(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:r}=await ds(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:fs});return await Wr(this.storage,`${this.storageKey}-code-verifier`),r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:r}):{data:{user:null,session:null},error:new ts}}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:n,token:r,access_token:s,nonce:i}=e,o=await ds(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:fs}),{data:a,error:c}=o;return c?{data:{user:null,session:null},error:c}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c}):{data:{user:null,session:null},error:new ts}}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,n,r,s,i;try{if(await this._removeSession(),"email"in e){const{email:r,options:s}=e;let i=null,o=null;if("pkce"===this.flowType){const e=Kr();await Br(this.storage,`${this.storageKey}-code-verifier`,e),i=await Vr(e),o=e===i?"plain":"s256"}const{error:a}=await ds(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:a}=await ds(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(i=null==n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new ns("You must provide either an email or phone number.")}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,n;try{let r,s;"email_change"!==e.type&&"phone_change"!==e.type&&await this._removeSession(),"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await ds(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:fs});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const a=i.session,c=i.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,n,r;try{return await this._removeSession(),await ds(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:ms})}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new es;const{error:r}=await ds(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{"email_change"!=e.type&&"phone_change"!=e.type&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:i}=await ds(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:i,error:o}=await ds(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o}}throw new ns("You must provide either an email or phone number and a type")}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return{data:{session:e},error:null};const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,(async()=>await this._getUser())))}async _getUser(e){try{return e?await ds(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ps}):await this._useSession((async e=>{var t,n;const{data:r,error:s}=e;if(s)throw s;return await ds(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==n?n:void 0,xform:ps})}))}catch(e){if(Yr(e))return{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new es;const i=r.session;let o=null,a=null;if("pkce"===this.flowType&&null!=e.email){const e=Kr();await Br(this.storage,`${this.storageKey}-code-verifier`,e),o=await Vr(e),a=e===o?"plain":"s256"}const{data:c,error:l}=await ds(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:i.access_token,xform:ps});if(l)throw l;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(e){if(Yr(e))return{data:{user:null},error:e};throw e}}_decodeJWT(e){return qr(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new es;const t=Date.now()/1e3;let n=t,r=!0,s=null;const i=qr(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(Yr(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new es;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e){try{if(!Mr())throw new rs("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new rs("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!e)throw new ss("Not a valid PKCE flow url.");const t=Rr(window.location.href);if(e){if(!t.code)throw new ss("No code detected.");const{data:e,error:n}=await this._exchangeCodeForSession(t.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new rs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:o,expires_at:a,token_type:c}=t;if(!(s&&o&&i&&c))throw new rs("No session defined in URL");const l=Math.round(Date.now()/1e3),u=parseInt(o);let h=l+u;a&&(h=parseInt(a));const d=h-l;1e3*d<=Os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${u}s`);const f=h-u;l-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,l):l-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",f,h,l);const{data:p,error:m}=await this._getUser(s);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:h,refresh_token:i,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(e){if(Yr(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){const e=Rr(window.location.href);return!(!Mr()||!e.access_token&&!e.error_description)}async _isPKCEFlow(){const e=Rr(window.location.href),t=await Gr(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Yr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Wr(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(t){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}}))}async resetPasswordForEmail(e,t={}){let n=null,r=null;if("pkce"===this.flowType){const e=Kr();await Br(this.storage,`${this.storageKey}-code-verifier`,e),n=await Vr(e),r=e===n?"plain":"s256"}try{return await ds(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*n),this._debug(t,"refreshing attempt",n),await ds(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fs})),r=(e,t,n)=>n&&n.error&&os(n.error)&&Date.now()+200*(e+1)-s<Os,new Promise(((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(e){if(!r(s,e))return void t(e)}})()})))}catch(e){if(this._debug(t,"error",e),Yr(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Mr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Gr(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=Math.round(Date.now()/1e3),s=(null!==(e=n.expires_at)&&void 0!==e?e:1/0)<r+10;if(this._debug(t,`session has${s?"":" not"} expired with margin of 10s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),os(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(e){return this._debug(t,"error",e),void console.error(e)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new zr;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new es;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,"error",e),Yr(e)){const n={session:null,error:e};return null===(t=this.refreshingDeferred)||void 0===t||t.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}}));if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await this._persistSession(e)}_persistSession(e){return this._debug("#_persistSession()",e),Br(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Wr(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Os);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Ss))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t){const n=[`provider=${encodeURIComponent(e)}`];if((null==t?void 0:t.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&n.push(`scopes=${encodeURIComponent(t.scopes)}`),"pkce"===this.flowType){const e=Kr();await Br(this.storage,`${this.storageKey}-code-verifier`,e);const t=await Vr(e),r=e===t?"plain":"s256";this._debug("PKCE","code verifier",`${e.substring(0,5)}...`,"code challenge",t,"method",r);const s=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(r)}`});n.push(s.toString())}if(null==t?void 0:t.queryParams){const e=new URLSearchParams(t.queryParams);n.push(e.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ds(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await ds(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(n=null==s?void 0:s.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:((null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:o}=await ds(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})}))}catch(e){if(Yr(e))return{data:null,error:e};throw e}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ds(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(e){if(Yr(e))return{data:null,error:e};throw e}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null==e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}))))}}Cs.nextInstanceID=0;class Ts extends Cs{constructor(e){super(e)}}var Is=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const As={headers:Ar},js={schema:"public"},Ns={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$s={};class Ms{constructor(e,t,n){var r,s,i,o,a,c,l,u;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const h=e.replace(/\/$/,"");this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f=function(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:c,global:l}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),i)}}(null!=n?n:{},{db:js,realtime:$s,auth:Object.assign(Object.assign({},Ns),{storageKey:d}),global:As});this.storageKey=null!==(s=null===(r=f.auth)||void 0===r?void 0:r.storageKey)&&void 0!==s?s:"",this.headers=null!==(o=null===(i=f.global)||void 0===i?void 0:i.headers)&&void 0!==o?o:{},this.auth=this._initSupabaseAuthClient(null!==(a=f.auth)&&void 0!==a?a:{},this.headers,null===(c=f.global)||void 0===c?void 0:c.fetch),this.fetch=$r(t,this._getAccessToken.bind(this),null===(l=f.global)||void 0===l?void 0:l.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},f.realtime)),this.rest=new An(`${h}/rest/v1`,{headers:this.headers,schema:null===(u=f.db)||void 0===u?void 0:u.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new kn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Tr(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Is(this,void 0,void 0,(function*(){const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:s,flowType:i,debug:o},a,c){const l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ts({url:this.authUrl,headers:Object.assign(Object.assign({},l),a),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:i,debug:o,fetch:c})}_initRealtimeClient(e){return new ar(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=n?n:null),this.changedAccessToken=n)}}const Us=new class extends o{client;connect(e,t){this.client=((e,t,n)=>new Ms(e,t,n))(e,t,{auth:{autoRefreshToken:!0,persistSession:!0}})}};class Ls{static toTitleCase(e){return e.replace(/(^\w|\s\w)(\S*)/g,((e,t,n)=>t.toUpperCase()+n.toLowerCase()))}static shortenEthereumAddress(e){return 42===e.length&&e.startsWith("0x")?`${e.substring(0,6)}...${e.substring(38)}`:e}static numberWithCommas(e,t){if(void 0===t||+ +e>Number.MAX_SAFE_INTEGER){const t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"0"===t[1]?t[0]:t.join(".")}const n=String(+(+e).toFixed(t)).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}}class Rs{closed=!1;changeParams(e,t){}close(){this.closed=!0}}var Ds=n(7484),Fs=n.n(Ds),Bs=n(4110),Gs=n.n(Bs);const Ws=new class{dev=!1};const zs=new class extends o{user;get userId(){return this.user?.id}get name(){return this.user?.user_metadata.full_name}get xUsername(){if("twitter"===this.user?.app_metadata.provider)return this.user.user_metadata.user_name}get avatarUrl(){return this.user?.user_metadata.avatar_url}get signed(){return void 0!==this.user}get walletAddress(){this.user}get walletConnected(){return void 0!==this.walletAddress}constructor(){super(),this.addAllowedEvents("userFetched")}async fetchUserOnInit(){const{data:e,error:t}=await Us.client.auth.getSession();if(t)throw t;this.user=e?.session?.user,this.user&&this.fireEvent("userFetched")}async signIn(){await Us.client.auth.signInWithOAuth({provider:"twitter",options:Ws.dev?{redirectTo:"http://localhost:8413/"}:void 0})}connectWallet(){}async signOut(){const{error:e}=await Us.client.auth.signOut();if(e)throw e;location.reload()}};class qs extends c{welcomeMessage="Welcome to Igloo!";titleDisplay;loginButton;signedUser;settingsButton;constructor(){super(".mobile-title-bar"),this.append(y("h1",y("img",{src:"/images/logo.png"}),{click:()=>f.go("/")}),this.titleDisplay=y("p"),this.loginButton=y("button.login-button",new g("login"),{click:()=>zs.signIn()}),this.signedUser=y("a.signed-user",{click:()=>f.go(`/${zs.xUsername}`)}),this.settingsButton=y("button.settings-button",new g("settings"),{click:()=>f.go("/settings")})),this.checkSigned(),this.onDelegate(zs,"userFetched",(()=>this.checkSigned()))}checkSigned(){this.showLoginOrSignedUser(),this.titleDisplay.text=this.welcomeMessage=zs.signed?"Hello, "+zs.name+"!":"Welcome to Igloo!",zs.signed&&this.signedUser.style({backgroundImage:`url(${zs.avatarUrl})`})}showLoginOrSignedUser(){zs.signed?this.showSignedUser():this.showLoginButton()}showLoginButton(){this.loginButton.addClass("show"),this.signedUser.deleteClass("show"),this.settingsButton.deleteClass("show")}showSignedUser(){this.loginButton.deleteClass("show"),this.signedUser.addClass("show"),this.settingsButton.deleteClass("show")}showSettingsButton(){this.loginButton.deleteClass("show"),this.signedUser.deleteClass("show"),this.settingsButton.addClass("show")}set uri(e){""===e||"inbox"===e||"explore"===e||"notifications"===e||"settings"===e?(this.titleDisplay.text=Ls.toTitleCase(""===e?"home":e),this.showLoginOrSignedUser()):(this.titleDisplay.text="@"+e,zs.xUsername===e?this.showSettingsButton():this.showLoginOrSignedUser())}}class Hs extends c{currentActiveButton;loginButton;signedUser;constructor(){super(".nav-bar"),this.append(y("h1",y("img",{src:"/images/logo.png"}),{click:()=>f.go("/")}),y("button.home",new g("home"),{click:()=>f.go("/")}),y("button.inbox",new g("inbox"),{click:()=>f.go("/inbox")}),y("button.explore",new g("search"),{click:()=>f.go("/explore")}),y("button.notifications",new g("notifications"),{click:()=>f.go("/notifications")}),y("button.settings",new g("settings"),{click:()=>f.go("/settings")}),this.loginButton=y("button.login-button",new g("login"),{click:()=>zs.signIn()}),this.signedUser=y("a.signed-user",{click:()=>f.go(`/${zs.xUsername}`)})),this.checkSigned(),this.onDelegate(zs,"userFetched",(()=>this.checkSigned()))}checkSigned(){zs.signed?this.showSignedUser():this.showLoginButton(),zs.signed&&this.signedUser.style({backgroundImage:`url(${zs.avatarUrl})`})}showLoginButton(){this.loginButton.addClass("show"),this.signedUser.deleteClass("show")}showSignedUser(){this.loginButton.deleteClass("show"),this.signedUser.addClass("show")}activeButton(e){this.currentActiveButton&&this.currentActiveButton.deleteClass("active"),this.currentActiveButton=this.children.find((t=>t.hasClass(e))),this.currentActiveButton?.addClass("active")}}class Ks extends c{constructor(){super(".trend-section"),this.append(y("label.search-bar",new g("search"),y("input",{placeholder:"Search"})),y(".trend-list"))}hide(){this.addClass("hidden")}show(){this.deleteClass("hidden")}}class Vs extends Rs{static current;static append(e){Vs.current.content.append(e)}container;mobileTitleBar;navBar;content;trendSection;constructor(e,t){super(),Vs.current=this,l.append(this.container=y(".layout",this.mobileTitleBar=new qs,this.navBar=new Hs,this.content=y("main"),this.trendSection=new Ks)),this.activeNavBarButton(t)}changeParams(e,t){this.activeNavBarButton(t)}activeNavBarButton(e){this.navBar.activeButton(""===e?"home":e),"explore"===e?this.trendSection.hide():this.trendSection.show(),this.mobileTitleBar.uri=e}close(){this.container.delete(),super.close()}}class Js extends Rs{container;constructor(e){super(),Vs.append(this.container=y(".explore-view",y("h1","Explorer")))}close(){this.container.delete(),super.close()}}class Ys extends c{post;constructor(e){super(".post-list-item"),this.post=e,this.append(y(".author-profile-image",{style:{backgroundImage:`url(${e.author_avatar_url})`}}),y("main",y("header",y(".author",y(".name",e.author_name),e.author_x_username?y(".x-username",`@${e.author_x_username}`):void 0),y("button.owner-menu",new g("more_vert"),{click:e=>{e.stopPropagation()}})),y("p",e.message))),this.onDom("click",(()=>f.go(`/post/${e.id}`))),this.checkSigned(),this.onDelegate(zs,"userFetched",(()=>this.checkSigned()))}checkSigned(){this.post.author===zs.userId&&this.addClass("owned")}}class Xs extends c{contentFetched=!1;lastFetchedPostId;constructor(e){super(e+".post-list")}addPost(e){this.append(new Ys(e))}show(){this.deleteClass("hidden"),this.contentFetched||(this.fetchContent(),this.contentFetched=!0)}hide(){this.addClass("hidden")}}class Zs extends Xs{constructor(){super(".following-post-list")}fetchContent(){}}var Qs;!function(e){e[e.EVERYONE=0]="EVERYONE",e[e.KEY_HOLDERS=1]="KEY_HOLDERS"}(Qs||(Qs={}));const ei=new class extends o{store=new s("cached-posts");constructor(){super(),this.addAllowedEvents("update")}init(){Us.client.channel("posts-changes").on("postgres_changes",{event:"*",schema:"public",table:"posts"},(e=>{"INSERT"!==e.eventType&&"UPDATE"!==e.eventType||this.refresh(e.new.id)})).subscribe()}get(e){const t=this.store.get(String(e));if(t)return t}cache(e){var t,n;t=e,n=this.get(e.id),t?.id===n?.id&&t?.guild_id===n?.guild_id&&t?.target===n?.target&&t?.author===n?.author&&t?.author_name===n?.author_name&&t?.author_avatar_url===n?.author_avatar_url&&t?.author_x_username===n?.author_x_username&&t?.message===n?.message&&((e,t)=>e.files?.length===t.files?.length&&(e.files?.every(((e,n)=>{const r=t.files?.[n];return e.url===r?.url&&e.thumbnailURL===r?.thumbnailURL&&e.fileName===r?.fileName&&e.fileType===r?.fileType&&e.fileSize===r?.fileSize}))??!1))(t?.rich??{},n?.rich??{})&&t?.post_ref===n?.post_ref||(this.store.set(String(e.id),e,!0),this.fireEvent("update",e))}async refresh(e){const{data:t,error:n}=await Us.client.from("posts").select().eq("id",e);if(n)throw n;const r=t?.[0];r&&this.cache(r)}cachePosts(e){for(const t of e)this.cache(t)}};const ti=new class{async post(e,t){const{data:n,error:r}=await Us.client.from("posts").insert({target:e,message:t}).select().single();if(r)throw r;return n.id}async fetchGlobalPosts(e){const{data:t,error:n}=await Us.client.from("posts").select().order("created_at",{ascending:!1}).lt("id",e??Number.MAX_SAFE_INTEGER).limit(50);if(n)throw n;return t}};class ni extends Xs{store=new s("global-post-list");isContentFromCache=!0;constructor(){super(".global-post-list");const e=this.store.get("cached-posts");if(e)for(const t of e)this.addPost(t)}async fetchContent(){const e=await ti.fetchGlobalPosts(this.lastFetchedPostId);ei.cachePosts(e),this.lastFetchedPostId=e[e.length-1].id,this.isContentFromCache&&(this.isContentFromCache=!1,this.store.set("cached-posts",e,!0),this.empty());for(const t of e)this.addPost(t)}}class ri extends Xs{constructor(){super(".key-held-post-list")}fetchContent(){}}class si extends b{content;targetSelect;textarea;postButton;constructor(){super({barrierDismissible:!0}),this.append(this.content=new m(".popup.post-popup",y(".signed-user",{style:{backgroundImage:`url(${zs.avatarUrl})`}}),y(".form",y("header",this.targetSelect=y("select",y("option",{value:"0"},"Everyone"),y("option",{value:"1"},"Key Holders")),y("button",new g("close"),{click:()=>this.delete()})),y("main",this.textarea=y("textarea",{placeholder:"What's on your mind?"})),y("footer",y("button.icon-button",new g("image")),this.postButton=new v({tag:".post-button",click:()=>this.post(),title:"Post"}))))),this.textarea.domElement.focus()}async post(){this.postButton.disable().text="Posting...";try{const e=await ti.post(parseInt(this.targetSelect.domElement.value),this.textarea.domElement.value);new E({message:"Your post has been successfully published.",action:{title:"View",click:()=>f.go(`/post/${e}`)}}),this.delete()}catch(e){console.error(e),this.postButton.enable().text="Post"}}}class ii extends Rs{container;tabs;globalPostList;followingPostList;keyHeldPostList;postButton;constructor(e){super(),Vs.append(this.container=y(".home-view",y("main",y("h1","Home"),this.tabs=new P("home-view-tabs",[{id:"global",label:"Global"},{id:"following",label:"Following"},{id:"held",label:"Held"}]),this.globalPostList=new ni,this.followingPostList=new Zs,this.keyHeldPostList=new ri),this.postButton=y("button.post",new g("add"),{click:()=>new si}))),this.tabs.on("select",(e=>{[this.globalPostList,this.followingPostList,this.keyHeldPostList].forEach((e=>e.hide())),"global"===e?this.globalPostList.show():"following"===e?this.followingPostList.show():"held"===e&&this.keyHeldPostList.show()})).init(),this.checkSigned(),this.container.onDelegate(zs,"userFetched",(()=>this.checkSigned()))}checkSigned(){zs.signed?this.postButton.deleteClass("hidden"):this.postButton.addClass("hidden")}close(){this.container.delete(),super.close()}}class oi extends Rs{container;constructor(e){super(),Vs.append(this.container=y(".inbox-view",y("h1","Inbox")))}close(){this.container.delete(),super.close()}}class ai extends Rs{container;constructor(e){super(),Vs.append(this.container=y(".notifications-view",y("h1","Notifications")))}close(){this.container.delete(),super.close()}}class ci extends Rs{container;constructor(e){super(),Vs.append(this.container=y(".settings-view",y("h1","Settings")))}close(){this.container.delete(),super.close()}}class li extends Rs{container;xUsername;constructor(e){super(),Vs.append(this.container=y(".user-view")),this.xUsername=e.xUsername,this.render()}render(){this.container.append(y("h1","@"+this.xUsername))}changeParams(e,t){this.xUsername=e.xUsername,this.render()}close(){this.container.delete(),super.close()}}var ui=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured for connector "${t}".`),this.name="ChainNotConfiguredForConnectorError"}},hi=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}};function di(e){return"string"==typeof e?Number.parseInt(e,"0x"===e.trim().substring(0,2)?16:10):"bigint"==typeof e?Number(e):e}var fi=n(6729),pi=n(2676);const mi=(0,pi.ax)({id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),gi=(0,pi.ax)({id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0});var bi=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},yi=(e,t,n)=>(bi(e,t,"read from private field"),n?n.call(e):t.get(e)),vi=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},wi=(e,t,n,r)=>(bi(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_i=(e,t,n)=>(bi(e,t,"access private method"),n),Ei=class extends fi{constructor({chains:e=[mi,gi],options:t}){super(),this.chains=e,this.options=t}getBlockExplorerUrls(e){const{default:t,...n}=e.blockExplorers??{};if(t)return[t.url,...Object.values(n).map((e=>e.url))]}isChainUnsupported(e){return!this.chains.some((t=>t.id===e))}setStorage(e){this.storage=e}},ki=n(5775),Si=n(2027),Pi=n(8863);class Oi extends Si.G{constructor(e,{code:t,docsPath:n,metaMessages:r,shortMessage:s}){super(s,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof Pi.bs?e.code:t??-1}}class xi extends Oi{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Ci extends Oi{constructor(e){super(e,{code:Ci.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Ci,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ti extends Oi{constructor(e){super(e,{code:Ti.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Ti,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ii extends Oi{constructor(e){super(e,{code:Ii.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Ii,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ai extends Oi{constructor(e){super(e,{code:Ai.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Ai,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ji extends Oi{constructor(e){super(e,{code:ji.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(ji,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ni extends Oi{constructor(e){super(e,{code:Ni.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Ni,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class $i extends Oi{constructor(e){super(e,{code:$i.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty($i,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Mi extends Oi{constructor(e){super(e,{code:Mi.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Mi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ui extends Oi{constructor(e){super(e,{code:Ui.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Ui,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Li extends Oi{constructor(e){super(e,{code:Li.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Li,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ri extends Oi{constructor(e){super(e,{code:Ri.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Ri,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Di extends Oi{constructor(e){super(e,{code:Di.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Di,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Fi extends xi{constructor(e){super(e,{code:Fi.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Fi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Bi extends xi{constructor(e){super(e,{code:Bi.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Bi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Gi extends xi{constructor(e){super(e,{code:Gi.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Gi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Wi extends xi{constructor(e){super(e,{code:Wi.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Wi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class zi extends xi{constructor(e){super(e,{code:zi.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(zi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class qi extends xi{constructor(e){super(e,{code:qi.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(qi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Hi extends Oi{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}var Ki=n(4503);const Vi=256;let Ji,Yi=Vi;function Xi(e=11){if(!Ji||Yi+e>2*Vi){Ji="",Yi=0;for(let e=0;e<Vi;e++)Ji+=(256+256*Math.random()|0).toString(16).substring(1)}return Ji.substring(Yi,Yi+++e)}function Zi(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,key:r="base",name:s="Base Client",pollingInterval:i=4e3,type:o="base"}=e,a=e.chain,c=e.account?(0,Ki.T)(e.account):void 0,{config:l,request:u,value:h}=e.transport({chain:a,pollingInterval:i}),d={account:c,batch:t,cacheTime:n,chain:a,key:r,name:s,pollingInterval:i,request:u,transport:{...l,...h},type:o,uid:Xi()};return Object.assign(d,{extend:function e(t){return n=>{const r=n(t);for(const e in d)delete r[e];const s={...t,...r};return Object.assign(s,{extend:e(s)})}}(d)})}var Qi=n(5946);async function eo(e){const t=await e.request({method:"eth_chainId"});return(0,Qi.ly)(t)}var to=n(2106);var no=n(7412),ro=n(7040),so=n(5444);const io="/docs/contract/encodeDeployData";function oo({abi:e,args:t,bytecode:n}){if(!t||0===t.length)return n;const r=e.find((e=>"type"in e&&"constructor"===e.type));if(!r)throw new no.fM({docsPath:io});if(!("inputs"in r))throw new no.cO({docsPath:io});if(!r.inputs||0===r.inputs.length)throw new no.cO({docsPath:io});const s=(0,so.E)(r.inputs,t);return(0,ro.SM)([n,s])}class ao extends Si.G{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}var co=n(6445),lo=n(3639),uo=n(7469);var ho=n(1163),fo=n(4688),po=n(7531),mo=n(7795);class go extends Si.G{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class bo extends Si.G{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class yo extends Si.G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,mo.o)(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class vo extends Si.G{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}function wo(e,t){return({exclude:n,format:r})=>({exclude:n,format:e=>{const s=t(e);if(n)for(const e of n)delete s[e];return{...s,...r(e)}},type:e})}const _o={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function Eo(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,Qi.ly)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,Qi.ly)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?_o[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip2930"===t.type&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}const ko=wo("transaction",Eo);function So(e){const t=e.transactions?.map((e=>"string"==typeof e?e:Eo(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Po=wo("block",So);async function Oo(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){const i=r??"latest",o=s??!1,a=void 0!==n?(0,to.eC)(n):void 0;let c=null;if(c=t?await e.request({method:"eth_getBlockByHash",params:[t,o]}):await e.request({method:"eth_getBlockByNumber",params:[a||i,o]}),!c)throw new vo({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||So)(c)}async function xo(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Co(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};if("function"==typeof r?.fees?.defaultPriorityFee){const t=n||await Oo(e);return r.fees.defaultPriorityFee({block:t,client:e,request:s})}if(void 0!==r?.fees?.defaultPriorityFee)return r?.fees?.defaultPriorityFee;try{const t=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,Qi.y_)(t)}catch{const[t,r]=await Promise.all([n?Promise.resolve(n):Oo(e),xo(e)]);if("bigint"!=typeof t.baseFeePerGas)throw new bo;const s=r-t.baseFeePerGas;return s<0n?0n:s}}async function To(e,t){const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new go;const a=10**(o.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(o*a))/BigInt(a),l=n||await Oo(e);if("function"==typeof r?.fees?.estimateFeesPerGas)return r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:s,type:i});if("eip1559"===i){if("bigint"!=typeof l.baseFeePerGas)throw new bo;const t=s?.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await Co(e,{block:l,chain:r,request:s}),n=c(l.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:s?.gasPrice??c(await xo(e))}}var Io=n(9625);class Ao extends Si.G{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:i,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:h}){const d=(0,lo.xr)({from:t?.address,to:u,value:void 0!==h&&`${(0,Io.d)(h)} ${r?.nativeCurrency.symbol||"ETH"}`,data:s,gas:i,gasPrice:void 0!==o&&`${(0,mo.o)(o)} gwei`,maxFeePerGas:void 0!==a&&`${(0,mo.o)(a)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,mo.o)(c)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}async function jo(e,t){const n=t.account??e.account;if(!n)throw new ao({docsPath:"/docs/actions/public/estimateGas"});const r=(0,Ki.T)(n);try{const{accessList:n,blockNumber:s,blockTag:i,data:o,gas:a,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:h,to:d,value:f,...p}="local"===r.type?await $o(e,t):t,m=(s?(0,to.eC)(s):void 0)||i;(0,po.F)(t);const g=e.chain?.formatters?.transactionRequest?.format||fo.tG,b=g({...(0,ho.K)(p,{format:g}),from:r.address,accessList:n,data:o,gas:a,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:h,to:d,value:f}),y=await e.request({method:"eth_estimateGas",params:m?[b,m]:[b]});return BigInt(y)}catch(n){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,uo.k)(e,n);return t instanceof co.cj?e:t})();return new Ao(r,{docsPath:t,...n})}(n,{...t,account:r,chain:e.chain})}}async function No(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?(0,to.eC)(r):n]});return(0,Qi.ly)(s)}async function $o(e,t){const{account:n=e.account,chain:r,gas:s,nonce:i,type:o}=t;if(!n)throw new ao;const a=(0,Ki.T)(n),c=await Oo(e,{blockTag:"latest"}),l={...t,from:a.address};if(void 0===i&&(l.nonce=await No(e,{address:a.address,blockTag:"pending"})),void 0===o)try{l.type=function(e){if(e.type)return e.type;if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new lo.j3({transaction:e})}(l)}catch{l.type="bigint"==typeof c.baseFeePerGas?"eip1559":"legacy"}if("eip1559"===l.type){const{maxFeePerGas:n,maxPriorityFeePerGas:s}=await To(e,{block:c,chain:r,request:l});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<s)throw new yo({maxPriorityFeePerGas:s});l.maxPriorityFeePerGas=s,l.maxFeePerGas=n}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new bo;const{gasPrice:n}=await To(e,{block:c,chain:r,request:l,type:"legacy"});l.gasPrice=n}return void 0===s&&(l.gas=await jo(e,{...l,account:{address:a.address,type:"json-rpc"}})),(0,po.F)(l),l}async function Mo(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function Uo(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d,...f}=t;if(!n)throw new ao({docsPath:"/docs/actions/wallet/sendTransaction"});const p=(0,Ki.T)(n);try{let n;if((0,po.F)(t),null!==r&&(n=await eo(e),(0,pi.qg)({currentChainId:n,chain:r})),"local"===p.type){const t=await $o(e,{account:p,accessList:s,chain:r,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d,...f});n||(n=await eo(e));const m=r?.serializers?.transaction,g=await p.signTransaction({...t,chainId:n},{serializer:m});return await Mo(e,{serializedTransaction:g})}const m=r?.formatters?.transactionRequest?.format||fo.tG,g=m({...(0,ho.K)(f,{format:m}),accessList:s,data:i,from:p.address,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d});return await e.request({method:"eth_sendTransaction",params:[g]})}catch(e){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,uo.k)(e,n);return t instanceof co.cj?e:t})();return new lo.mk(r,{docsPath:t,...n})}(e,{...t,account:p,chain:t.chain||void 0})}}var Lo=n(5102),Ro=n(6070),Do=n(6087),Fo=n(9321),Bo=n(9135);const Go=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Wo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function zo({domain:e,message:t,primaryType:n,types:r}){const s=r,i=(e,t)=>{for(const n of e){const{name:e,type:r}=n,o=r,a=t[e],c=o.match(Wo);if(c&&("number"==typeof a||"bigint"==typeof a)){const[e,t,n]=c;(0,to.eC)(a,{signed:"int"===t,size:parseInt(n)/8})}if("address"===o&&"string"==typeof a&&!(0,Fo.U)(a))throw new Do.b({address:a});const l=o.match(Go);if(l){const[e,t]=l;if(t&&(0,Bo.d)(a)!==parseInt(t))throw new no.KY({expectedSize:parseInt(t),givenSize:(0,Bo.d)(a)})}const u=s[o];u&&i(u,a)}};if(s.EIP712Domain&&e&&i(s.EIP712Domain,e),"EIP712Domain"!==n){const e=s[n];i(e,t)}}function qo({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}var Ho=n(7799);function Ko(e){return{addChain:t=>async function(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,to.eC)(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map((({url:e})=>e)):void 0}]})}(e,t),deployContract:t=>function(e,{abi:t,args:n,bytecode:r,...s}){return Uo(e,{...s,data:oo({abi:t,args:n,bytecode:r})})}(e,t),getAddresses:()=>async function(e){return(await e.request({method:"eth_accounts"})).map((e=>(0,ki.x)(e)))}(e),getChainId:()=>eo(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"})}(e),prepareTransactionRequest:t=>$o(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"})).map((e=>(0,ki.K)(e)))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}(e,t),sendRawTransaction:t=>Mo(e,t),sendTransaction:t=>Uo(e,t),signMessage:t=>async function(e,{account:t=e.account,message:n}){if(!t)throw new ao({docsPath:"/docs/actions/wallet/signMessage"});const r=(0,Ki.T)(t);if("local"===r.type)return r.signMessage({message:n});const s="string"==typeof n?(0,to.$G)(n):n.raw instanceof Uint8Array?(0,to.NC)(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]})}(e,t),signTransaction:t=>async function(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new ao({docsPath:"/docs/actions/wallet/signTransaction"});const i=(0,Ki.T)(n);(0,po.F)({account:i,...t});const o=await eo(e);null!==r&&(0,pi.qg)({currentChainId:o,chain:r});const a=r?.formatters||e.chain?.formatters,c=a?.transactionRequest?.format||fo.tG;return"local"===i.type?i.signTransaction({chainId:o,...s},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:(0,to.eC)(o),from:i.address}]})}(e,t),signTypedData:t=>async function(e,{account:t=e.account,domain:n,message:r,primaryType:s,types:i}){if(!t)throw new ao({docsPath:"/docs/actions/wallet/signTypedData"});const o=(0,Ki.T)(t),a={EIP712Domain:qo({domain:n}),...i};if(zo({domain:n,message:r,primaryType:s,types:a}),"local"===o.type)return o.signTypedData({domain:n,primaryType:s,types:a,message:r});const c=(0,Ro.P)({domain:n??{},primaryType:s,types:a,message:r},((e,t)=>(0,Lo.v)(t)?t.toLowerCase():t));return e.request({method:"eth_signTypedData_v4",params:[o.address,c]})}(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,to.eC)(t)}]})}(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t})}(e,t),writeContract:t=>async function(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:i,...o}){const a=(0,Ho.R)({abi:t,args:r,functionName:i});return await Uo(e,{data:`${a}${s?s.replace("0x",""):""}`,to:n,...o})}(e,t)}}function Vo(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Zi({...e,key:t,name:n,transport:e=>r({...e,retryCount:0}),type:"walletClient"}).extend(Ko)}async function Jo(e){return new Promise((t=>setTimeout(t,e)))}function Yo(e,{delay:t=100,retryCount:n=2,shouldRetry:r=(()=>!0)}={}){return new Promise(((s,i)=>{const o=async({count:a=0}={})=>{try{const t=await e();s(t)}catch(e){if(a<n&&await r({count:a,error:e}))return(async({error:e})=>{const n="function"==typeof t?t({count:a,error:e}):t;n&&await Jo(n),o({count:a+1})})({error:e});i(e)}};o()}))}const Xo=e=>"code"in e?-1!==e.code&&-32004!==e.code&&-32005!==e.code&&-32042!==e.code&&-32603!==e.code:!!(e instanceof Pi.Gg&&e.status)&&(403!==e.status&&408!==e.status&&413!==e.status&&429!==e.status&&500!==e.status&&502!==e.status&&503!==e.status&&504!==e.status);function Zo(e,{retryDelay:t=150,retryCount:n=3}={}){return async r=>Yo((async()=>{try{return await e(r)}catch(e){const t=e;switch(t.code){case Ci.code:throw new Ci(t);case Ti.code:throw new Ti(t);case Ii.code:throw new Ii(t);case Ai.code:throw new Ai(t);case ji.code:throw new ji(t);case Ni.code:throw new Ni(t);case $i.code:throw new $i(t);case Mi.code:throw new Mi(t);case Ui.code:throw new Ui(t);case Li.code:throw new Li(t);case Ri.code:throw new Ri(t);case Di.code:throw new Di(t);case Fi.code:throw new Fi(t);case Bi.code:throw new Bi(t);case Gi.code:throw new Gi(t);case Wi.code:throw new Wi(t);case zi.code:throw new zi(t);case qi.code:throw new qi(t);case 5e3:throw new Fi(t);default:if(e instanceof Si.G)throw e;throw new Hi(t)}}}),{delay:({count:e,error:n})=>{if(n&&n instanceof Pi.Gg){const e=n?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*parseInt(e)}return~~(1<<e)*t},retryCount:n,shouldRetry:({error:e})=>!Xo(e)})}function Qo({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:i,type:o},a){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:i,type:o},request:Zo(n,{retryCount:r,retryDelay:s}),value:a}}function ea(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:i})=>Qo({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:s,type:"custom"})}var ta,na=class extends Ei{constructor({chains:e,options:t}={}){const n={shimDisconnect:!0,getProvider(){if("undefined"==typeof window)return;const e=window.ethereum;return e?.providers?e.providers[0]:e},...t};super({chains:e,options:n}),this.id="injected",vi(this,ta,void 0),this.shimDisconnectKey=`${this.id}.shimDisconnect`,this.onAccountsChanged=e=>{0===e.length?this.emit("disconnect"):this.emit("change",{account:(0,ki.K)(e[0])})},this.onChainChanged=e=>{const t=di(e),n=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:n}})},this.onDisconnect=async e=>{if(1013===e.code){if(await this.getProvider()){if(await this.getAccount())return}}this.emit("disconnect"),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey)};const r=n.getProvider();if("string"==typeof n.name)this.name=n.name;else if(r){const e=function(e){if(!e)return"Injected";const t=e=>e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isCoin98?"Coin98 Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isDesig?"Desig Wallet":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFordefi?"Fordefi":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOpera?"Opera":e.isPhantom?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isStatus?"Status":e.isSubWallet?"SubWallet":e.isTalisman?"Talisman":e.isTally?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZeal?"Zeal":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0;if(e.providers?.length){const n=new Set;let r=1;for(const s of e.providers){let e=t(s);e||(e=`Unknown Wallet #${r}`,r+=1),n.add(e)}const s=[...n];return s.length?s:s[0]??"Injected"}return t(e)??"Injected"}(r);n.name?this.name=n.name(e):this.name="string"==typeof e?e:e[0]}else this.name="Injected";this.ready=!!r}async connect({chainId:e}={}){try{const t=await this.getProvider();if(!t)throw new hi;t.on&&(t.on("accountsChanged",this.onAccountsChanged),t.on("chainChanged",this.onChainChanged),t.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const n=await t.request({method:"eth_requestAccounts"}),r=(0,ki.K)(n[0]);let s=await this.getChainId(),i=this.isChainUnsupported(s);if(e&&s!==e){s=(await this.switchChain(e)).id,i=this.isChainUnsupported(s)}return this.options.shimDisconnect&&this.storage?.setItem(this.shimDisconnectKey,!0),{account:r,chain:{id:s,unsupported:i}}}catch(e){if(this.isUserRejectedRequestError(e))throw new Fi(e);if(-32002===e.code)throw new Mi(e);throw e}}async disconnect(){const e=await this.getProvider();e?.removeListener&&(e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey))}async getAccount(){const e=await this.getProvider();if(!e)throw new hi;const t=await e.request({method:"eth_accounts"});return(0,ki.K)(t[0])}async getChainId(){const e=await this.getProvider();if(!e)throw new hi;return e.request({method:"eth_chainId"}).then(di)}async getProvider(){const e=this.options.getProvider();return e&&wi(this,ta,e),yi(this,ta)}async getWalletClient({chainId:e}={}){const[t,n]=await Promise.all([this.getProvider(),this.getAccount()]),r=this.chains.find((t=>t.id===e));if(!t)throw new Error("provider is required.");return Vo({account:n,chain:r,transport:ea(t)})}async isAuthorized(){try{if(this.options.shimDisconnect&&!this.storage?.getItem(this.shimDisconnectKey))return!1;if(!await this.getProvider())throw new hi;return!!await this.getAccount()}catch{return!1}}async switchChain(e){const t=await this.getProvider();if(!t)throw new hi;const n=(0,to.eC)(e);try{return await Promise.all([t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),new Promise((t=>this.on("change",(({chain:n})=>{n?.id===e&&t()}))))]),this.chains.find((t=>t.id===e))??{id:e,name:`Chain ${n}`,network:`${n}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(r){const s=this.chains.find((t=>t.id===e));if(!s)throw new ui({chainId:e,connectorId:this.id});if(4902===r.code||4902===r?.data?.originalError?.code)try{await t.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:s.name,nativeCurrency:s.nativeCurrency,rpcUrls:[s.rpcUrls.public?.http[0]??""],blockExplorerUrls:this.getBlockExplorerUrls(s)}]});if(await this.getChainId()!==e)throw new Fi(new Error("User rejected switch after adding network."));return s}catch(e){throw new Fi(e)}if(this.isUserRejectedRequestError(r))throw new Fi(r);throw new qi(r)}}async watchAsset({address:e,decimals:t=18,image:n,symbol:r}){const s=await this.getProvider();if(!s)throw new hi;return s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,decimals:t,image:n,symbol:r}}})}isUserRejectedRequestError(e){return 4001===e.code}};ta=new WeakMap;var ra=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},sa=(e,t,n)=>(ra(e,t,"read from private field"),n?n.call(e):t.get(e)),ia=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},oa=(e,t,n,r)=>(ra(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),aa=n(6693),ca=n(7210),la=n(1836),ua=n(1746),ha=n(5980);function da(e,t){if(!(e instanceof Si.G))return!1;const n=e.walk((e=>e instanceof ha.Lu));return n instanceof ha.Lu&&("ResolverNotFound"===n.data?.errorName||("ResolverWildcardNotSupported"===n.data?.errorName||(!!n.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===t&&n.reason===ua.$[50])))}var fa=n(1187),pa=n(4813);function ma(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return(0,Lo.v)(t)?t:null}function ga(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,to.ci)(t);const n=e.split(".");for(let e=n.length-1;e>=0;e-=1){const r=ma(n[e]),s=r?(0,fa.O0)(r):(0,pa.w)((0,fa.qX)(n[e]),"bytes");t=(0,pa.w)((0,ro.zo)([t,s]),"bytes")}return(0,to.ci)(t)}function ba(e){const t=new Uint8Array(32).fill(0);return e?ma(e)||(0,pa.w)((0,fa.qX)(e)):(0,to.ci)(t)}function ya(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array((0,fa.qX)(t).byteLength+2);let r=0;const s=t.split(".");for(let e=0;e<s.length;e++){let t=(0,fa.qX)(s[e]);t.byteLength>255&&(t=(0,fa.qX)(`[${ba(s[e]).slice(2)}]`)),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const va=3;function wa(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const{code:a,data:c,message:l,shortMessage:u}=e instanceof ha.VQ?e:e instanceof Si.G?e.walk((e=>"data"in e))||e.walk():{},h=e instanceof no.wb?new ha.Dk({functionName:i}):[va,ji.code].includes(a)&&(c||l||u)?new ha.Lu({abi:t,data:"object"==typeof c?c.data:c,functionName:i,message:u??l}):e;return new ha.uq(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}var _a=n(6143);async function Ea(e,{abi:t,address:n,args:r,functionName:s,...i}){const o=(0,Ho.R)({abi:t,args:r,functionName:s});try{const{data:a}=await(0,_a.R)(e,{data:o,to:n,...i});return(0,ca.k)({abi:t,args:r,functionName:s,data:a||"0x"})}catch(e){throw wa(e,{abi:t,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}class ka extends Si.G{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Sa extends Si.G{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Pa extends Si.G{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Oa extends Si.G{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const xa=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Ca=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ta=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ia=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function Aa(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function ja({uri:e,gatewayUrls:t}){const n=Ta.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Aa(t?.ipfs,"https://ipfs.io"),s=Aa(t?.arweave,"https://arweave.net"),i=e.match(xa),{protocol:o,subpath:a,target:c,subtarget:l=""}=i?.groups||{},u="ipns:/"===o||"ipns/"===a,h="ipfs:/"===o||"ipfs/"===a||Ca.test(e);if(e.startsWith("http")&&!u&&!h){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((u||h)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if("ar:/"===o&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(Ia,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new Pa({uri:e})}function Na(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new ka({data:e});return e.image||e.image_url||e.image_data}async function $a({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=ja({uri:t,gatewayUrls:e});if(r)return n;const s=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e}))}}(n);if(s)return n;throw new Pa({uri:t})}async function Ma(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||"eip155"!==i.toLowerCase())throw new Sa({reason:"Only EIP-155 supported"});if(!o)throw new Sa({reason:"Chain ID not found"});if(!c)throw new Sa({reason:"Contract address not found"});if(!s)throw new Sa({reason:"Token ID not found"});if(!a)throw new Sa({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}(n),s=await async function(e,{nft:t}){if("erc721"===t.namespace)return Ea(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return Ea(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Oa({namespace:t.namespace})}(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=ja({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const e=a?atob(i.replace("data:application/json;base64,","")):i;return $a({uri:Na(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then((e=>e.json()));return await $a({gatewayUrls:e,uri:Na(n)})}catch{throw new Pa({uri:t})}}({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):$a({uri:n,gatewayUrls:t})}async function Ua(e,{blockNumber:t,blockTag:n,name:r,key:s,universalResolverAddress:i}){let o=i;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=(0,pi.LI)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=await Ea(e,{address:o,abi:aa.k3,functionName:"resolve",args:[(0,to.NC)(ya(r)),(0,Ho.R)({abi:aa.nZ,functionName:"text",args:[ga(r),s]})],blockNumber:t,blockTag:n});if("0x"===i[0])return null;const a=(0,ca.k)({abi:aa.nZ,functionName:"text",data:i[0]});return""===a?null:a}catch(e){if(da(e,"resolve"))return null;throw e}}function La(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:r,status:s,transport:i})=>{"success"===s&&t===e&&(n[r]=i.request)})),t=>n[t]||e.request}class Ra extends Si.G{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}var Da=n(4092),Fa=n(522),Ba=n(840);function Ga({abi:e,eventName:t,args:n}){let r=e[0];if(t&&(r=(0,Ba.m)({abi:e,args:n,name:t}),!r))throw new no.mv(t,{docsPath:"/docs/contract/encodeEventTopics"});if("event"!==r.type)throw new no.mv(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=(0,Fa.t)(r),i=(0,Da.e)(s);let o=[];if(n&&"inputs"in r){const e=r.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map((e=>n[e.name]))??[]:[];t.length>0&&(o=e?.map(((e,n)=>Array.isArray(t[n])?t[n].map(((r,s)=>Wa({param:e,value:t[n][s]}))):t[n]?Wa({param:e,value:t[n]}):null))??[])}return[i,...o]}function Wa({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,pa.w)((0,fa.O0)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Ra(e.type);return(0,so.E)([e],[t])}async function za(e,{address:t,abi:n,args:r,eventName:s,fromBlock:i,strict:o,toBlock:a}){const c=La(e,{method:"eth_newFilter"}),l=s?Ga({abi:n,args:r,eventName:s}):void 0,u=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?(0,to.eC)(i):i,toBlock:"bigint"==typeof a?(0,to.eC)(a):a,topics:l}]});return{abi:n,args:r,eventName:s,id:u,request:c(u),strict:o,type:"event"}}async function qa(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),l=La(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap((e=>Ga({abi:[e],eventName:e.name,args:n})))],r&&(u=u[0]));const h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?(0,to.eC)(i):i,toBlock:"bigint"==typeof a?(0,to.eC)(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:h,request:l(h),strict:o,toBlock:a,type:"event"}}async function Ha(e){const t=La(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}const Ka=new Map,Va=new Map;async function Ja(e,{cacheKey:t,cacheTime:n=1/0}){const r=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,Ka),r=t(e,Va);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}(t),s=r.response.get();if(s&&n>0){if((new Date).getTime()-s.created.getTime()<n)return s.data}let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const e=await i;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}const Ya=e=>`blockNumber.${e}`;async function Xa(e,{cacheTime:t=e.cacheTime,maxAge:n}={}){const r=await Ja((()=>e.request({method:"eth_blockNumber"})),{cacheKey:Ya(e.uid),cacheTime:n??t});return BigInt(r)}var Za=n(4450);const Qa="/docs/contract/decodeEventLog";function ec({abi:e,data:t,strict:n,topics:r}){const s=n??!0,[i,...o]=r;if(!i)throw new no.FM({docsPath:Qa});const a=e.find((e=>"event"===e.type&&i===(0,Da.e)((0,Fa.t)(e))));if(!a||!("name"in a)||"event"!==a.type)throw new no.lC(i,{docsPath:Qa});const{name:c,inputs:l}=a,u=l?.some((e=>!("name"in e&&e.name)));let h=u?[]:{};const d=l.filter((e=>"indexed"in e&&e.indexed));if(o.length>0)for(let e=0;e<d.length;e++){const t=d[e],n=o[e];if(!n)throw new no.Gy({abiItem:a,param:t});h[t.name||e]=tc({param:t,value:n})}const f=l.filter((e=>!("indexed"in e&&e.indexed)));if(f.length>0)if(t&&"0x"!==t)try{const e=(0,Za.r)(f,t);if(e)if(u)h=[...h,...e];else for(let t=0;t<f.length;t++)h[f[t].name]=e[t]}catch(e){if(s){if(e instanceof no.xB)throw new no.SM({abiItem:a,data:e.data,params:e.params,size:e.size});throw e}}else if(s)throw new no.SM({abiItem:a,data:"0x",params:f,size:0});return{eventName:c,args:Object.values(h).length>0?h:void 0}}function tc({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return((0,Za.r)([e],t)||[])[0]}function nc(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function rc(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(i?[i]:void 0);let h,d=[];return u&&(d=[u.flatMap((e=>Ga({abi:[e],eventName:e.name,args:a})))],i&&(d=d[0])),h=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:"bigint"==typeof r?(0,to.eC)(r):r,toBlock:"bigint"==typeof s?(0,to.eC)(s):s}]}),h.map((e=>{try{const{eventName:t,args:n}=u?ec({abi:u,data:e.data,topics:e.topics,strict:l}):{eventName:void 0,args:void 0};return nc(e,{args:n,eventName:t})}catch(t){let n,r;if(t instanceof no.SM||t instanceof no.Gy){if(l)return;n=t.abiItem.name,r=t.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return nc(e,{args:r?[]:{},eventName:n})}})).filter(Boolean)}async function sc(e,{abi:t,address:n,args:r,blockHash:s,eventName:i,fromBlock:o,toBlock:a,strict:c}){const l=i?(0,Ba.m)({abi:t,name:i}):void 0;return rc(e,{address:n,args:r,blockHash:s,event:l,events:l?void 0:t.filter((e=>"event"===e.type)),fromBlock:o,toBlock:a,strict:c})}async function ic(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=n?(0,to.eC)(n):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map((e=>e.map((e=>BigInt(e)))))}}(await e.request({method:"eth_feeHistory",params:[(0,to.eC)(t),i||r,s]}))}async function oc(e,{filter:t}){const n="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map((e=>{if("string"==typeof e)return e;try{const{eventName:r,args:s}="abi"in t&&t.abi?ec({abi:t.abi,data:e.data,topics:e.topics,strict:n}):{eventName:void 0,args:void 0};return nc(e,{args:s,eventName:r})}catch(n){let r,s;if(n instanceof no.SM||n instanceof no.Gy){if("strict"in t&&t.strict)return;r=n.abiItem.name,s=n.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return nc(e,{args:s?[]:{},eventName:r})}})).filter(Boolean)}async function ac(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){const o=r||"latest",a=void 0!==n?(0,to.eC)(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,to.eC)(i)]}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,(0,to.eC)(i)]})),!c)throw new lo.Bh({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(e.chain?.formatters?.transaction?.format||Eo)(c)}const cc={"0x0":"reverted","0x1":"success"};function lc(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>nc(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,Qi.ly)(e.transactionIndex):null,status:e.status?cc[e.status]:null,type:e.type?_o[e.type]||e.type:null}}const uc=wo("transactionReceipt",lc);async function hc(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new lo.Yb({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||lc)(n)}async function dc(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const fc="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";BigInt(0),BigInt(1),BigInt(2);async function pc(e,{address:t,hash:n,signature:r,...s}){const i=(0,Lo.v)(r)?r:(0,to.NC)(r);try{const{data:r}=await(0,_a.R)(e,{data:oo({abi:aa.$o,args:[t,n,i],bytecode:fc}),...s});return o=r??"0x0",a="0x1",function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}((0,Lo.v)(o)?(0,fa.O0)(o):o,(0,Lo.v)(a)?(0,fa.O0)(a):a)}catch(e){if(e instanceof ha.cg)return!1;throw e}var o,a}async function mc(e,{address:t,message:n,signature:r,...s}){const i=function(e,t){const n="string"==typeof e?(0,fa.qX)(e):e.raw instanceof Uint8Array?e.raw:(0,fa.O0)(e.raw),r=(0,fa.qX)(`Ethereum Signed Message:\n${n.length}`);return(0,pa.w)((0,ro.zo)([r,n]),t)}(n);return pc(e,{address:t,hash:i,signature:r,...s})}function gc({domain:e,message:t,primaryType:n,types:r}){const s=void 0===e?{}:e,i={EIP712Domain:qo({domain:s}),...r};zo({domain:s,message:t,primaryType:n,types:i});const o=["0x1901"];return s&&o.push(function({domain:e,types:t}){return bc({data:e,primaryType:"EIP712Domain",types:t})}({domain:s,types:i})),"EIP712Domain"!==n&&o.push(bc({data:t,primaryType:n,types:i})),(0,pa.w)((0,ro.zo)(o))}function bc({data:e,primaryType:t,types:n}){const r=yc({data:e,primaryType:t,types:n});return(0,pa.w)(r)}function yc({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[vc({primaryType:t,types:n})];for(const i of n[t]){const[t,o]=_c({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(t),s.push(o)}return(0,so.E)(r,s)}function vc({primaryType:e,types:t}){const n=(0,to.NC)(function({primaryType:e,types:t}){let n="";const r=wc({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const e of s)n+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return n}({primaryType:e,types:t}));return(0,pa.w)(n)}function wc({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r?.[0];if(n.has(s)||void 0===t[s])return n;n.add(s);for(const e of t[s])wc({primaryType:e.type,types:t},n);return n}function _c({types:e,name:t,type:n,value:r}){if(void 0!==e[n])return[{type:"bytes32"},(0,pa.w)(yc({data:r,primaryType:n,types:e}))];if("bytes"===n){return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},(0,pa.w)(r)]}if("string"===n)return[{type:"bytes32"},(0,pa.w)((0,to.NC)(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map((n=>_c({name:t,type:s,types:e,value:n})));return[{type:"bytes32"},(0,pa.w)((0,so.E)(i.map((([e])=>e)),i.map((([,e])=>e))))]}return[{type:n},r]}const Ec=new Map,kc=new Map;let Sc=0;function Pc(e,t,n){const r=++Sc,s=()=>Ec.get(e)||[],i=()=>{const t=kc.get(e);1===s().length&&t&&t(),(()=>{const t=s();Ec.set(e,t.filter((e=>e.id!==r)))})()},o=s();if(Ec.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return i;const a={};for(const e in t)a[e]=(...t)=>{const n=s();0!==n.length&&n.forEach((n=>n.fns[e]?.(...t)))};const c=n(a);return"function"==typeof c&&kc.set(e,c),i}function Oc(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:i}));const a=await(n?.(o))??r;await Jo(a);const c=async()=>{s&&(await e({unpoll:i}),await Jo(r),c())};c()})(),i}function xc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){let a;return(void 0!==i?i:"webSocket"!==e.transport.type)?Pc((0,Ro.P)(["watchBlockNumber",e.uid,t,n,o]),{onBlockNumber:r,onError:s},(r=>Oc((async()=>{try{const t=await Xa(e,{cacheTime:0});if(a){if(t===a)return;if(t-a>1&&n)for(let e=a+1n;e<t;e++)r.onBlockNumber(e,a),a=e}(!a||t>a)&&(r.onBlockNumber(t,a),a=t)}catch(e){r.onError?.(e)}}),{emitOnBegin:t,interval:o}))):(()=>{let t=!0,n=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newHeads"],onData(e){if(!t)return;const n=(0,Qi.y_)(e.result?.number);r(n,a),a=n},onError(e){s?.(e)}});n=i,t||n()}catch(e){s?.(e)}})(),n})()}function Cc(e){return{call:t=>(0,_a.R)(e,t),createBlockFilter:()=>async function(e){const t=La(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}(e),createContractEventFilter:t=>za(e,t),createEventFilter:t=>qa(e,t),createPendingTransactionFilter:()=>Ha(e),estimateContractGas:t=>async function(e,{abi:t,address:n,args:r,functionName:s,...i}){const o=(0,Ho.R)({abi:t,args:r,functionName:s});try{return await jo(e,{data:o,to:n,...i})}catch(e){const o=i.account?(0,Ki.T)(i.account):void 0;throw wa(e,{abi:t,address:n,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:o?.address})}}(e,t),estimateGas:t=>jo(e,t),getBalance:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?(0,to.eC)(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}(e,t),getBlock:t=>Oo(e,t),getBlockNumber:t=>Xa(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=void 0!==n?(0,to.eC)(n):void 0;let i;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),(0,Qi.ly)(i)}(e,t),getBytecode:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=void 0!==n?(0,to.eC)(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]});if("0x"!==i)return i}(e,t),getChainId:()=>eo(e),getContractEvents:t=>sc(e,t),getEnsAddress:t=>async function(e,{blockNumber:t,blockTag:n,coinType:r,name:s,universalResolverAddress:i}){let o=i;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=(0,pi.LI)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=(0,Ho.R)({abi:aa.X$,functionName:"addr",...null!=r?{args:[ga(s),BigInt(r)]}:{args:[ga(s)]}}),a=await Ea(e,{address:o,abi:aa.k3,functionName:"resolve",args:[(0,to.NC)(ya(s)),i],blockNumber:t,blockTag:n});if("0x"===a[0])return null;const c=(0,ca.k)({abi:aa.X$,args:null!=r?[ga(s),BigInt(r)]:void 0,functionName:"addr",data:a[0]});return"0x"===c||"0x00"===(0,la.f)(c)?null:c}catch(e){if(da(e,"resolve"))return null;throw e}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:i}){const o=await Ua(e,{blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i});if(!o)return null;try{return await Ma(e,{record:o,gatewayUrls:r})}catch{return null}}(e,t),getEnsName:t=>async function(e,{address:t,blockNumber:n,blockTag:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,pi.LI)({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const o=`${t.toLowerCase().substring(2)}.addr.reverse`;try{return(await Ea(e,{address:i,abi:aa.du,functionName:"reverse",args:[(0,to.NC)(ya(o))],blockNumber:n,blockTag:r}))[0]}catch(e){if(da(e,"reverse"))return null;throw e}}(e,t),getEnsResolver:t=>async function(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,pi.LI)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await Ea(e,{address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,to.NC)(ya(r))],blockNumber:t,blockTag:n});return o}(e,t),getEnsText:t=>Ua(e,t),getFeeHistory:t=>ic(e,t),estimateFeesPerGas:t=>async function(e,t){return To(e,t)}(e,t),getFilterChanges:e=>oc(0,e),getFilterLogs:e=>async function(e,{filter:t}){const n=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>{try{const{eventName:r,args:s}="abi"in t&&t.abi?ec({abi:t.abi,data:e.data,topics:e.topics,strict:n}):{eventName:void 0,args:void 0};return nc(e,{args:s,eventName:r})}catch(n){let r,s;if(n instanceof no.SM||n instanceof no.Gy){if("strict"in t&&t.strict)return;r=n.abiItem.name,s=n.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return nc(e,{args:s?[]:{},eventName:r})}})).filter(Boolean)}(0,e),getGasPrice:()=>xo(e),getLogs:t=>rc(e,t),estimateMaxPriorityFeePerGas:t=>async function(e,t){return Co(e,t)}(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=void 0!==n?(0,to.eC)(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}(e,t),getTransaction:t=>ac(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([Xa(e),t?ac(e,{hash:t}):void 0]),i=n?.blockNumber||s?.blockNumber;return i?r-i+1n:0n}(e,t),getTransactionCount:t=>No(e,t),getTransactionReceipt:t=>hc(e,t),multicall:t=>async function(e,t){const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:i,contracts:o,multicallAddress:a}=t,c=r??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024);let l=a;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=(0,pi.LI)({blockNumber:s,chain:e.chain,contract:"multicall3"})}const u=[[]];let h=0,d=0;for(let e=0;e<o.length;e++){const{abi:t,address:r,args:s,functionName:i}=o[e];try{const e=(0,Ho.R)({abi:t,args:s,functionName:i});d+=(e.length-2)/2,c>0&&d>c&&u[h].length>0&&(h++,d=(e.length-2)/2,u[h]=[]),u[h]=[...u[h],{allowFailure:!0,callData:e,target:r}]}catch(e){const o=wa(e,{abi:t,address:r,args:s,docsPath:"/docs/contract/multicall",functionName:i});if(!n)throw o;u[h]=[...u[h],{allowFailure:!0,callData:"0x",target:r}]}}const f=await Promise.allSettled(u.map((t=>Ea(e,{abi:aa.F8,address:l,args:[t],blockNumber:s,blockTag:i,functionName:"aggregate3"})))),p=[];for(let e=0;e<f.length;e++){const t=f[e];if("rejected"===t.status){if(!n)throw t.reason;for(let n=0;n<u[e].length;n++)p.push({status:"failure",error:t.reason,result:void 0});continue}const r=t.value;for(let t=0;t<r.length;t++){const{returnData:s,success:i}=r[t],{callData:a}=u[e][t],{abi:c,address:l,functionName:h,args:d}=o[p.length];try{if("0x"===a)throw new no.wb;if(!i)throw new ha.VQ({data:s});const e=(0,ca.k)({abi:c,args:d,data:s,functionName:h});p.push(n?{result:e,status:"success"}:e)}catch(e){const t=wa(e,{abi:c,address:l,args:d,docsPath:"/docs/contract/multicall",functionName:h});if(!n)throw t;p.push({error:t,result:void 0,status:"failure"})}}}if(p.length!==o.length)throw new Si.G("multicall results mismatch");return p}(e,t),prepareTransactionRequest:t=>$o(e,t),readContract:t=>Ea(e,t),sendRawTransaction:t=>Mo(e,t),simulateContract:t=>async function(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:i,...o}){const a=o.account?(0,Ki.T)(o.account):void 0,c=(0,Ho.R)({abi:t,args:r,functionName:i});try{const{data:a}=await(0,_a.R)(e,{batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...o});return{result:(0,ca.k)({abi:t,args:r,functionName:i,data:a||"0x"}),request:{abi:t,address:n,args:r,dataSuffix:s,functionName:i,...o}}}catch(e){throw wa(e,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:i,sender:a?.address})}}(e,t),verifyMessage:t=>mc(e,t),verifyTypedData:t=>async function(e,{address:t,signature:n,message:r,primaryType:s,types:i,domain:o,...a}){return pc(e,{address:t,hash:gc({message:r,primaryType:s,types:i,domain:o}),signature:n,...a})}(e,t),uninstallFilter:e=>dc(0,e),waitForTransactionReceipt:t=>async function(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,timeout:i}){const o=(0,Ro.P)(["waitForTransactionReceipt",e.uid,n]);let a,c,l,u=!1;return new Promise(((h,d)=>{i&&setTimeout((()=>d(new lo.mc({hash:n}))),i);const f=Pc(o,{onReplaced:r,resolve:h,reject:d},(r=>{const i=xc(e,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(s){if(u)return;let o=s;const h=e=>{i(),e(),f()};try{if(l){if(t>1&&(!l.blockNumber||o-l.blockNumber+1n<t))return;return void h((()=>r.resolve(l)))}if(a||(u=!0,await Yo((async()=>{a=await ac(e,{hash:n}),a.blockNumber&&(o=a.blockNumber)}),{delay:({count:e})=>200*~~(1<<e),retryCount:6}),u=!1),l=await hc(e,{hash:n}),t>1&&(!l.blockNumber||o-l.blockNumber+1n<t))return;h((()=>r.resolve(l)))}catch(n){if(a&&(n instanceof lo.Bh||n instanceof lo.Yb))try{c=a;const n=(await Oo(e,{blockNumber:o,includeTransactions:!0})).transactions.find((({from:e,nonce:t})=>e===c.from&&t===c.nonce));if(!n)return;if(l=await hc(e,{hash:n.hash}),t>1&&(!l.blockNumber||o-l.blockNumber+1n<t))return;let s="replaced";n.to===c.to&&n.value===c.value?s="repriced":n.from===n.to&&0n===n.value&&(s="cancelled"),h((()=>{r.onReplaced?.({reason:s,replacedTransaction:c,transaction:n,transactionReceipt:l}),r.resolve(l)}))}catch(e){h((()=>r.reject(e)))}else h((()=>r.reject(n)))}}})}))}))}(e,t),watchBlocks:t=>function(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const l=void 0!==a?a:"webSocket"!==e.transport.type,u=o??!1;let h;return l?Pc((0,Ro.P)(["watchBlocks",e.uid,n,r,u,c]),{onBlock:s,onError:i},(s=>Oc((async()=>{try{const r=await Oo(e,{blockTag:t,includeTransactions:u});if(r.number&&h?.number){if(r.number===h.number)return;if(r.number-h.number>1&&n)for(let t=h?.number+1n;t<r.number;t++){const n=await Oo(e,{blockNumber:t,includeTransactions:u});s.onBlock(n,h),h=n}}(!h?.number||"pending"===t&&!r?.number||r.number&&r.number>h.number)&&(s.onBlock(r,h),h=r)}catch(e){s.onError?.(e)}}),{emitOnBegin:r,interval:c}))):(()=>{let t=!0,n=()=>t=!1;return(async()=>{try{const{unsubscribe:r}=await e.transport.subscribe({params:["newHeads"],onData(n){if(!t)return;const r=(e.chain?.formatters?.block?.format||So)(n.result);s(r,h),h=r},onError(e){i?.(e)}});n=r,t||n()}catch(e){i?.(e)}})(),n})()}(e,t),watchBlockNumber:t=>xc(e,t),watchContractEvent:t=>function(e,{abi:t,address:n,args:r,batch:s=!0,eventName:i,onError:o,onLogs:a,poll:c,pollingInterval:l=e.pollingInterval,strict:u}){return(void 0!==c?c:"webSocket"!==e.transport.type)?(()=>{const c=(0,Ro.P)(["watchContractEvent",n,r,s,e.uid,i,l]),h=u??!1;return Pc(c,{onLogs:a,onError:o},(o=>{let a,c,u=!1;const d=Oc((async()=>{if(u)try{let i;if(c)i=await oc(0,{filter:c});else{const s=await Xa(e);i=a&&a!==s?await sc(e,{abi:t,address:n,args:r,fromBlock:a+1n,toBlock:s,strict:h}):[],a=s}if(0===i.length)return;s?o.onLogs(i):i.forEach((e=>o.onLogs([e])))}catch(e){c&&e instanceof Ni&&(u=!1),o.onError?.(e)}else{try{c=await za(e,{abi:t,address:n,args:r,eventName:i,strict:h})}catch{}u=!0}}),{emitOnBegin:!0,interval:l});return async()=>{c&&await dc(0,{filter:c}),d()}}))})():(()=>{let s=!0,c=()=>s=!1;return(async()=>{try{const l=i?Ga({abi:t,eventName:i,args:r}):[],{unsubscribe:h}=await e.transport.subscribe({params:["logs",{address:n,topics:l}],onData(e){if(!s)return;const n=e.result;try{const{eventName:e,args:r}=ec({abi:t,data:n.data,topics:n.topics,strict:u}),s=nc(n,{args:r,eventName:e});a([s])}catch(e){let t,r;if(e instanceof no.SM||e instanceof no.Gy){if(u)return;t=e.abiItem.name,r=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const s=nc(n,{args:r?[]:{},eventName:t});a([s])}},onError(e){o?.(e)}});c=h,s||c()}catch(e){o?.(e)}})(),c})()}(e,t),watchEvent:t=>function(e,{address:t,args:n,batch:r=!0,event:s,events:i,onError:o,onLogs:a,poll:c,pollingInterval:l=e.pollingInterval,strict:u}){const h=void 0!==c?c:"webSocket"!==e.transport.type,d=u??!1;return h?Pc((0,Ro.P)(["watchEvent",t,n,r,e.uid,s,l]),{onLogs:a,onError:o},(o=>{let a,c,u=!1;const h=Oc((async()=>{if(u)try{let l;if(c)l=await oc(0,{filter:c});else{const r=await Xa(e);l=a&&a!==r?await rc(e,{address:t,args:n,event:s,events:i,fromBlock:a+1n,toBlock:r}):[],a=r}if(0===l.length)return;r?o.onLogs(l):l.forEach((e=>o.onLogs([e])))}catch(e){c&&e instanceof Ni&&(u=!1),o.onError?.(e)}else{try{c=await qa(e,{address:t,args:n,event:s,events:i,strict:d})}catch{}u=!0}}),{emitOnBegin:!0,interval:l});return async()=>{c&&await dc(0,{filter:c}),h()}})):(()=>{let r=!0,c=()=>r=!1;return(async()=>{try{const l=i??(s?[s]:void 0);let h=[];l&&(h=[l.flatMap((e=>Ga({abi:[e],eventName:e.name,args:n})))],s&&(h=h[0]));const{unsubscribe:f}=await e.transport.subscribe({params:["logs",{address:t,topics:h}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=ec({abi:l,data:t.data,topics:t.topics,strict:d}),r=nc(t,{args:n,eventName:e});a([r])}catch(e){let n,r;if(e instanceof no.SM||e instanceof no.Gy){if(u)return;n=e.abiItem.name,r=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const s=nc(t,{args:r?[]:{},eventName:n});a([s])}},onError(e){o?.(e)}});c=f,r||c()}catch(e){o?.(e)}})(),c})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(void 0!==s?s:"webSocket"!==e.transport.type)?Pc((0,Ro.P)(["watchPendingTransactions",e.uid,t,i]),{onTransactions:r,onError:n},(n=>{let r;const s=Oc((async()=>{try{if(!r)try{return void(r=await Ha(e))}catch(e){throw s(),e}const i=await oc(0,{filter:r});if(0===i.length)return;t?n.onTransactions(i):i.forEach((e=>n.onTransactions([e])))}catch(e){n.onError?.(e)}}),{emitOnBegin:!0,interval:i});return async()=>{r&&await dc(0,{filter:r}),s()}})):(()=>{let t=!0,s=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});s=i,t||s()}catch(e){n?.(e)}})(),s})()}(e,t)}}function Tc(e){const{key:t="public",name:n="Public Client"}=e;return Zi({...e,key:t,name:n,type:"publicClient"}).extend(Cc)}function Ic(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:i,retryDelay:o}=t;return({chain:t,pollingInterval:a=4e3,timeout:c})=>{let l=e,u=()=>{};const h=Qo({key:n,name:r,async request({method:e,params:n}){const r=async(s=0)=>{const i=l[s]({chain:t,retryCount:0,timeout:c});try{const t=await i.request({method:e,params:n});return u({method:e,params:n,response:t,transport:i,status:"success"}),t}catch(t){if(u({error:t,method:e,params:n,transport:i,status:"error"}),Xo(t))throw t;if(s===l.length-1)throw t;return r(s+1)}};return r()},retryCount:i,retryDelay:o,type:"fallback"},{onResponse:e=>u=e,transports:l.map((e=>e({chain:t,retryCount:0})))});if(s){const e="object"==typeof s?s:{};!function({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:i,weights:o={}}){const{stability:a=.7,latency:c=.3}=o,l=[],u=async()=>{const o=await Promise.all(i.map((async t=>{const n=t({chain:e,retryCount:0,timeout:s}),r=Date.now();let i,o;try{await n.request({method:"net_listening"}),o=1}catch{o=0}finally{i=Date.now()}return{latency:i-r,success:o}})));l.push(o),l.length>r&&l.shift();const h=Math.max(...l.map((e=>Math.max(...e.map((({latency:e})=>e)))))),d=i.map(((e,t)=>{const n=l.map((e=>e[t].latency)),r=1-n.reduce(((e,t)=>e+t),0)/n.length/h,s=l.map((e=>e[t].success)),i=s.reduce(((e,t)=>e+t),0)/s.length;return 0===i?[0,t]:[c*r+a*i,t]})).sort(((e,t)=>t[0]-e[0]));n(d.map((([,e])=>i[e]))),await Jo(t),u()};u()}({chain:t,interval:e.interval??a,onTransports:e=>l=e,sampleCount:e.sampleCount,timeout:e.timeout,transports:l,weights:e.weights})}return h}}class Ac extends Si.G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var jc=n(2357),Nc=null;"undefined"!=typeof WebSocket?Nc=WebSocket:"undefined"!=typeof MozWebSocket?Nc=MozWebSocket:void 0!==n.g?Nc=n.g.WebSocket||n.g.MozWebSocket:"undefined"!=typeof window?Nc=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(Nc=self.WebSocket||self.MozWebSocket);const $c=Nc;function Mc(e,{errorInstance:t,timeout:n,signal:r}){return new Promise(((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout((()=>{r?a.abort():i(t)}),n)),s(await e({signal:a?.signal}))}catch(e){"AbortError"===e.name&&i(t),i(e)}finally{clearTimeout(o)}})()}))}let Uc=0;const Lc=new Map;async function Rc(e){let t=Lc.get(e);if(t)return t;const{schedule:n}=(0,jc.S)({id:e,fn:async()=>{let n=$c;$c.constructor||(n=$c.WebSocket);const r=new n(e),s=new Map,i=new Map,o=({data:e})=>{const t=JSON.parse(e),n="eth_subscription"===t.method,r=n?t.params.subscription:t.id,o=n?i:s,a=o.get(r);a&&a({data:e}),n||o.delete(r)},a=()=>{Lc.delete(e),r.removeEventListener("close",a),r.removeEventListener("message",o)};return r.addEventListener("close",a),r.addEventListener("message",o),r.readyState===$c.CONNECTING&&await new Promise(((e,t)=>{r&&(r.onopen=e,r.onerror=t)})),t=Object.assign(r,{requests:s,subscriptions:i}),Lc.set(e,t),[t]}}),[r,[s]]=await n();return s}const Dc={http:async function(e,{body:t,fetchOptions:n={},timeout:r=1e4}){const{headers:s,method:i,signal:o}=n;try{const a=await Mc((async({signal:a})=>await fetch(e,{...n,body:Array.isArray(t)?(0,Ro.P)(t.map((e=>({jsonrpc:"2.0",id:e.id??Uc++,...e})))):(0,Ro.P)({jsonrpc:"2.0",id:t.id??Uc++,...t}),headers:{...s,"Content-Type":"application/json"},method:i||"POST",signal:o||(r>0?a:void 0)})),{errorInstance:new Pi.W5({body:t,url:e}),timeout:r,signal:!0});let c;if(c=a.headers.get("Content-Type")?.startsWith("application/json")?await a.json():await a.text(),!a.ok)throw new Pi.Gg({body:t,details:(0,Ro.P)(c.error)||a.statusText,headers:a.headers,status:a.status,url:e});return c}catch(n){if(n instanceof Pi.Gg)throw n;if(n instanceof Pi.W5)throw n;throw new Pi.Gg({body:t,details:n.message,url:e})}},webSocket:function(e,{body:t,onResponse:n}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new Pi.c9({body:t,url:e.url,details:"Socket is closed."});const r=Uc++,s=({data:i})=>{const o=JSON.parse(i);"number"==typeof o.id&&r!==o.id||(n?.(o),"eth_subscribe"===t.method&&"string"==typeof o.result&&e.subscriptions.set(o.result,s),"eth_unsubscribe"===t.method&&e.subscriptions.delete(t.params?.[0]))};return e.requests.set(r,s),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:r})),e},webSocketAsync:async function(e,{body:t,timeout:n=1e4}){return Mc((()=>new Promise((n=>Dc.webSocket(e,{body:t,onResponse:n})))),{errorInstance:new Pi.W5({body:t,url:e.url}),timeout:n})}};var Fc=n(4192);const Bc=e=>(t,n,r)=>{const s=r.subscribe;r.subscribe=(e,t,n)=>{let i=e;if(t){const s=(null==n?void 0:n.equalityFn)||Object.is;let o=e(r.getState());i=n=>{const r=e(n);if(!s(o,r)){const e=o;t(o=r,e)}},(null==n?void 0:n.fireImmediately)&&t(o,o)}return s(i)};return e(t,n,r)};function Gc(e,t){let n;try{n=e()}catch(e){return}const r={getItem:e=>{var r;const s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=n.getItem(e))?r:null;return i instanceof Promise?i.then(s):s(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)};return r}const Wc=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Wc(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>Wc(t)(e)}}},zc=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const a=new Set,c=new Set;let l;try{l=i.getStorage()}catch(e){}if(!l)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...e)}),r,s);const u=Wc(i.serialize),h=()=>{const e=i.partialize({...r()});let t;const n=u({state:e,version:i.version}).then((e=>l.setItem(i.name,e))).catch((e=>{t=e}));if(t)throw t;return n},d=s.setState;s.setState=(e,t)=>{d(e,t),h()};const f=e(((...e)=>{n(...e),h()}),r,s);let p;const m=()=>{var e;if(!l)return;o=!1,a.forEach((e=>e(r())));const t=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,r()))||void 0;return Wc(l.getItem.bind(l))(i.name).then((e=>{if(e)return i.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return p=i.merge(e,null!=(t=r())?t:f),n(p,!0),h()})).then((()=>{null==t||t(p,void 0),o=!0,c.forEach((e=>e(p)))})).catch((e=>{null==t||t(void 0,e)}))};return s.persist={setOptions:e=>{i={...i,...e},e.getStorage&&(l=e.getStorage())},clearStorage:()=>{null==l||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},m(),p||f})(e,t)):((e,t)=>(n,r,s)=>{let i={storage:Gc((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...e)}),r,s);const u=()=>{const e=i.partialize({...r()});return l.setItem(i.name,{state:e,version:i.version})},h=s.setState;s.setState=(e,t)=>{h(e,t),u()};const d=e(((...e)=>{n(...e),u()}),r,s);let f;const p=()=>{var e,t;if(!l)return;o=!1,a.forEach((e=>{var t;return e(null!=(t=r())?t:d)}));const s=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=r())?e:d))||void 0;return Wc(l.getItem.bind(l))(i.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return f=i.merge(e,null!=(t=r())?t:d),n(f,!0),u()})).then((()=>{null==s||s(f,void 0),f=r(),o=!0,c.forEach((e=>e(f)))})).catch((e=>{null==s||s(void 0,e)}))};return s.persist={setOptions:e=>{i={...i,...e},e.storage&&(l=e.storage)},clearStorage:()=>{null==l||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},i.skipHydration||p(),f||d})(e,t),qc=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!=typeof s)?s:Object.assign({},t,s),n.forEach((n=>n(t,e)))}},s=()=>t,i={setState:r,getState:s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,s,i),i},Hc=e=>e?qc(e):qc;var Kc=n(5229);function Vc(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Jc(e,t,{batch:n={multicall:{wait:32}},pollingInterval:r=4e3,rank:s,retryCount:i,retryDelay:o,stallTimeout:a}={}){if(!e.length)throw new Error("must have at least one chain");let c=[];const l={},u={};for(const n of e){let e=!1;for(const r of t){const t=r(n);t&&(e=!0,c.some((({id:e})=>e===n.id))||(c=[...c,t.chain]),l[n.id]=[...l[n.id]||[],...t.rpcUrls.http],t.rpcUrls.webSocket&&(u[n.id]=[...u[n.id]||[],...t.rpcUrls.webSocket]))}if(!e)throw new Error([`Could not find valid provider configuration for chain "${n.name}".\n`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join("\n"))}return{chains:c,publicClient:({chainId:t})=>{const u=c.find((e=>e.id===t))??e[0],h=l[u.id];if(!h||!h[0])throw new Error(`No providers configured for chain "${u.id}"`);const d=Tc({batch:n,chain:u,transport:Ic(h.map((e=>function(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:i="HTTP JSON-RPC",retryDelay:o}=t;return({chain:a,retryCount:c,timeout:l})=>{const{batchSize:u=1e3,wait:h=0}="object"==typeof n?n:{},d=t.retryCount??c,f=l??t.timeout??1e4,p=e||a?.rpcUrls.default.http[0];if(!p)throw new Ac;return Qo({key:s,name:i,async request({method:t,params:s}){const i={method:t,params:s},{schedule:o}=(0,jc.S)({id:`${e}`,wait:h,shouldSplitBatch:e=>e.length>u,fn:e=>Dc.http(p,{body:e,fetchOptions:r,timeout:f})}),[{error:a,result:c}]=await(async e=>n?o(e):[await Dc.http(p,{body:e,fetchOptions:r,timeout:f})])(i);if(a)throw new Pi.bs({body:i,error:a,url:p});return c},retryCount:d,retryDelay:o,timeout:f,type:"http"},{url:e})}}(e,{timeout:a}))),{rank:s,retryCount:i,retryDelay:o}),pollingInterval:r});return Object.assign(d,{chains:c})},webSocketPublicClient:({chainId:t})=>{const l=c.find((e=>e.id===t))??e[0],h=u[l.id];if(!h||!h[0])return;const d=Tc({batch:n,chain:l,transport:Ic(h.map((e=>function(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",retryDelay:s}=t;return({chain:i,retryCount:o,timeout:a})=>{const c=t.retryCount??o,l=a??t.timeout??1e4,u=e||i?.rpcUrls.default.webSocket?.[0];if(!u)throw new Ac;return Qo({key:n,name:r,async request({method:e,params:t}){const n={method:e,params:t},r=await Rc(u),{error:s,result:i}=await Dc.webSocketAsync(r,{body:n,timeout:l});if(s)throw new Pi.bs({body:n,error:s,url:u});return i},retryCount:c,retryDelay:s,timeout:l,type:"webSocket"},{getSocket:()=>Rc(u),async subscribe({params:e,onData:t,onError:n}){const r=await Rc(u),{result:s}=await new Promise(((s,i)=>Dc.webSocket(r,{body:{method:"eth_subscribe",params:e},onResponse(e){if(e.error)return i(e.error),void n?.(e.error);"number"!=typeof e.id?"eth_subscription"===e.method&&t(e.params):s(e)}})));return{subscriptionId:s,unsubscribe:async()=>new Promise((e=>Dc.webSocket(r,{body:{method:"eth_unsubscribe",params:[s]},onResponse:e})))}}})}}(e,{timeout:a}))),{rank:s,retryCount:i,retryDelay:o}),pollingInterval:r});return Object.assign(d,{chains:c})}}}var Yc=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured${t?` for connector "${t}"`:""}.`),this.name="ChainNotConfigured"}},Xc=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},Zc=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}},Qc=class extends Error{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}};var el=(e,{find:t,replace:n})=>e&&t(e)?n(e):"object"!=typeof e?e:Array.isArray(e)?e.map((e=>el(e,{find:t,replace:n}))):e instanceof Object?Object.entries(e).reduce(((e,[r,s])=>({...e,[r]:el(s,{find:t,replace:n})})),{}):e;function tl(e){const t=JSON.parse(e),n=el(t,{find:e=>"string"==typeof e&&e.startsWith("#bigint."),replace:e=>BigInt(e.replace("#bigint.",""))});return n}function nl(e){return"number"==typeof e?e:"wei"===e?0:Math.abs(Fc.Bd[e])}function rl(e,t){return e.slice(0,t).join(".")||"."}function sl(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function il(e,t,n,r){return JSON.stringify(e,function(e,t){const n="function"==typeof e,r="function"==typeof t,s=[],i=[];return function(o,a){if("object"==typeof a)if(s.length){const e=sl(s,this);0===e?s[s.length]=this:(s.splice(e),i.splice(e)),i[i.length]=o;const n=sl(s,a);if(0!==n)return r?t.call(this,o,a,rl(i,n)):`[ref=${rl(i,n)}]`}else s[0]=a,i[0]=o;return n?e.call(this,o,a):a}}(((e,n)=>{const r="bigint"==typeof n?`#bigint.${n.toString()}`:n;return t?.(e,r)||r}),r),n??void 0)}var ol={getItem:e=>"",setItem:(e,t)=>null,removeItem:e=>null};function al({deserialize:e=tl,key:t="wagmi",serialize:n=il,storage:r}){return{...r,getItem:(n,s=null)=>{const i=r.getItem(`${t}.${n}`);try{return i?e(i):s}catch(e){return console.warn(e),s}},setItem:(e,s)=>{if(null===s)r.removeItem(`${t}.${e}`);else try{r.setItem(`${t}.${e}`,n(s))}catch(e){console.error(e)}},removeItem:e=>r.removeItem(`${t}.${e}`)}}var cl,ll,ul,hl,dl,fl="store",pl=class{constructor({autoConnect:e=!1,connectors:t=[new na],publicClient:n,storage:r=al({storage:"undefined"!=typeof window?window.localStorage:ol}),logger:s={warn:console.warn},webSocketPublicClient:i}){ia(this,ul),this.publicClients=new Map,this.webSocketPublicClients=new Map,ia(this,cl,void 0),ia(this,ll,void 0),this.args={autoConnect:e,connectors:t,logger:s,publicClient:n,storage:r,webSocketPublicClient:i};let o,a="disconnected";if(e)try{const e=r.getItem(fl),t=e?.state?.data;a=t?.account?"reconnecting":"connecting",o=t?.chain?.id}catch(e){}const c="function"==typeof t?t():t;var l,u,h;c.forEach((e=>e.setStorage(r))),this.store=Hc(Bc(zc((()=>({connectors:c,publicClient:this.getPublicClient({chainId:o}),status:a,webSocketPublicClient:this.getWebSocketPublicClient({chainId:o})})),{name:fl,storage:r,partialize:t=>({...e&&{data:{account:t?.data?.account,chain:t?.data?.chain}},chains:t?.chains}),version:2}))),this.storage=r,oa(this,ll,r?.getItem("wallet")),(l=this,u=ul,h=hl,ra(l,u,"access private method"),h).call(this),e&&"undefined"!=typeof window&&setTimeout((async()=>await this.autoConnect()),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){return this.data?.chain?.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(e){const t="function"==typeof e?e(this.store.getState()):e;this.store.setState(t,!0)}clearState(){this.setState((e=>({...e,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"})))}async destroy(){this.connector&&await(this.connector.disconnect?.()),oa(this,cl,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(sa(this,cl))return;oa(this,cl,!0),this.setState((e=>({...e,status:e.data?.account?"reconnecting":"connecting"})));const e=sa(this,ll)?[...this.connectors].sort((e=>e.id===sa(this,ll)?-1:1)):this.connectors;let t=!1;for(const n of e){if(!n.ready||!n.isAuthorized)continue;if(!await n.isAuthorized())continue;const e=await n.connect();this.setState((t=>({...t,connector:n,chains:n?.chains,data:e,status:"connected"}))),t=!0;break}return t||this.setState((e=>({...e,data:void 0,status:"disconnected"}))),oa(this,cl,!1),this.data}setConnectors(e){this.args={...this.args,connectors:e};const t="function"==typeof e?e():e;t.forEach((e=>e.setStorage(this.args.storage))),this.setState((e=>({...e,connectors:t})))}getPublicClient({chainId:e}={}){let t=this.publicClients.get(-1);if(t&&t?.chain.id===e)return t;if(t=this.publicClients.get(e??-1),t)return t;const{publicClient:n}=this.args;return t="function"==typeof n?n({chainId:e}):n,this.publicClients.set(e??-1,t),t}setPublicClient(e){const t=this.data?.chain?.id;this.args={...this.args,publicClient:e},this.publicClients.clear(),this.setState((e=>({...e,publicClient:this.getPublicClient({chainId:t})})))}getWebSocketPublicClient({chainId:e}={}){let t=this.webSocketPublicClients.get(-1);if(t&&t?.chain.id===e)return t;if(t=this.webSocketPublicClients.get(e??-1),t)return t;const{webSocketPublicClient:n}=this.args;return t="function"==typeof n?n({chainId:e}):n,t&&this.webSocketPublicClients.set(e??-1,t),t}setWebSocketPublicClient(e){const t=this.data?.chain?.id;this.args={...this.args,webSocketPublicClient:e},this.webSocketPublicClients.clear(),this.setState((e=>({...e,webSocketPublicClient:this.getWebSocketPublicClient({chainId:t})})))}setLastUsedConnector(e=null){this.storage?.setItem("wallet",e)}};function ml(){if(!dl)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return dl}async function gl({chainId:e,connector:t}){const n=ml(),r=n.connector;if(r&&t.id===r.id)throw new Xc;try{n.setState((e=>({...e,status:"connecting"})));const r=await t.connect({chainId:e});return n.setLastUsedConnector(t.id),n.setState((e=>({...e,connector:t,chains:t?.chains,data:r,status:"connected"}))),n.storage.setItem("connected",!0),{...r,connector:t}}catch(e){throw n.setState((e=>({...e,status:e.connector?"connected":"disconnected"}))),e}}async function bl(){const e=ml();e.connector&&await e.connector.disconnect(),e.clearState(),e.storage.removeItem("connected")}cl=new WeakMap,ll=new WeakMap,ul=new WeakSet,hl=function(){const e=e=>{this.setState((t=>({...t,data:{...t.data,...e}})))},t=()=>{this.clearState()},n=e=>{this.setState((t=>({...t,error:e})))};this.store.subscribe((({connector:e})=>e),((r,s)=>{s?.off?.("change",e),s?.off?.("disconnect",t),s?.off?.("error",n),r&&(r.on?.("change",e),r.on?.("disconnect",t),r.on?.("error",n))}));const{publicClient:r,webSocketPublicClient:s}=this.args;("function"==typeof r||"function"==typeof s)&&this.store.subscribe((({data:e})=>e?.chain?.id),(e=>{this.setState((t=>({...t,publicClient:this.getPublicClient({chainId:e}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:e})})))}))};var yl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],vl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function wl({chainId:e}={}){const t=ml();return e&&t.getPublicClient({chainId:e})||t.publicClient}async function _l({chainId:e}={}){const t=ml();return await(t.connector?.getWalletClient?.({chainId:e}))||null}async function El({chainId:e,contracts:t,blockNumber:n,blockTag:r,...s}){const i=wl({chainId:e});if(!i.chains)throw new Zc;if(e&&i.chain.id!==e)throw new Yc({chainId:e});return i.multicall({allowFailure:s.allowFailure??!0,blockNumber:n,blockTag:r,contracts:t})}async function kl({address:e,account:t,chainId:n,abi:r,args:s,functionName:i,blockNumber:o,blockTag:a}){return wl({chainId:n}).readContract({abi:r,address:e,account:t,functionName:i,args:s,blockNumber:o,blockTag:a})}async function Sl({contracts:e,blockNumber:t,blockTag:n,...r}){const{allowFailure:s=!0}=r;try{const r=wl(),i=e.reduce(((e,t,n)=>{const s=t.chainId??r.chain.id;return{...e,[s]:[...e[s]||[],{contract:t,index:n}]}}),{}),o=()=>Object.entries(i).map((([e,r])=>El({allowFailure:s,chainId:parseInt(e),contracts:r.map((({contract:e})=>e)),blockNumber:t,blockTag:n}))),a=(await Promise.all(o())).flat(),c=Object.values(i).flatMap((e=>e.map((({index:e})=>e))));return a.reduce(((e,t,n)=>(e&&(e[c[n]]=t),e)),[])}catch(r){if(r instanceof ha.uq)throw r;const i=()=>e.map((e=>kl({...e,blockNumber:t,blockTag:n})));return s?(await Promise.allSettled(i())).map((e=>"fulfilled"===e.status?{result:e.value,status:"success"}:{error:e.reason,result:void 0,status:"failure"})):await Promise.all(i())}}async function Pl({address:e,chainId:t,formatUnits:n,token:r}){const s=ml(),i=wl({chainId:t});if(r){const s=async({abi:s})=>{const i={abi:s,address:r,chainId:t},[o,a,c]=await Sl({allowFailure:!1,contracts:[{...i,functionName:"balanceOf",args:[e]},{...i,functionName:"decimals"},{...i,functionName:"symbol"}]});return{decimals:a,formatted:(0,Kc.b)(o??"0",nl(n??a)),symbol:c,value:o}};try{return await s({abi:yl})}catch(e){if(e instanceof ha.uq){const{symbol:e,...t}=await s({abi:vl});return{symbol:(0,Qi.rR)((0,la.f)(e,{dir:"right"})),...t}}throw e}}const o=[...s.publicClient.chains||[],...s.chains??[]],a=await i.getBalance({address:e}),c=o.find((e=>e.id===i.chain.id));return{decimals:c?.nativeCurrency.decimals??18,formatted:(0,Kc.b)(a??"0",nl(n??18)),symbol:c?.nativeCurrency.symbol??"ETH",value:a}}function Ol(){const{data:e,connector:t,status:n}=ml();switch(n){case"connected":return{address:e?.account,connector:t,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:n};case"reconnecting":return{address:e?.account,connector:t,isConnected:!!e?.account,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:n};case"connecting":return{address:e?.account,connector:t,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:n};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:n}}}function xl(){const e=ml(),t=e.data?.chain?.id,n=e.chains??[],r=[...e.publicClient?.chains||[],...n].find((e=>e.id===t))??{id:t,name:`Chain ${t}`,network:`${t}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:t?{...r,...e.data?.chain,id:t}:void 0,chains:n}}async function Cl({chainId:e}){const{connector:t}=ml();if(!t)throw new hi;if(!t.switchChain)throw new Qc({connector:t});return t.switchChain(e)}function Tl(e,{selector:t=(e=>e)}={}){const n=ml().subscribe((({data:e,connector:n,status:r})=>t({address:e?.account,connector:n,status:r})),(()=>e(Ol())),{equalityFn:Vc});return n}function Il(e,{selector:t=(e=>e)}={}){const n=ml().subscribe((({data:e,chains:n})=>t({chainId:e?.chain?.id,chains:n})),(()=>e(xl())),{equalityFn:Vc});return n}async function Al({name:e,chainId:t}){const{normalize:r}=await n.e(546).then(n.bind(n,9546)),s=wl({chainId:t});return await s.getEnsAvatar({name:r(e)})}async function jl({address:e,chainId:t}){return wl({chainId:t}).getEnsName({address:(0,ki.K)(e)})}const Nl={block:Po({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=Eo(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,Qi.y_)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}));return{transactions:t,stateRoot:e.stateRoot}}}),transaction:ko({format(e){const t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,Qi.y_)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:uc({format:e=>({l1GasPrice:e.l1GasPrice?(0,Qi.y_)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,Qi.y_)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,Qi.y_)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})},$l=(0,pi.ax)({id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://base-mainnet.g.alchemy.com/v2"],webSocket:["wss://base-mainnet.g.alchemy.com/v2"]},infura:{http:["https://base-mainnet.infura.io/v3"],webSocket:["wss://base-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{blockscout:{name:"Basescout",url:"https://base.blockscout.com"},default:{name:"Basescan",url:"https://basescan.org"},etherscan:{name:"Basescan",url:"https://basescan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022}}},{formatters:Nl});var Ml,Ul,Ll,Rl,Dl,Fl,Bl,Gl,Wl,zl,ql,Hl,Kl,Vl,Jl,Yl,Xl,Zl,Ql,eu,tu=n(9795),nu="eip155",ru="requestedChains",su="wallet_addEthereumChain",iu=class extends Ei{constructor(e){super({...e,options:{isNewChainsStale:!0,...e.options}}),vi(this,Ll),vi(this,Dl),vi(this,Bl),vi(this,Wl),vi(this,ql),vi(this,Kl),vi(this,Jl),vi(this,Xl),vi(this,Ql),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,vi(this,Ml,void 0),vi(this,Ul,void 0),this.onAccountsChanged=e=>{0===e.length?this.emit("disconnect"):this.emit("change",{account:(0,ki.K)(e[0])})},this.onChainChanged=e=>{const t=Number(e),n=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:n}})},this.onDisconnect=()=>{_i(this,Kl,Vl).call(this,[]),this.emit("disconnect")},this.onDisplayUri=e=>{this.emit("message",{type:"display_uri",data:e})},this.onConnect=()=>{this.emit("connect",{})},_i(this,Ll,Rl).call(this)}async connect({chainId:e,pairingTopic:t}={}){try{let n=e;if(!n){const e=this.storage?.getItem("store"),t=e?.state?.data?.chain?.id;n=t&&!this.isChainUnsupported(t)?t:this.chains[0]?.id}if(!n)throw new Error("No chains found on connector.");const r=await this.getProvider();_i(this,Wl,zl).call(this);const s=_i(this,Bl,Gl).call(this);if(r.session&&s&&await r.disconnect(),!r.session||s){const e=this.chains.filter((e=>e.id!==n)).map((e=>e.id));this.emit("message",{type:"connecting"}),await r.connect({pairingTopic:t,chains:[n],optionalChains:e.length?e:void 0}),_i(this,Kl,Vl).call(this,this.chains.map((({id:e})=>e)))}const i=await r.enable(),o=(0,ki.K)(i[0]),a=await this.getChainId();return{account:o,chain:{id:a,unsupported:this.isChainUnsupported(a)}}}catch(e){if(/user rejected/i.test(e?.message))throw new Fi(e);throw e}}async disconnect(){const e=await this.getProvider();try{await e.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}finally{_i(this,ql,Hl).call(this),_i(this,Kl,Vl).call(this,[])}}async getAccount(){const{accounts:e}=await this.getProvider();return(0,ki.K)(e[0])}async getChainId(){const{chainId:e}=await this.getProvider();return e}async getProvider({chainId:e}={}){return yi(this,Ml)||await _i(this,Ll,Rl).call(this),e&&await this.switchChain(e),yi(this,Ml)}async getWalletClient({chainId:e}={}){const[t,n]=await Promise.all([this.getProvider({chainId:e}),this.getAccount()]),r=this.chains.find((t=>t.id===e));if(!t)throw new Error("provider is required.");return Vo({account:n,chain:r,transport:ea(t)})}async isAuthorized(){try{const[e,t]=await Promise.all([this.getAccount(),this.getProvider()]),n=_i(this,Bl,Gl).call(this);if(!e)return!1;if(n&&t.session){try{await t.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(e){const t=this.chains.find((t=>t.id===e));if(!t)throw new qi(new Error("chain not found on connector."));try{const n=await this.getProvider(),r=_i(this,Xl,Zl).call(this),s=_i(this,Ql,eu).call(this);if(!r.includes(e)&&s.includes(su)){await n.request({method:su,params:[{chainId:(0,to.eC)(t.id),blockExplorerUrls:[t.blockExplorers?.default?.url],chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:[...t.rpcUrls.default.http]}]});const r=_i(this,Jl,Yl).call(this);r.push(e),_i(this,Kl,Vl).call(this,r)}return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,to.eC)(e)}]}),t}catch(e){if(/user rejected request/i.test("string"==typeof e?e:e?.message))throw new Fi(e);throw new qi(e)}}};Ml=new WeakMap,Ul=new WeakMap,Ll=new WeakSet,Rl=async function(){return yi(this,Ul)||"undefined"==typeof window||wi(this,Ul,_i(this,Dl,Fl).call(this)),yi(this,Ul)},Dl=new WeakSet,Fl=async function(){const{EthereumProvider:e,OPTIONAL_EVENTS:t,OPTIONAL_METHODS:r}=await n.e(979).then(n.bind(n,7979)),[s,...i]=this.chains.map((({id:e})=>e));if(s){const{projectId:n,showQrModal:o=!0,qrModalOptions:a,metadata:c,relayUrl:l}=this.options;wi(this,Ml,await e.init({showQrModal:o,qrModalOptions:a,projectId:n,optionalMethods:r,optionalEvents:t,chains:[s],optionalChains:i.length?i:void 0,rpcMap:Object.fromEntries(this.chains.map((e=>[e.id,e.rpcUrls.default.http[0]]))),metadata:c,relayUrl:l}))}},Bl=new WeakSet,Gl=function(){if(_i(this,Ql,eu).call(this).includes(su))return!1;if(!this.options.isNewChainsStale)return!1;const e=_i(this,Jl,Yl).call(this),t=this.chains.map((({id:e})=>e)),n=_i(this,Xl,Zl).call(this);return!(n.length&&!n.some((e=>t.includes(e))))&&!t.every((t=>e.includes(t)))},Wl=new WeakSet,zl=function(){yi(this,Ml)&&(_i(this,ql,Hl).call(this),yi(this,Ml).on("accountsChanged",this.onAccountsChanged),yi(this,Ml).on("chainChanged",this.onChainChanged),yi(this,Ml).on("disconnect",this.onDisconnect),yi(this,Ml).on("session_delete",this.onDisconnect),yi(this,Ml).on("display_uri",this.onDisplayUri),yi(this,Ml).on("connect",this.onConnect))},ql=new WeakSet,Hl=function(){yi(this,Ml)&&(yi(this,Ml).removeListener("accountsChanged",this.onAccountsChanged),yi(this,Ml).removeListener("chainChanged",this.onChainChanged),yi(this,Ml).removeListener("disconnect",this.onDisconnect),yi(this,Ml).removeListener("session_delete",this.onDisconnect),yi(this,Ml).removeListener("display_uri",this.onDisplayUri),yi(this,Ml).removeListener("connect",this.onConnect))},Kl=new WeakSet,Vl=function(e){this.storage?.setItem(ru,e)},Jl=new WeakSet,Yl=function(){return this.storage?.getItem(ru)??[]},Xl=new WeakSet,Zl=function(){if(!yi(this,Ml))return[];const e=yi(this,Ml).session?.namespaces;if(!e)return[];const t=(0,tu.fK)(e),n=t[nu]?.chains?.map((e=>parseInt(e.split(":")[1]||"")));return n??[]},Ql=new WeakSet,eu=function(){if(!yi(this,Ml))return[];const e=yi(this,Ml).session?.namespaces;if(!e)return[];const t=(0,tu.fK)(e),n=t[nu]?.methods;return n??[]};class ou{constructor(e,t){this.wagmi={},this.chains=[],this.namespace="eip155",this.disconnect=bl,this.getAccount=Ol,this.watchAccount=Tl,this.fetchBalance=Pl,this.getNetwork=xl,this.watchNetwork=Il,this.switchNetwork=Cl,this.fetchEnsName=jl,this.fetchEnsAvatar=Al,this.wagmi=e,this.chains=t}getWalletConnectConnector(){const e=this.wagmi.connectors.find((e=>"walletConnect"===e.id));if(!e)throw new Error("WalletConnectConnector is required");return e}async connectWalletConnectProvider(e,t){return await e.getProvider(),new Promise((n=>{e.once("message",(e=>{"display_uri"===e.type&&(t(e.data),n())}))}))}getConnectorById(e){const t=this.wagmi.connectors.find((t=>t.id===e));if(!t)throw new Error(`Connector for id ${e} was not found`);return t}getConnectors(){return this.wagmi.connectors.filter((e=>!e.id.includes("walletConnect")))}async connectWalletConnect(e,t){const n=this.getWalletConnectConnector(),r={connector:n};return t&&(r.chainId=t),Promise.all([gl(r),this.connectWalletConnectProvider(n,e)])}async connectConnector(e,t){const n={connector:this.getConnectorById(e)};return t&&(n.chainId=t),await gl(n)}isInjectedProviderInstalled(){return typeof window.ethereum<"u"}safeCheckInjectedProvider(e){var t;try{const n=String(e);return Boolean(null==(t=window.ethereum)?void 0:t[n])}catch(e){return console.error(e),!1}}async getConnectedChainIds(){var e,t,n;const r=null==(t=null==(e=(await this.getWalletConnectConnector().getProvider()).signer)?void 0:e.session)?void 0:t.namespaces,s=null==(n=r?.[this.namespace])?void 0:n.methods;if(null!=s&&s.includes("wallet_addEthereumChain"))return"ALL";if(r){const e=[];return Object.keys(r).forEach((t=>{t.includes(this.namespace)&&e.push(...r[t].accounts)})),e?.map((e=>e.split(":")[1]))}return"ALL"}}function au({projectId:e}){return function({rpc:e}){return function(t){const n=e(t);return n&&""!==n.http?{chain:{...t,rpcUrls:{...t.rpcUrls,default:{http:[n.http]}}},rpcUrls:{http:[n.http],webSocket:n.webSocket?[n.webSocket]:void 0}}:null}}({rpc:t=>{var n;return[1,3,4,5,10,42,56,69,97,100,137,280,324,420,42161,42220,43114,80001,421611,421613,1313161554,1313161555].includes(t.id)?{http:`https://rpc.walletconnect.com/v1/?chainId=eip155:${t.id}&projectId=${e}`}:{http:t.rpcUrls.default.http[0],webSocket:null==(n=t.rpcUrls.default.webSocket)?void 0:n[0]}}})}function cu({chains:e,projectId:t}){return[new iu({chains:e,options:{projectId:t,showQrModal:!1}}),new na({chains:e,options:{shimDisconnect:!0}})]}var lu=n(9015);class uu{constructor(e,t){this.openModal=lu.jb.open,this.closeModal=lu.jb.close,this.subscribeModal=lu.jb.subscribe,this.setTheme=lu.ThemeCtrl.setThemeConfig,this.setDefaultChain=lu.OptionsCtrl.setSelectedChain,this.subscribeEvents=lu.uA.subscribe,lu.ThemeCtrl.setThemeConfig(e),lu.Id.setEthereumClient(t),lu.ConfigCtrl.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.all([n.e(152),n.e(968)]).then(n.bind(n,7968));const e=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",e),lu.OptionsCtrl.setIsUiLoaded(!0)}}}const hu=new class extends o{web3modal;_resolveConnection;connected=!1;get address(){return Ol().address}constructor(){super(),this.addAllowedEvents("accountChanged")}init(e){const t=[$l],{publicClient:n}=Jc(t,[au({projectId:e})]),r=function(e){const t=new pl(e);return dl=t,t}({autoConnect:!0,connectors:cu({projectId:e,chains:t}),publicClient:n}),s=new ou(r,t);this.web3modal=new uu({projectId:e,themeMode:"dark",themeVariables:{"--w3m-accent-color":"#5a65ea","--w3m-background-color":"#1e1f23","--w3m-z-index":"999999"}},s),this.connected=void 0!==this.address;let i=this.address;Tl((e=>{this.connected=void 0!==e.address,this.connected&&this._resolveConnection&&this._resolveConnection(),i!==e.address&&(this.fireEvent("accountChanged"),i=e.address)}))}async signMessage(e){if(!this.address)throw new Error("Wallet is not connected");return await async function(e){const t=await _l();if(!t)throw new hi;return await t.signMessage({message:e.message})}({message:e})}};const du=new class{messageForWalletLinking;init(e){this.messageForWalletLinking=e}async link(){const e=hu.address;if(!e)throw new Error("Wallet is not connected");const{data:t,error:n}=await Us.client.functions.invoke("new-wallet-linking-nonce",{body:{walletAddress:e}});if(n)throw n;const r=await hu.signMessage(`${this.messageForWalletLinking}\n\nNonce: ${t.nonce}`),{error:s}=await Us.client.functions.invoke("link-wallet-to-user",{body:{walletAddress:e,signedMessage:r}});if(s)throw s}};async function fu(e){Ws.dev=e.dev,sessionStorage.__spa_path&&(f.goNoHistory(sessionStorage.__spa_path),sessionStorage.removeItem("__spa_path")),Us.connect(e.supabaseUrl,e.supabaseAnonKey),[ei].forEach((e=>e.init())),hu.init(e.walletConnectProjectId),du.init(e.messageForWalletLinking);const t=new k(y("img",{src:"/images/igloo-character.png"}));await Promise.all([zs.fetchUserOnInit(),bn.loadYAMLs({en:["/locales/en.yml"]})]),t.delete(),f.route("**",Vs),f.route("",ii),f.route("inbox",oi),f.route("explore",Js),f.route("notifications",ai),f.route("settings",ci),f.route("{xUsername}",li,["inbox","explore","notifications","settings"])}Fs().extend(Gs())},1831:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var r=n(2478);await(0,r.Z)({dev:!1,supabaseUrl:"https://diffcrvgnspbzzbqwtvt.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpZmZjcnZnbnNwYnp6YnF3dHZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY3MzU2MjIsImV4cCI6MjAxMjMxMTYyMn0.CtVuTA_yY1t6zQ4NUZJUWEp7aDG2JBpR_6SFdU3vNJg",walletConnectProjectId:"53ce7f51ed886a719bf634b25061f424",messageForWalletLinking:"Link Wallet to Igloo"}),t()}catch(e){t(e)}}),1)},5883:()=>{},9015:(e,t,n)=>{"use strict";n.d(t,{AccountCtrl:()=>S,Id:()=>m,ConfigCtrl:()=>_,zv:()=>f,uA:()=>b,ExplorerCtrl:()=>G,jb:()=>H,OptionsCtrl:()=>v,AV:()=>d,ThemeCtrl:()=>Q,ToastCtrl:()=>te,WcConnectionCtrl:()=>z});var r=n(6600);const s=e=>"object"==typeof e&&null!==e,i=new WeakMap,o=new WeakSet,a=(e=Object.is,t=((e,t)=>new Proxy(e,t)),n=(e=>s(e)&&!o.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)),a=(e=>e.configurable&&e.enumerable&&e.writable),c=(e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}}),l=new WeakMap,u=((e,t,n=c)=>{const s=l.get(e);if((null==s?void 0:s[0])===t)return s[1];const a=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return(0,r.jc)(a,!0),l.set(e,[t,a]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(a,t))return;const s=Reflect.get(e,t),c={value:s,enumerable:!0,configurable:!0};if(o.has(s))(0,r.jc)(s,!1);else if(s instanceof Promise)delete c.value,c.get=()=>n(s);else if(i.has(s)){const[e,t]=i.get(s);c.value=u(e,t(),n)}Object.defineProperty(a,t,c)})),Object.preventExtensions(a)}),h=new WeakMap,d=[1,1],f=(c=>{if(!s(c))throw new Error("object required");const l=h.get(c);if(l)return l;let p=d[0];const m=new Set,g=(e,t=++d[0])=>{p!==t&&(p=t,m.forEach((n=>n(e,t))))};let b=d[1];const y=e=>(t,n)=>{const r=[...t];r[1]=[e,...r[1]],g(r,n)},v=new Map,w=e=>{var t;const n=v.get(e);n&&(v.delete(e),null==(t=n[1])||t.call(n))},_=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),E=(t,a,c,l,u)=>{if(t&&(e(a,l)||h.has(l)&&e(a,h.get(l))))return;w(c),s(l)&&(l=(0,r.o5)(l)||l);let d=l;if(l instanceof Promise)l.then((e=>{l.status="fulfilled",l.value=e,g(["resolve",[c],e])})).catch((e=>{l.status="rejected",l.reason=e,g(["reject",[c],e])}));else{!i.has(l)&&n(l)&&(d=f(l));const e=!o.has(d)&&i.get(d);e&&((e,t)=>{if(v.has(e))throw new Error("prop listener already exists");if(m.size){const n=t[3](y(e));v.set(e,[t,n])}else v.set(e,[t])})(c,e)}u(d),g(["set",[c],l,a])},k=t(_,{deleteProperty(e,t){const n=Reflect.get(e,t);w(t);const r=Reflect.deleteProperty(e,t);return r&&g(["delete",[t],n]),r},set(e,t,n,r){const s=Reflect.has(e,t),i=Reflect.get(e,t,r);return E(s,i,t,n,(n=>{Reflect.set(e,t,n,r)})),!0},defineProperty(e,t,n){if(a(n)){const r=Reflect.getOwnPropertyDescriptor(e,t);if(!r||a(r))return E(!!r&&"value"in r,null==r?void 0:r.value,t,n.value,(r=>{Reflect.defineProperty(e,t,{...n,value:r})})),!0}return Reflect.defineProperty(e,t,n)}});h.set(c,k);const S=[_,(e=++d[1])=>(b===e||m.size||(b=e,v.forEach((([t])=>{const n=t[1](e);n>p&&(p=n)}))),p),u,e=>{m.add(e),1===m.size&&v.forEach((([e,t],n)=>{if(t)throw new Error("remove already exists");const r=e[3](y(n));v.set(n,[e,r])}));return()=>{m.delete(e),0===m.size&&v.forEach((([e,t],n)=>{t&&(t(),v.set(n,[e]))}))}}];return i.set(k,S),Reflect.ownKeys(c).forEach((e=>{const t=Object.getOwnPropertyDescriptor(c,e);"value"in t&&(k[e]=c[e],delete t.value,delete t.writable),Object.defineProperty(_,e,t)})),k}))=>[f,i,o,e,t,n,a,c,l,u,h,d],[c]=a();function l(e={}){return c(e)}function u(e,t,n){const r=i.get(e);let s;r||console.warn("Please use proxy object");const o=[],a=r[3];let c=!1;const l=a((e=>{o.push(e),n?t(o.splice(0)):s||(s=Promise.resolve().then((()=>{s=void 0,c&&t(o.splice(0))})))}));return c=!0,()=>{c=!1,l()}}const h=l({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),d={state:h,subscribe:e=>u(h,(()=>e(h))),push(e,t){e!==h.view&&(h.view=e,t&&(h.data=t),h.history.push(e))},reset(e){h.view=e,h.history=[e]},replace(e){h.history.length>1&&(h.history[h.history.length-1]=e,h.view=e)},goBack(){if(h.history.length>1){h.history.pop();const[e]=h.history.slice(-1);h.view=e}},setData(e){h.data=e}},f={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>f.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return f.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,formatNativeUrl(e,t,n){if(f.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);let r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,n){if(!f.isHttpUrl(e))return this.formatNativeUrl(e,t,n);let r=e;r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},wait:async e=>new Promise((t=>{setTimeout(t,e)})),openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(f.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(f.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(f.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setWeb3ModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(f.W3M_VERSION,"2.7.1")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=d.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t},getSwitchNetworkRouterData(){var e;const t=null==(e=d.state.data)?void 0:e.SwitchNetwork;if(!t)throw new Error('Missing "SwitchNetwork" view data');return t},isPreferInjectedFlag:()=>typeof location<"u"&&new URLSearchParams(location.search).has(f.W3M_PREFER_INJECTED_URL_FLAG)};let p;const m={ethereumClient:void 0,setEthereumClient(e){p=e},client(){if(p)return p;throw new Error("ClientCtrl has no client set")}},g=l({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),b={state:g,subscribe:e=>u(g.events,(()=>e(function(e,t){const n=i.get(e);n||console.warn("Please use proxy object");const[r,s,o]=n;return o(r,s(),t)}(g.events[g.events.length-1])))),initialize(){g.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(g.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){g.connectedWalletId=e},click(e){if(g.enabled){const t={type:"CLICK",name:e.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:e};g.events.push(t)}},track(e){if(g.enabled){const t={type:"TRACK",name:e.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:e};g.events.push(t)}},view(e){if(g.enabled){const t={type:"VIEW",name:e.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:e};g.events.push(t)}}},y=l({selectedChain:void 0,chains:void 0,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1}),v={state:y,subscribe:e=>u(y,(()=>e(y))),setChains(e){y.chains=e},getSelectedChain(){const e=m.client().getNetwork().chain;return e&&(y.selectedChain=e),y.selectedChain},setSelectedChain(e){y.selectedChain=e},setIsCustomDesktop(e){y.isCustomDesktop=e},setIsCustomMobile(e){y.isCustomMobile=e},setIsDataLoaded(e){y.isDataLoaded=e},setIsUiLoaded(e){y.isUiLoaded=e},setIsPreferInjected(e){y.isPreferInjected=e}},w=l({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),_={state:w,subscribe:e=>u(w,(()=>e(w))),setConfig(e){var t,n;b.initialize(),v.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),v.setIsCustomDesktop(Boolean(null==(n=e.desktopWallets)?void 0:n.length)),v.setChains(m.client().chains),v.setIsPreferInjected(m.client().isInjectedProviderInstalled()&&f.isPreferInjectedFlag()),e.defaultChain&&v.setSelectedChain(e.defaultChain),f.setWeb3ModalVersionInStorage(),Object.assign(w,e)}},E={async getIdentity(e,t){const{projectId:n}=_.state,r=`https://rpc.walletconnect.com/v1/identity/${e}?chainId=${`eip155:${t}`}&projectId=${n}`;return(await fetch(r)).json()}},k=l({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),S={state:k,subscribe:e=>u(k,(()=>e(k))),getAccount(){const e=m.client().getAccount();k.address=e.address,k.isConnected=e.isConnected},async fetchProfile(e,t){var n;try{k.profileLoading=!0,k.profileName=null,k.profileAvatar=null;const r=t??k.address,s=1,i=null==(n=v.state.chains)?void 0:n.find((e=>e.id===s));if(r&&i){try{const e=await E.getIdentity(r,s);k.profileName=e.name,k.profileAvatar=e.avatar}catch{const e=await m.client().fetchEnsName({address:r,chainId:s});if(k.profileName=e,e){const t=await m.client().fetchEnsAvatar({name:e,chainId:s});k.profileAvatar=t}}k.profileAvatar&&await e(k.profileAvatar)}}finally{k.profileLoading=!1}},async fetchBalance(e){try{const{chain:t}=m.client().getNetwork(),{tokenContracts:n}=_.state;let r;t&&n&&(r=n[t.id]),k.balanceLoading=!0;const s=e??k.address;if(s){const e=await m.client().fetchBalance({address:s,token:r});k.balance={amount:e.formatted,symbol:e.symbol}}}finally{k.balanceLoading=!1}},setAddress(e){k.address=e},setIsConnected(e){k.isConnected=e},resetBalance(){k.balance=void 0},resetAccount(){k.address=void 0,k.isConnected=!1,k.profileName=void 0,k.profileAvatar=void 0,k.balance=void 0}};var P=Object.defineProperty,O=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,T=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const I="https://explorer-api.walletconnect.com",A="w3m",j="js-2.7.1";async function N(e,t){const n=((e,t)=>{for(var n in t||(t={}))x.call(t,n)&&T(e,n,t[n]);if(O)for(var n of O(t))C.call(t,n)&&T(e,n,t[n]);return e})({sdkType:A,sdkVersion:j},t),r=new URL(e,I);return r.searchParams.append("projectId",_.state.projectId),Object.entries(n).forEach((([e,t])=>{t&&r.searchParams.append(e,String(t))})),(await fetch(r)).json()}const $={getDesktopListings:async e=>N("/w3m/v1/getDesktopListings",e),getMobileListings:async e=>N("/w3m/v1/getMobileListings",e),getInjectedListings:async e=>N("/w3m/v1/getInjectedListings",e),getAllListings:async e=>N("/w3m/v1/getAllListings",e),getWalletImageUrl:e=>`${I}/w3m/v1/getWalletImage/${e}?projectId=${_.state.projectId}&sdkType=${A}&sdkVersion=${j}`,getAssetImageUrl:e=>`${I}/w3m/v1/getAssetImage/${e}?projectId=${_.state.projectId}&sdkType=${A}&sdkVersion=${j}`};var M=Object.defineProperty,U=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const F=f.isMobile(),B=l({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),G={state:B,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=_.state;if("NONE"===e||"ALL"===t&&!e)return B.recomendedWallets;if(f.isArray(e)){const t={recommendedIds:e.join(",")},{listings:n}=await $.getAllListings(t),r=Object.values(n);r.sort(((t,n)=>e.indexOf(t.id)-e.indexOf(n.id))),B.recomendedWallets=r}else{const e=f.isArray(t),n={page:1,entries:f.RECOMMENDED_WALLET_AMOUNT,version:2,excludedIds:e?t.join(","):void 0},{listings:r}=F?await $.getMobileListings(n):await $.getDesktopListings(n);B.recomendedWallets=Object.values(r)}return B.recomendedWallets},async getWallets(e){const t=((e,t)=>{for(var n in t||(t={}))L.call(t,n)&&D(e,n,t[n]);if(U)for(var n of U(t))R.call(t,n)&&D(e,n,t[n]);return e})({},e),{explorerRecommendedWalletIds:n,explorerExcludedWalletIds:r}=_.state,{recomendedWallets:s}=B;if("ALL"===r)return B.wallets;s.length?t.excludedIds=s.map((e=>e.id)).join(","):f.isArray(n)&&(t.excludedIds=n.join(",")),f.isArray(r)&&(t.excludedIds=[t.excludedIds,r].filter(Boolean).join(","));const{page:i,search:o}=e,{listings:a,total:c}=F?await $.getMobileListings(t):await $.getDesktopListings(t),l=Object.values(a),u=o?"search":"wallets";return B[u]={listings:[...B[u].listings,...l],total:c,page:i??1},{listings:l,total:c}},async getInjectedWallets(){const{listings:e}=await $.getInjectedListings({}),t=Object.values(e);return B.injectedWallets=t,B.injectedWallets},getWalletImageUrl:e=>$.getWalletImageUrl(e),getAssetImageUrl:e=>$.getAssetImageUrl(e),resetSearch(){B.search={listings:[],total:0,page:1}}},W=l({pairingEnabled:!1,pairingUri:"",pairingError:!1}),z={state:W,subscribe:e=>u(W,(()=>e(W))),setPairingUri(e){W.pairingUri=e},setPairingError(e){W.pairingError=e},setPairingEnabled(e){W.pairingEnabled=e}},q=l({open:!1}),H={state:q,subscribe:e=>u(q,(()=>e(q))),open:async e=>new Promise((t=>{const{isUiLoaded:n,isDataLoaded:r,isPreferInjected:s,selectedChain:i}=v.state,{isConnected:o}=S.state,{enableNetworkView:a}=_.state;if(z.setPairingEnabled(!0),o||f.removeWalletConnectDeepLink(),null!=e&&e.route)d.reset(e.route);else if(o)d.reset("Account");else if(a)d.reset("SelectNetwork");else{if(s)return m.client().connectConnector("injected",i?.id).catch((e=>console.error(e))),void t();d.reset("ConnectWallet")}const{pairingUri:c}=z.state;if(n&&r&&(c||o))q.open=!0,t();else{const e=setInterval((()=>{const n=v.state,r=z.state;n.isUiLoaded&&n.isDataLoaded&&(r.pairingUri||o)&&(clearInterval(e),q.open=!0,t())}),200)}})),close(){q.open=!1}};var K=Object.defineProperty,V=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Z=l({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),Q={state:Z,subscribe:e=>u(Z,(()=>e(Z))),setThemeConfig(e){const{themeMode:t,themeVariables:n}=e;t&&(Z.themeMode=t),n&&(Z.themeVariables=((e,t)=>{for(var n in t||(t={}))J.call(t,n)&&X(e,n,t[n]);if(V)for(var n of V(t))Y.call(t,n)&&X(e,n,t[n]);return e})({},n))}},ee=l({open:!1,message:"",variant:"success"}),te={state:ee,subscribe:e=>u(ee,(()=>e(ee))),openToast(e,t){ee.open=!0,ee.message=e,ee.variant=t},closeToast(){ee.open=!1}}},3160:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(6867);function s(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},605:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(3160),s=n(6867);function i(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=(0,r.E)(t);let i=0;for(const t of e)n.set(t,i),i+=t.length;return(0,s.P)(n)}},2217:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(5114),s=n(6867);function i(e,t="utf8"){const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):(0,s.P)(globalThis.Buffer.from(e,"utf-8"))}},7466:(e,t,n)=>{"use strict";n.d(t,{BB:()=>i.B,mL:()=>s.m,zo:()=>r.z});var r=n(605),s=n(2217),i=n(2263)},2263:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var r=n(5114);function s(e,t="utf8"){const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},6867:(e,t,n)=>{"use strict";function r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}n.d(t,{P:()=>r})},5114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ze});var r={};n.r(r),n.d(r,{identity:()=>C});var s={};n.r(s),n.d(s,{base2:()=>T});var i={};n.r(i),n.d(i,{base8:()=>I});var o={};n.r(o),n.d(o,{base10:()=>A});var a={};n.r(a),n.d(a,{base16:()=>j,base16upper:()=>N});var c={};n.r(c),n.d(c,{base32:()=>$,base32hex:()=>R,base32hexpad:()=>F,base32hexpadupper:()=>B,base32hexupper:()=>D,base32pad:()=>U,base32padupper:()=>L,base32upper:()=>M,base32z:()=>G});var l={};n.r(l),n.d(l,{base36:()=>W,base36upper:()=>z});var u={};n.r(u),n.d(u,{base58btc:()=>q,base58flickr:()=>H});var h={};n.r(h),n.d(h,{base64:()=>K,base64pad:()=>V,base64url:()=>J,base64urlpad:()=>Y});var d={};n.r(d),n.d(d,{base256emoji:()=>ee});var f={};n.r(f),n.d(f,{sha256:()=>Pe,sha512:()=>Oe});var p={};n.r(p),n.d(p,{identity:()=>Ce});var m={};n.r(m),n.d(m,{code:()=>Ie,decode:()=>je,encode:()=>Ae,name:()=>Te});var g={};n.r(g),n.d(g,{code:()=>Ue,decode:()=>Re,encode:()=>Le,name:()=>Me});var b=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(255!==n[o])throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,s=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*l+1>>>0,o=new Uint8Array(i);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=i-1;(0!==u||h<s)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");s=h,t++}if(" "!==e[t]){for(var f=i-s;f!==i&&0===o[f];)f++;for(var p=new Uint8Array(r+(i-f)),m=r;f!==i;)p[m++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,s=0,i=t.length;s!==i&&0===t[s];)s++,n++;for(var o=(i-s)*u+1>>>0,l=new Uint8Array(o);s!==i;){for(var h=t[s],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,s++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var m=c.repeat(n);p<o;++p)m+=e.charAt(l[p]);return m},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error(`Non-${t} character`)}}};const y=b,v=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class w{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class _{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return k(this,e)}}class E{constructor(e){this.decoders=e}or(e){return k(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const k=(e,t)=>new E({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class S{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new w(e,t,n),this.decoder=new _(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const P=({name:e,prefix:t,encode:n,decode:r})=>new S(e,t,n,r),O=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=y(n,t);return P({prefix:e,name:t,encode:r,decode:e=>v(s(e))})},x=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>P({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],s=(1<<n)-1;let i="",o=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const s={};for(let e=0;e<t.length;++e)s[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let t=0;t<i;++t){const i=s[e[t]];if(void 0===i)throw new SyntaxError(`Non-${r} character`);c=c<<n|i,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,r,n,e)}),C=P({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),T=x({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),I=x({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),A=O({prefix:"9",name:"base10",alphabet:"0123456789"}),j=x({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),N=x({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),$=x({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),M=x({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),U=x({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),L=x({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),R=x({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),D=x({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),F=x({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),B=x({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),G=x({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),W=O({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),z=O({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),q=O({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),H=O({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),K=x({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),V=x({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),J=x({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Y=x({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),X=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Z=X.reduce(((e,t,n)=>(e[n]=t,e)),[]),Q=X.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const ee=P({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=Z[t]),"")},decode:function(e){const t=[];for(const n of e){const e=Q[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var te=function e(t,n,r){n=n||[];var s=r=r||0;for(;t>=se;)n[r++]=255&t|ne,t/=128;for(;t&re;)n[r++]=255&t|ne,t>>>=7;return n[r]=0|t,e.bytes=r-s+1,n},ne=128,re=-128,se=Math.pow(2,31);var ie=function e(t,n){var r,s=0,i=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],s+=i<28?(r&ae)<<i:(r&ae)*Math.pow(2,i),i+=7}while(r>=oe);return e.bytes=o-n,s},oe=128,ae=127;var ce=Math.pow(2,7),le=Math.pow(2,14),ue=Math.pow(2,21),he=Math.pow(2,28),de=Math.pow(2,35),fe=Math.pow(2,42),pe=Math.pow(2,49),me=Math.pow(2,56),ge=Math.pow(2,63);const be={encode:te,decode:ie,encodingLength:function(e){return e<ce?1:e<le?2:e<ue?3:e<he?4:e<de?5:e<fe?6:e<pe?7:e<me?8:e<ge?9:10}},ye=(e,t,n=0)=>(be.encode(e,t,n),t),ve=e=>be.encodingLength(e),we=(e,t)=>{const n=t.byteLength,r=ve(e),s=r+ve(n),i=new Uint8Array(s+n);return ye(e,i,0),ye(n,i,r),i.set(t,s),new _e(e,n,t,i)};class _e{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Ee=({name:e,code:t,encode:n})=>new ke(e,t,n);class ke{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?we(this.code,t):t.then((e=>we(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Se=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Pe=Ee({name:"sha2-256",code:18,encode:Se("SHA-256")}),Oe=Ee({name:"sha2-512",code:19,encode:Se("SHA-512")}),xe=v,Ce={code:0,name:"identity",encode:xe,digest:e=>we(0,xe(e))},Te="raw",Ie=85,Ae=e=>v(e),je=e=>v(e),Ne=new TextEncoder,$e=new TextDecoder,Me="json",Ue=512,Le=e=>Ne.encode(JSON.stringify(e)),Re=e=>JSON.parse($e.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const De={...r,...s,...i,...o,...a,...c,...l,...u,...h,...d};var Fe=n(3160);function Be(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Ge=Be("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),We=Be("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=(0,Fe.E)(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),ze={utf8:Ge,"utf-8":Ge,hex:De.base16,latin1:We,ascii:We,binary:We,...De}},4503:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}n.d(t,{T:()=>r})},6143:(e,t,n)=>{"use strict";n.d(t,{R:()=>v});var r=n(4503),s=n(6693);const i="0x82ad56cb";var o=n(2027),a=n(377),c=n(5980),l=n(7210),u=n(7799),h=n(2676),d=n(2106),f=n(6445),p=n(7469);var m=n(1163),g=n(4688),b=n(2357),y=n(7531);async function v(e,t){const{account:v=e.account,batch:w=Boolean(e.batch?.multicall),blockNumber:_,blockTag:E="latest",accessList:k,data:S,gas:P,gasPrice:O,maxFeePerGas:x,maxPriorityFeePerGas:C,nonce:T,to:I,value:A,...j}=t,N=v?(0,r.T)(v):void 0;try{(0,y.F)(t);const n=(_?(0,d.eC)(_):void 0)||E,r=e.chain?.formatters?.transactionRequest?.format||g.tG,o=r({...(0,m.K)(j,{format:r}),from:N?.address,accessList:k,data:S,gas:P,gasPrice:O,maxFeePerGas:x,maxPriorityFeePerGas:C,nonce:T,to:I,value:A});if(w&&function({request:e}){const{data:t,to:n,...r}=e;return!!t&&(!t.startsWith(i)&&(!!n&&!(Object.values(r).filter((e=>void 0!==e)).length>0)))}({request:o}))try{return await async function(e,t){const{batchSize:n=1024,wait:r=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:i,blockTag:o="latest",data:f,multicallAddress:p,to:m}=t;let g=p;if(!g){if(!e.chain)throw new a.pZ;g=(0,h.LI)({blockNumber:i,chain:e.chain,contract:"multicall3"})}const y=i?(0,d.eC)(i):void 0,v=y||o,{schedule:w}=(0,b.S)({id:`${e.uid}.${v}`,wait:r,shouldSplitBatch(e){const t=e.reduce(((e,{data:t})=>e+(t.length-2)),0);return t>2*n},fn:async t=>{const n=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),r=(0,u.R)({abi:s.F8,args:[n],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{data:r,to:g},v]});return(0,l.k)({abi:s.F8,args:[n],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:_,success:E}]=await w({data:f,to:m});if(!E)throw new c.VQ({data:_});return"0x"===_?{data:void 0}:{data:_}}(e,{...o,blockNumber:_,blockTag:E})}catch(e){if(!(e instanceof a.pZ||e instanceof a.mm))throw e}const f=await e.request({method:"eth_call",params:n?[o,n]:[o]});return"0x"===f?{data:void 0}:{data:f}}catch(r){const s=function(e){if(!(e instanceof o.G))return;const t=e.walk();return"object"==typeof t.data?t.data.data:t.data}(r),{offchainLookup:i,offchainLookupSignature:a}=await n.e(770).then(n.bind(n,9770));if(s?.slice(0,10)===a&&I)return{data:await i(e,{data:s,to:I})};throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,p.k)(e,n);return t instanceof f.cj?e:t})();return new c.cg(r,{docsPath:t,...n})}(r,{...t,account:N,chain:e.chain})}}},6693:(e,t,n)=>{"use strict";n.d(t,{$o:()=>l,F8:()=>r,X$:()=>c,du:()=>o,k3:()=>i,nZ:()=>a});const r=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],s=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],i=[...s,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],o=[...s,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],a=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],c=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],l=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}]},1746:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,Up:()=>s,hZ:()=>i});const r={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},s={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},i={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},4192:(e,t,n)=>{"use strict";n.d(t,{Bd:()=>i,Zn:()=>s,ez:()=>r});const r={gwei:9,wei:18},s={ether:-9,wei:9},i={ether:-18,gwei:-9}},7412:(e,t,n)=>{"use strict";n.d(t,{CI:()=>k,FM:()=>p,Gy:()=>_,KY:()=>v,M4:()=>h,MX:()=>y,SM:()=>w,cO:()=>a,dh:()=>E,fM:()=>o,fs:()=>d,gr:()=>u,hn:()=>S,lC:()=>m,mv:()=>g,wM:()=>P,wb:()=>l,xB:()=>c,xL:()=>b,yP:()=>f});var r=n(522),s=n(9135),i=n(2027);class o extends i.G{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class a extends i.G{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class c extends i.G{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.h)(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class l extends i.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class u extends i.G{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class h extends i.G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,s.d)(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class d extends i.G{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class f extends i.G{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class p extends i.G{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class m extends i.G{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class g extends i.G{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class b extends i.G{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class y extends i.G{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class v extends i.G{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class w extends i.G{constructor({abiItem:e,data:t,params:n,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.h)(n,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=s}}class _ extends i.G{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,r.t)(e,{includeName:!0})}".`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class E extends i.G{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class k extends i.G{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class S extends i.G{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class P extends i.G{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}},6087:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(2027);class s extends r.G{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}},2027:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var r=n(8673);class s extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,r.bo)()});const n=t.cause instanceof s?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof s&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return i(this,e)}}function i(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?i(e.cause,t):t?null:e}},377:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>o,Yl:()=>i,mm:()=>s,pZ:()=>a});var r=n(2027);class s extends r.G{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class i extends r.G{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id} – ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class o extends r.G{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class a extends r.G{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}},5980:(e,t,n)=>{"use strict";n.d(t,{cg:()=>g,uq:()=>b,Lu:()=>y,Dk:()=>v,VQ:()=>w});var r=n(4503),s=n(1746),i=n(6899),o=n(522),a=n(6070);function c({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map(((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?(0,a.P)(t[n]):t[n]}`)).join(", ")})`}var l=n(840),u=n(9625),h=n(7795),d=n(7412),f=n(2027),p=n(3639),m=n(8673);class g extends f.G{constructor(e,{account:t,docsPath:n,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:m}){const g=t?(0,r.T)(t):void 0,b=(0,p.xr)({from:g?.address,to:f,value:void 0!==m&&`${(0,u.d)(m)} ${s?.nativeCurrency.symbol||"ETH"}`,data:i,gas:o,gasPrice:void 0!==a&&`${(0,h.o)(a)} gwei`,maxFeePerGas:void 0!==c&&`${(0,h.o)(c)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,h.o)(l)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class b extends f.G{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:i,sender:a}){const u=(0,l.m)({abi:t,args:n,name:i}),h=u?c({abiItem:u,args:n,includeFunctionName:!1,includeName:!1}):void 0,d=u?(0,o.t)(u,{includeName:!0}):void 0,f=(0,p.xr)({address:r&&(0,m.CR)(r),function:d,args:h&&"()"!==h&&`${[...Array(i?.length??0).keys()].map((()=>" ")).join("")}${h}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=i,this.sender=a}}class y extends f.G{constructor({abi:e,data:t,functionName:n,message:r}){let a,l,u,h,f;if(t&&"0x"!==t)try{l=(0,i.p)({abi:e,data:t});const{abiItem:n,errorName:r,args:a}=l;if("Error"===r)h=a[0];else if("Panic"===r){const[e]=a;h=s.$[e]}else{const e=n?(0,o.t)(n,{includeName:!0}):void 0,t=n&&a?c({abiItem:n,args:a,includeFunctionName:!1,includeName:!1}):void 0;u=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(e){a=e}else r&&(h=r);a instanceof d.yP&&(f=a.signature,u=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]),super(h&&"execution reverted"!==h||f?[`The contract function "${n}" reverted with the following ${f?"signature":"reason"}:`,h||f].join("\n"):`The contract function "${n}" reverted.`,{cause:a,metaMessages:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.reason=h,this.signature=f}}class v extends f.G{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class w extends f.G{constructor({data:e,message:t}){super(t||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},9760:(e,t,n)=>{"use strict";n.d(t,{$:()=>i,m:()=>s});var r=n(2027);class s extends r.G{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class i extends r.G{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}},7788:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>i,J5:()=>s,M6:()=>o});var r=n(2027);class s extends r.G{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number "${s}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class i extends r.G{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class o extends r.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}},6445:(e,t,n)=>{"use strict";n.d(t,{C_:()=>h,G$:()=>a,Hh:()=>o,M_:()=>i,WF:()=>d,ZI:()=>c,cj:()=>g,cs:()=>m,dR:()=>f,pZ:()=>p,se:()=>u,vU:()=>l});var r=n(7795),s=n(2027);class i extends s.G{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class o extends s.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.o)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class a extends s.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.o)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends s.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends s.G{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends s.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class h extends s.G{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class d extends s.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class f extends s.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends s.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m extends s.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,r.o)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${(0,r.o)(n)} gwei`:""}).`].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class g extends s.G{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}},8863:(e,t,n)=>{"use strict";n.d(t,{Gg:()=>o,W5:()=>l,bs:()=>c,c9:()=>a});var r=n(6070),s=n(2027),i=n(8673);class o extends s.G{constructor({body:e,details:t,headers:n,status:s,url:o}){super("HTTP request failed.",{details:t,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,i.Gr)(o)}`,e&&`Request body: ${(0,r.P)(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=s,this.url=o}}class a extends s.G{constructor({body:e,details:t,url:n}){super("WebSocket request failed.",{details:t,metaMessages:[`URL: ${(0,i.Gr)(n)}`,`Request body: ${(0,r.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class c extends s.G{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,i.Gr)(n)}`,`Request body: ${(0,r.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class l extends s.G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,i.Gr)(t)}`,`Request body: ${(0,r.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}},3639:(e,t,n)=>{"use strict";n.d(t,{Bh:()=>u,Yb:()=>h,j3:()=>c,mc:()=>d,mk:()=>l,xY:()=>a,xr:()=>o});var r=n(9625),s=n(7795),i=n(2027);function o(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),n=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`)).join("\n")}class a extends i.G{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class c extends i.G{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",o(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class l extends i.G{constructor(e,{account:t,docsPath:n,chain:i,data:a,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:d,to:f,value:p}){const m=o({chain:i&&`${i?.name} (id: ${i?.id})`,from:t?.address,to:f,value:void 0!==p&&`${(0,r.d)(p)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:c,gasPrice:void 0!==l&&`${(0,s.o)(l)} gwei`,maxFeePerGas:void 0!==u&&`${(0,s.o)(u)} gwei`,maxPriorityFeePerGas:void 0!==h&&`${(0,s.o)(h)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class u extends i.G{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:s}){let i="Transaction";n&&void 0!==s&&(i=`Transaction at block time "${n}" at index "${s}"`),e&&void 0!==s&&(i=`Transaction at block hash "${e}" at index "${s}"`),t&&void 0!==s&&(i=`Transaction at block number "${t}" at index "${s}"`),r&&(i=`Transaction with hash "${r}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class h extends i.G{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class d extends i.G{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}},8673:(e,t,n)=>{"use strict";n.d(t,{CR:()=>r,Gr:()=>s,bo:()=>i});const r=e=>e,s=e=>e,i=()=>"viem@1.15.3"},4450:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var r=n(7412),s=n(5775),i=n(9135),o=n(3972),a=n(1836),c=n(5946),l=n(5444);function u(e,t){if("0x"===t&&e.length>0)throw new r.wb;if((0,i.d)(t)&&(0,i.d)(t)<32)throw new r.xB({data:t,params:e,size:(0,i.d)(t)});return function({data:e,params:t}){const n=[];let s=0;for(let o=0;o<t.length;o++){if(s>=(0,i.d)(e))throw new r.xB({data:e,params:t,size:(0,i.d)(e)});const a=t[o],{consumed:c,value:l}=h({data:e,param:a,position:s});n.push(l),s+=c}return n}({data:t,params:e})}function h({data:e,param:t,position:n}){const i=(0,l.S)(t.type);if(i){const[r,s]=i;return function(e,{param:t,length:n,position:r}){if(!n){const n=(0,c.ly)((0,o.tP)(e,r,r+32,{strict:!0})),s=(0,c.ly)((0,o.tP)(e,n,n+32,{strict:!0}));let i=0;const a=[];for(let r=0;r<s;++r){const r=h({data:(0,o.tP)(e,n+32),param:t,position:i});i+=r.consumed,a.push(r.value)}return{value:a,consumed:32}}if(d(t)){const s=(0,l.S)(t.type),i=!s?.[0];let a=0;const u=[];for(let s=0;s<n;++s){const n=(0,c.ly)((0,o.tP)(e,r,r+32,{strict:!0})),l=h({data:(0,o.tP)(e,n),param:t,position:i?a:32*s});a+=l.consumed,u.push(l.value)}return{value:u,consumed:32}}let s=0;const i=[];for(let o=0;o<n;++o){const n=h({data:e,param:t,position:r+s});s+=n.consumed,i.push(n.value)}return{value:i,consumed:s}}(e,{length:r,param:{...t,type:s},position:n})}if("tuple"===t.type)return function(e,{param:t,position:n}){const r=0===t.components.length||t.components.some((({name:e})=>!e)),s=r?[]:{};let i=0;if(d(t)){const a=(0,c.ly)((0,o.tP)(e,n,n+32,{strict:!0}));for(let n=0;n<t.components.length;++n){const c=t.components[n],l=h({data:(0,o.tP)(e,a),param:c,position:i});i+=l.consumed,s[r?n:c?.name]=l.value}return{consumed:32,value:s}}for(let o=0;o<t.components.length;++o){const a=t.components[o],c=h({data:e,param:a,position:n+i});i+=c.consumed,s[r?o:a?.name]=c.value}return{consumed:i,value:s}}(e,{param:t,position:n});if("string"===t.type)return function(e,{position:t}){const n=(0,c.ly)((0,o.tP)(e,t,t+32,{strict:!0})),r=(0,c.ly)((0,o.tP)(e,n,n+32,{strict:!0}));if(0===r)return{consumed:32,value:""};const s=(0,c.rR)((0,a.f)((0,o.tP)(e,n+32,n+32+r,{strict:!0})));return{consumed:32,value:s}}(e,{position:n});if(t.type.startsWith("bytes"))return function(e,{param:t,position:n}){const[r,s]=t.type.split("bytes");if(!s){const t=(0,c.ly)((0,o.tP)(e,n,n+32,{strict:!0})),r=(0,c.ly)((0,o.tP)(e,t,t+32,{strict:!0}));if(0===r)return{consumed:32,value:"0x"};return{consumed:32,value:(0,o.tP)(e,t+32,t+32+r,{strict:!0})}}const i=(0,o.tP)(e,n,n+parseInt(s),{strict:!0});return{consumed:32,value:i}}(e,{param:t,position:n});const u=(0,o.tP)(e,n,n+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,{param:t}){const n=t.type.startsWith("int"),r=parseInt(t.type.split("int")[1]||"256");return{consumed:32,value:r>48?(0,c.y_)(e,{signed:n}):(0,c.ly)(e,{signed:n})}}(u,{param:t});if("address"===t.type)return function(e){return{consumed:32,value:(0,s.x)((0,o.tP)(e,-20))}}(u);if("bool"===t.type)return function(e){return{consumed:32,value:(0,c.XA)(e)}}(u);throw new r.CI(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function d(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(d);const n=(0,l.S)(e.type);return!(!n||!d({...e,type:n[1]}))}},6899:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var r=n(1746),s=n(7412),i=n(3972),o=n(552),a=n(4450),c=n(522);function l({abi:e,data:t}){const n=(0,i.tP)(t,0,4);if("0x"===n)throw new s.wb;const l=[...e||[],r.Up,r.hZ].find((e=>"error"===e.type&&n===(0,o.o)((0,c.t)(e))));if(!l)throw new s.yP(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:l,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,a.r)(l.inputs,(0,i.tP)(t,4)):void 0,errorName:l.name}}},7210:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(7412),s=n(4450),i=n(840);const o="/docs/contract/decodeFunctionResult";function a({abi:e,args:t,functionName:n,data:a}){let c=e[0];if(n&&(c=(0,i.m)({abi:e,args:t,name:n}),!c))throw new r.xL(n,{docsPath:o});if("function"!==c.type)throw new r.xL(void 0,{docsPath:o});if(!c.outputs)throw new r.MX(c.name,{docsPath:o});const l=(0,s.r)(c.outputs,a);return l&&l.length>1?l:l&&1===l.length?l[0]:void 0}},5444:(e,t,n)=>{"use strict";n.d(t,{E:()=>h,S:()=>p});var r=n(7412),s=n(6087),i=n(9321),o=n(7040),a=n(1769),c=n(9135),l=n(3972),u=n(2106);function h(e,t){if(e.length!==t.length)throw new r.fs({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(d({param:e[r],value:t[r]}));return n}({params:e,values:t}),s=f(n);return 0===s.length?"0x":s}function d({param:e,value:t}){const n=p(e.type);if(n){const[s,i]=n;return function(e,{length:t,param:n}){const s=null===t;if(!Array.isArray(e))throw new r.hn(e);if(!s&&e.length!==t)throw new r.gr({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const a=[];for(let t=0;t<e.length;t++){const r=d({param:n,value:e[t]});r.dynamic&&(i=!0),a.push(r)}if(s||i){const e=f(a);if(s){const t=(0,u.eC)(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?(0,o.zo)([t,e]):t}}if(i)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,o.zo)(a.map((({encoded:e})=>e)))}}(t,{length:s,param:{...e,type:i}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=d({param:i,value:e[Array.isArray(e)?s:i.name]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?f(r):(0,o.zo)(r.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!(0,i.U)(e))throw new s.b({address:e});return{dynamic:!1,encoded:(0,a.gc)(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){return{dynamic:!1,encoded:(0,a.gc)((0,u.C4)(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){return function(e,{signed:t}){return{dynamic:!1,encoded:(0,u.eC)(e,{size:32,signed:t})}}(t,{signed:e.type.startsWith("int")})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),s=(0,c.d)(e);if(!n){let t=e;return s%32!=0&&(t=(0,a.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,o.zo)([(0,a.gc)((0,u.eC)(s,{size:32})),t])}}if(s!==parseInt(n))throw new r.M4({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:(0,a.gc)(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=(0,u.$G)(e),n=Math.ceil((0,c.d)(t)/32),r=[];for(let e=0;e<n;e++)r.push((0,a.gc)((0,l.tP)(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,o.zo)([(0,a.gc)((0,u.eC)((0,c.d)(t),{size:32})),...r])}}(t);throw new r.dh(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function f(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:s}=e[n];t+=r?32:(0,c.d)(s)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push((0,u.eC)(t+s,{size:32})),r.push(a),s+=(0,c.d)(a)):n.push(a)}return(0,o.zo)([...n,...r])}function p(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},7799:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var r=n(7412),s=n(7040),i=n(552),o=n(5444),a=n(522),c=n(840);function l({abi:e,args:t,functionName:n}){let l=e[0];if(n&&(l=(0,c.m)({abi:e,args:t,name:n}),!l))throw new r.xL(n,{docsPath:"/docs/contract/encodeFunctionData"});if("function"!==l.type)throw new r.xL(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const u=(0,a.t)(l),h=(0,i.o)(u),d="inputs"in l&&l.inputs?(0,o.E)(l.inputs,t??[]):void 0;return(0,s.SM)([h,d??"0x"])}},522:(e,t,n)=>{"use strict";n.d(t,{h:()=>i,t:()=>s});var r=n(7412);function s(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new r.wM(e.type);return`${e.name}(${i(e.inputs,{includeName:t})})`}function i(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${i(e.components,{includeName:t})})${e.type.slice(5)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}},840:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(5102),s=n(4092),i=n(552),o=n(9321);function a({abi:e,args:t=[],name:n}){const o=(0,r.v)(n,{strict:!1}),a=e.filter((e=>o?"function"===e.type?(0,i.o)(e)===n:"event"===e.type&&(0,s.e)(e)===n:"name"in e&&e.name===n));if(0!==a.length){if(1===a.length)return a[0];for(const e of a){if(!("inputs"in e))continue;if(!t||0===t.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==t.length)continue;if(t.every(((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&c(t,r)})))return e}return a[0]}}function c(e,t){const n=typeof e,r=t.type;switch(r){case"address":return(0,o.U)(e);case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every(((t,n)=>c(Object.values(e)[n],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every((e=>c(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))))}}},5775:(e,t,n)=>{"use strict";n.d(t,{K:()=>c,x:()=>a});var r=n(6087),s=n(1187),i=n(4813),o=n(9321);function a(e,t){const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=(0,i.w)((0,s.qX)(n),"bytes"),o=(t?n.substring(`${t}0x`.length):n).split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&o[e]&&(o[e]=o[e].toUpperCase()),(15&r[e>>1])>=8&&o[e+1]&&(o[e+1]=o[e+1].toUpperCase());return`0x${o.join("")}`}function c(e,t){if(!(0,o.U)(e))throw new r.b({address:e});return a(e,t)}},9321:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});const r=/^0x[a-fA-F0-9]{40}$/;function s(e){return r.test(e)}},2676:(e,t,n)=>{"use strict";n.d(t,{LI:()=>o,ax:()=>i,qg:()=>s});var r=n(377);function s({chain:e,currentChainId:t}){if(!e)throw new r.Bk;if(t!==e.id)throw new r.Yl({chain:e,currentChainId:t})}function i(e,t={}){const{fees:n=e.fees,formatters:r=e.formatters,serializers:s=e.serializers}=t;return{...e,fees:n,formatters:r,serializers:s}}function o({blockNumber:e,chain:t,contract:n}){const s=t?.contracts?.[n];if(!s)throw new r.mm({chain:t,contract:{name:n}});if(e&&s.blockCreated&&s.blockCreated>e)throw new r.mm({blockNumber:e,chain:t,contract:{name:n,blockCreated:s.blockCreated}});return s.address}},7040:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e[0]?s(e):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(e)}function s(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}n.d(t,{SM:()=>s,zo:()=>r})},5102:(e,t,n)=>{"use strict";function r(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}n.d(t,{v:()=>r})},1769:(e,t,n)=>{"use strict";n.d(t,{gc:()=>i,vk:()=>s});var r=n(9760);function s(e,{dir:t,size:n=32}={}){return"string"==typeof e?i(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new r.$({size:e.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let r=0;r<n;r++){const i="right"===t;s[i?r:n-r-1]=e[i?r:e.length-r-1]}return s}(e,{dir:t,size:n})}function i(e,{dir:t,size:n=32}={}){if(null===n)return e;const s=e.replace("0x","");if(s.length>2*n)throw new r.$({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s["right"===t?"padEnd":"padStart"](2*n,"0")}`}},9135:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(5102);function s(e){return(0,r.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},3972:(e,t,n)=>{"use strict";n.d(t,{tP:()=>o});var r=n(9760),s=n(5102),i=n(9135);function o(e,t,n,{strict:r}={}){return(0,s.v)(e,{strict:!1})?function(e,t,n,{strict:r}={}){a(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;r&&c(s,t,n);return s}(e,t,n,{strict:r}):function(e,t,n,{strict:r}={}){a(e,t);const s=e.slice(t,n);r&&c(s,t,n);return s}(e,t,n,{strict:r})}function a(e,t){if("number"==typeof t&&t>0&&t>(0,i.d)(e)-1)throw new r.m({offset:t,position:"start",size:(0,i.d)(e)})}function c(e,t,n){if("number"==typeof t&&"number"==typeof n&&(0,i.d)(e)!==n-t)throw new r.m({offset:n,position:"end",size:(0,i.d)(e)})}},1836:(e,t,n)=>{"use strict";function r(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let e=0;e<n.length-1&&"0"===n["left"===t?e:n.length-e-1].toString();e++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}n.d(t,{f:()=>r})},5946:(e,t,n)=>{"use strict";n.d(t,{XA:()=>l,Yf:()=>a,ly:()=>u,rR:()=>h,y_:()=>c});var r=n(7788),s=n(9135),i=n(1836),o=n(1187);function a(e,{size:t}){if((0,s.d)(e)>t)throw new r.M6({givenSize:(0,s.d)(e),maxSize:t})}function c(e,t={}){const{signed:n}=t;t.size&&a(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2;return r<=(1n<<8n*BigInt(s)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function l(e,t={}){let n=e;if(t.size&&(a(n,{size:t.size}),n=(0,i.f)(n)),"0x00"===(0,i.f)(n))return!1;if("0x01"===(0,i.f)(n))return!0;throw new r.Cd(n)}function u(e,t={}){return Number(c(e,t))}function h(e,t={}){let n=(0,o.nr)(e);return t.size&&(a(n,{size:t.size}),n=(0,i.f)(n,{dir:"right"})),(new TextDecoder).decode(n)}},1187:(e,t,n)=>{"use strict";n.d(t,{O0:()=>l,nr:()=>d,qX:()=>f});var r=n(2027),s=n(5102),i=n(1769),o=n(5946),a=n(2106);const c=new TextEncoder;function l(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const n=(0,a.eC)(e,t);return d(n)}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);if(n[0]=Number(e),"number"==typeof t.size)return(0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{size:t.size});return n}(e,t):(0,s.v)(e)?d(e,t):f(e,t)}const u={zero:48,nine:57,A:65,F:70,a:97,f:102};function h(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function d(e,t={}){let n=e;t.size&&((0,o.Yf)(n,{size:t.size}),n=(0,i.vk)(n,{dir:"right",size:t.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,c=new Uint8Array(a);for(let e=0,t=0;e<a;e++){const n=h(s.charCodeAt(t++)),i=h(s.charCodeAt(t++));if(void 0===n||void 0===i)throw new r.G(`Invalid byte sequence ("${s[t-2]}${s[t-1]}" in "${s}").`);c[e]=16*n+i}return c}function f(e,t={}){const n=c.encode(e);return"number"==typeof t.size?((0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}},2106:(e,t,n)=>{"use strict";n.d(t,{$G:()=>d,C4:()=>c,NC:()=>a,ci:()=>l,eC:()=>u});var r=n(7788),s=n(1769),i=n(5946);const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function a(e,t={}){return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?d(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?((0,i.Yf)(n,{size:t.size}),(0,s.vk)(n,{size:t.size})):n}function l(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=o[e[t]];const r=`0x${n}`;return"number"==typeof t.size?((0,i.Yf)(r,{size:t.size}),(0,s.vk)(r,{dir:"right",size:t.size})):r}function u(e,t={}){const{signed:n,size:i}=t,o=BigInt(e);let a;i?a=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c="bigint"==typeof a&&n?-a-1n:0;if(a&&o>a||o<c){const t="bigint"==typeof e?"n":"";throw new r.J5({max:a?`${a}${t}`:void 0,min:`${c}${t}`,signed:n,size:i,value:`${e}${t}`})}const l=`0x${(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16)}`;return i?(0,s.vk)(l,{size:i}):l}const h=new TextEncoder;function d(e,t={}){return l(h.encode(e),t)}},7469:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(2027),s=n(6445);function i(e,t){const n=(e.details||"").toLowerCase(),i=e.walk((e=>e.code===s.M_.code));return i instanceof r.G?new s.M_({cause:e,message:i.details}):s.M_.nodeMessage.test(n)?new s.M_({cause:e,message:e.details}):s.Hh.nodeMessage.test(n)?new s.Hh({cause:e,maxFeePerGas:t?.maxFeePerGas}):s.G$.nodeMessage.test(n)?new s.G$({cause:e,maxFeePerGas:t?.maxFeePerGas}):s.ZI.nodeMessage.test(n)?new s.ZI({cause:e,nonce:t?.nonce}):s.vU.nodeMessage.test(n)?new s.vU({cause:e,nonce:t?.nonce}):s.se.nodeMessage.test(n)?new s.se({cause:e,nonce:t?.nonce}):s.C_.nodeMessage.test(n)?new s.C_({cause:e}):s.WF.nodeMessage.test(n)?new s.WF({cause:e,gas:t?.gas}):s.dR.nodeMessage.test(n)?new s.dR({cause:e,gas:t?.gas}):s.pZ.nodeMessage.test(n)?new s.pZ({cause:e}):s.cs.nodeMessage.test(n)?new s.cs({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new s.cj({cause:e})}},1163:(e,t,n)=>{"use strict";function r(e,{format:t}){if(!t)return{};return Object.keys(t({})).reduce(((t,n)=>(e?.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}n.d(t,{K:()=>r})},4688:(e,t,n)=>{"use strict";n.d(t,{tG:()=>i});var r=n(2106);const s={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function i(e){return{...e,gas:void 0!==e.gas?(0,r.eC)(e.gas):void 0,gasPrice:void 0!==e.gasPrice?(0,r.eC)(e.gasPrice):void 0,maxFeePerGas:void 0!==e.maxFeePerGas?(0,r.eC)(e.maxFeePerGas):void 0,maxPriorityFeePerGas:void 0!==e.maxPriorityFeePerGas?(0,r.eC)(e.maxPriorityFeePerGas):void 0,nonce:void 0!==e.nonce?(0,r.eC)(e.nonce):void 0,type:void 0!==e.type?s[e.type]:void 0,value:void 0!==e.value?(0,r.eC)(e.value):void 0}}},4092:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(1187),s=n(4154);var i=n(4813);const o=e=>{return t=(e=>(0,s.r)(e))(e),(0,i.w)((0,r.O0)(t));var t}},552:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(3972),s=n(1187),i=n(4154),o=n(4813);const a=e=>{return(0,r.tP)((t=(0,i.r)(e),(0,o.w)((0,s.O0)(t))),0,4);var t}},4154:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(522);const s=/((function|event)\s)?(.*)(\((.*)\))/;function i(e){const t=e.match(s),n=t?.[2]||void 0,r=t?.[3];return{type:n,name:r,params:t?.[5]||void 0}}const o=e=>{if("string"==typeof e){const t=i(e).name,n=function(e){const t=i(e).params,n=t?.split(",").map((e=>e.trim().split(" ")));return n?.map((e=>({type:e[0],name:"indexed"===e[1]?e[2]:e[1],..."indexed"===e[1]?{indexed:!0}:{}})))}(e)||[];return`${t}(${n.map((({type:e})=>e)).join(",")})`}return(0,r.t)(e)}},4813:(e,t,n)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function s(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function o(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}n.d(t,{w:()=>L});const a=BigInt(2**32-1),c=BigInt(32);function l(e,t=!1){return t?{h:Number(e&a),l:Number(e>>c&a)}:{h:0|Number(e>>c&a),l:0|Number(e&a)}}function u(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=l(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const h=(e,t,n)=>e<<n|t>>>32-n,d=(e,t,n)=>t<<n|e>>>32-n,f=(e,t,n)=>t<<n-32|e>>>64-n,p=(e,t,n)=>e<<n-32|t>>>64-n;const m=e=>e instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function g(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!m(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class b{clone(){return this._cloneInto()}}const[y,v,w]=[[],[],[]],_=BigInt(0),E=BigInt(1),k=BigInt(2),S=BigInt(7),P=BigInt(256),O=BigInt(113);for(let e=0,t=E,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],y.push(2*(5*r+n)),v.push((e+1)*(e+2)/2%64);let s=_;for(let e=0;e<7;e++)t=(t<<E^(t>>S)*O)%P,t&k&&(s^=E<<(E<<BigInt(e))-E);w.push(s)}const[x,C]=u(w,!0),T=(e,t,n)=>n>32?f(e,t,n):h(e,t,n),I=(e,t,n)=>n>32?p(e,t,n):d(e,t,n);class A extends b{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,r(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,i=n[s],o=n[s+1],a=T(i,o,1)^n[r],c=I(i,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=v[n],i=T(t,s,r),o=I(t,s,r),a=y[n];t=e[a],s=e[a+1],e[a]=i,e[a+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=x[r],e[1]^=C[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){i(this);const{blockLen:t,state:n}=this,r=(e=g(e)).length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let t=0;t<i;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!=(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){i(this,!1),s(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return r(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(o(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new A(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const j=(e,t,n)=>function(e){const t=t=>e().update(g(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new A(t,e,n))),N=j(1,136,32);var $=n(5102),M=n(1187),U=n(2106);function L(e,t){const n=t||"hex",r=N((0,$.v)(e,{strict:!1})?(0,M.O0)(e):e);return"bytes"===n?r:(0,U.NC)(r)}},2357:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});const r=new Map;function s({fn:e,id:t,shouldSplitBatch:n,wait:s=0}){const i=async()=>{const t=a();o();const n=t.map((({args:e})=>e));0!==n.length&&e(n).then((e=>{t.forEach((({pendingPromise:t},n)=>t.resolve?.([e[n],e])))})).catch((e=>{t.forEach((({pendingPromise:t})=>t.reject?.(e)))}))},o=()=>r.delete(t),a=()=>r.get(t)||[],c=e=>r.set(t,[...a(),e]);return{flush:o,async schedule(e){const t={},r=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),o=n?.([...a().map((({args:e})=>e)),e]);o&&i();return a().length>0?(c({args:e,pendingPromise:t}),r):(c({args:e,pendingPromise:t}),setTimeout(i,s),r)}}}},6070:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});const r=(e,t,n)=>JSON.stringify(e,((e,n)=>{const r="bigint"==typeof n?n.toString():n;return"function"==typeof t?t(e,r):r}),n)},7531:(e,t,n)=>{"use strict";n.d(t,{F:()=>c});var r=n(4503),s=n(6087),i=n(6445),o=n(3639),a=n(9321);function c(e){const{account:t,gasPrice:n,maxFeePerGas:c,maxPriorityFeePerGas:l,to:u}=e,h=t?(0,r.T)(t):void 0;if(h&&!(0,a.U)(h.address))throw new s.b({address:h.address});if(u&&!(0,a.U)(u))throw new s.b({address:u});if(void 0!==n&&(void 0!==c||void 0!==l))throw new o.xY;if(c&&c>2n**256n-1n)throw new i.Hh({maxFeePerGas:c});if(l&&c&&l>c)throw new i.cs({maxFeePerGas:c,maxPriorityFeePerGas:l})}},9625:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(4192),s=n(5229);function i(e,t="wei"){return(0,s.b)(e,r.ez[t])}},7795:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(4192),s=n(5229);function i(e,t="wei"){return(0,s.b)(e,r.Zn[t])}},5229:(e,t,n)=>{"use strict";function r(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}n.d(t,{b:()=>r})},9050:e=>{"use strict";e.exports={version:"1.0.34"}}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=a,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},l.a=(s,i,o)=>{var a;o&&((a=[]).d=-1);var c,l,u,h=new Set,d=s.exports,f=new Promise(((e,t)=>{u=t,l=e}));f[t]=d,f[e]=e=>(a&&e(a),h.forEach(e),f.catch((e=>{}))),s.exports=f,i((s=>{var i;c=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var i=[];i.d=0,s.then((e=>{o[t]=e,r(i)}),(e=>{o[n]=e,r(i)}));var o={};return o[e]=e=>e(i),o}}var a={};return a[e]=e=>{},a[t]=s,a})))(s);var o=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(i=()=>t(o)).r=0;var n=e=>e!==a&&!h.has(e)&&(h.add(e),e&&!e.d&&(i.r++,e.push(i)));c.map((t=>t[e](n)))}));return i.r?l:o()}),(e=>(e?u(f[n]=e):l(d),r(a)))),a&&a.d<0&&(a.d=0)},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);l.r(n);var r={};s=s||[null,i({}),i([]),i(i)];for(var o=2&t&&e;"object"==typeof o&&!~s.indexOf(o);o=i(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,l.d(n,r),n},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>e+".js",l.miniCssF=e=>{},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},l.l=(e,t,n,r)=>{if(o[e])o[e].push(t);else{var s,i;if(void 0!==n)for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var u=a[c];if(u.getAttribute("src")==e){s=u;break}}s||(i=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=e),o[e]=[t];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(d);var r=o[e];if(delete o[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),i&&document.head.appendChild(s)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={296:0};l.f.j=(t,n)=>{var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((n,s)=>r=e[t]=[n,s]));n.push(r[2]=s);var i=l.p+l.u(t),o=new Error;l.l(i,(n=>{if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,r[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,[i,o,a]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in o)l.o(o,r)&&(l.m[r]=o[r]);if(a)a(l)}for(t&&t(n);c<i.length;c++)s=i[c],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();l(1831)})();